(function(){function t(t){function e(e,n,i,r,o,s){for(;o>=0&&o<s;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=b(i,o,4);var s=!k(n)&&y.keys(n),a=(s||n).length,l=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[l]:l],l+=t),e(n,i,r,s,l,a)}}function e(t){return function(e,n,i){n=w(n,i);for(var r=$(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function n(t,e,n){return function(i,r,o){var s=0,a=$(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(u.call(i,s,a),y.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}}function i(t,e){var n=A.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)o=A[n],o in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,l=Function.prototype,c=s.push,u=s.slice,d=a.toString,h=a.hasOwnProperty,p=Array.isArray,f=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return w(t,e,1/0)};var _=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;l<a;l++){var c=s[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}},x=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},D=Math.pow(2,53)-1,$=C("length"),k=function(t){var e=$(t);return"number"==typeof e&&e>=0&&e<=D};y.each=y.forEach=function(t,e,n){e=b(e,n);var i,r;if(k(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var i=!k(t)&&y.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;if(i=k(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==i&&i!==-1)return t[i]},y.filter=y.select=function(t,e,n){var i=[];return e=w(e,n),y.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var i=!k(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var i=!k(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return k(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=u.call(arguments,2),i=y.isFunction(e);return y.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,r,o=-(1/0),s=-(1/0);if(null==e&&null!=t){t=k(t)?t:y.values(t);for(var a=0,l=t.length;a<l;a++)i=t[a],i>o&&(o=i)}else e=w(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=t,s=r)});return o},y.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=k(t)?t:y.values(t);for(var a=0,l=t.length;a<l;a++)i=t[a],i<o&&(o=i)}else e=w(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(r<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},y.shuffle=function(t){for(var e,n=k(t)?t:y.values(t),i=n.length,r=Array(i),o=0;o<i;o++)e=y.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(k(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=w(e,n),y.pluck(y.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var T=function(t){return function(e,n,i){var r={};return n=w(n,i),y.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};y.groupBy=T(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=T(function(t,e,n){t[n]=e}),y.countBy=T(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?u.call(t):k(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:k(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=w(e,n);var i=[],r=[];return y.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var S=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=$(t);s<a;s++){var l=t[s];if(k(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=S(l,e,n));var c=0,u=l.length;for(r.length+=u;c<u;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};y.flatten=function(t,e){return S(t,e,!1)},y.without=function(t){return y.difference(t,u.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=w(n,i));for(var r=[],o=[],s=0,a=$(t);s<a;s++){var l=t[s],c=n?n(l,s,t):l;e?(s&&o===c||r.push(l),o=c):n?y.contains(o,c)||(o.push(c),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(S(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=$(t);i<r;i++){var o=t[i];if(!y.contains(e,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=S(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,$).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=$(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){n=w(n,i,1);for(var r=n(e),o=0,s=$(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var M=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=x(t.prototype),s=t.apply(o,r);return y.isObject(s)?s:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,u.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),i=function(){return M(t,i,e,this,n.concat(u.call(arguments)))};return i},y.partial=function(t){var e=u.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;s<r;s++)o[s]=e[s]===y?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return M(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return y.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:y.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var c=y.now();a||n.leading!==!1||(a=c);var u=e-(c-a);return i=this,r=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(l,u)),o}},y.debounce=function(t,e,n){var i,r,o,s,a,l=function(){var c=y.now()-s;c<e&&c>=0?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=y.now();var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(o,r),o=r=null),a}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(f)return f(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return I&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return I&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=w(e,n);for(var i,r=y.keys(t),o=r.length,s={},a=0;a<o;a++)i=r[a],s[i]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=_(y.allKeys),y.extendOwn=y.assign=_(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var i,r=y.keys(t),o=0,s=r.length;o<s;o++)if(i=r[o],e(t[i],i,t))return i},y.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;y.isFunction(e)?(r=y.allKeys(s),i=b(e,n)):(r=S(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var c=r[a],u=s[c];i(u,c,s)&&(o[c]=u)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(S(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=_(y.allKeys,!0),y.create=function(t,e){var n=x(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var E=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=d.call(t);if(r!==d.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!E(t[l],e[l],n,i))return!1}else{var c,u=y.keys(t);if(l=u.length,y.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!y.has(e,c)||!E(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return E(t,e)},y.isEmpty=function(t){return null==t||(k(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=p||function(t){return"[object Array]"===d.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&h.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=C,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=y.invert(P),O=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};y.escape=O(P),y.unescape=O(N),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var j=0;y.uniqueId=function(t){var e=++j+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,F=function(t){return"\\"+z[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||L).source,(e.interpolate||L).source,(e.evaluate||L).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(G,F),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,y)},l=e.variable||"obj";return a.source="function("+l+"){\n"+o+"}",a},y.chain=function(t){var e=y(t);return e._chain=!0,e};var R=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),R(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],R(this,n)}}),y.each(["concat","join","slice"],function(t){var e=s[t];y.prototype[t]=function(){return R(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}).call(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.s=t()}}(function(){var t;return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){var n=t("./trim"),i=t("./decapitalize");e.exports=function(t,e){return t=n(t).replace(/[-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),e===!0?i(t):t}},{"./decapitalize":10,"./trim":65}],2:[function(t,e){var n=t("./helper/makeString");e.exports=function(t,e){t=n(t);var i=e?t.slice(1).toLowerCase():t.slice(1);return t.charAt(0).toUpperCase()+i}},{"./helper/makeString":20}],3:[function(t,e){var n=t("./helper/makeString");e.exports=function(t){return n(t).split("")}},{"./helper/makeString":20}],4:[function(t,e){e.exports=function(t,e){return null==t?[]:(t=String(t),e=~~e,e>0?t.match(new RegExp(".{1,"+e+"}","g")):[t])}},{}],5:[function(t,e){var n=t("./capitalize"),i=t("./camelize"),r=t("./helper/makeString");e.exports=function(t){return t=r(t),n(i(t.replace(/[\W_]/g," ")).replace(/\s/g,""))}},{"./camelize":1,"./capitalize":2,"./helper/makeString":20}],6:[function(t,e){var n=t("./trim");e.exports=function(t){return n(t).replace(/\s\s+/g," ")}},{"./trim":65}],7:[function(t,e){var n=t("./helper/makeString"),i="\u0105\xe0\xe1\xe4\xe2\xe3\xe5\xe6\u0103\u0107\u010d\u0109\u0119\xe8\xe9\xeb\xea\u011d\u0125\xec\xed\xef\xee\u0135\u0142\u013e\u0144\u0148\xf2\xf3\xf6\u0151\xf4\xf5\xf0\xf8\u015b\u0219\u015f\u0161\u015d\u0165\u021b\u0163\u016d\xf9\xfa\xfc\u0171\xfb\xf1\xff\xfd\xe7\u017c\u017a\u017e",r="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";i+=i.toUpperCase(),r+=r.toUpperCase(),r=r.split(""),i+="\xdf",r.push("ss"),e.exports=function(t){return n(t).replace(/.{1}/g,function(t){var e=i.indexOf(t);return e===-1?t:r[e]})}},{"./helper/makeString":20}],8:[function(t,e){var n=t("./helper/makeString");e.exports=function(t,e){return t=n(t),e=n(e),0===t.length||0===e.length?0:t.split(e).length-1}},{"./helper/makeString":20}],9:[function(t,e){var n=t("./trim");e.exports=function(t){return n(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":65}],10:[function(t,e){var n=t("./helper/makeString");e.exports=function(t){return t=n(t),t.charAt(0).toLowerCase()+t.slice(1)}},{"./helper/makeString":20}],11:[function(t,e){function n(t){for(var e=t.match(/^[\s\\t]*/gm),n=e[0].length,i=1;i<e.length;i++)n=Math.min(e[i].length,n);return n}var i=t("./helper/makeString");e.exports=function(t,e){t=i(t);var r,o=n(t);return 0===o?t:(r="string"==typeof e?new RegExp("^"+e,"gm"):new RegExp("^[ \\t]{"+o+"}","gm"),t.replace(r,""))}},{"./helper/makeString":20}],12:[function(t,e){var n=t("./helper/makeString"),i=t("./helper/toPositive");e.exports=function(t,e,r){return t=n(t),e=""+e,r="undefined"==typeof r?t.length-e.length:Math.min(i(r),t.length)-e.length,r>=0&&t.indexOf(e,r)===r}},{"./helper/makeString":20,"./helper/toPositive":22}],13:[function(t,e){var n=t("./helper/makeString"),i=t("./helper/escapeChars"),r="[";for(var o in i)r+=o;r+="]";var s=new RegExp(r,"g");e.exports=function(t){return n(t).replace(s,function(t){return"&"+i[t]+";"})}},{"./helper/escapeChars":17,"./helper/makeString":20}],14:[function(t,e){e.exports=function(){var t={};for(var e in this)this.hasOwnProperty(e)&&!e.match(/^(?:include|contains|reverse|join|map|wrap)$/)&&(t[e]=this[e]);return t}},{}],15:[function(t,e){var n=t("./makeString");e.exports=function(t,e){return t=n(t),0===t.length?"":t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+e)}},{"./makeString":20}],16:[function(t,e){var n=t("./escapeRegExp");e.exports=function(t){return null==t?"\\s":t.source?t.source:"["+n(t)+"]"}},{"./escapeRegExp":18}],17:[function(t,e){var n={"\xa2":"cent","\xa3":"pound","\xa5":"yen","\u20ac":"euro","\xa9":"copy","\xae":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};e.exports=n},{}],18:[function(t,e){var n=t("./makeString");e.exports=function(t){return n(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":20}],19:[function(t,e){var n={nbsp:" ",cent:"\xa2",pound:"\xa3",yen:"\xa5",euro:"\u20ac",copy:"\xa9",reg:"\xae",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};e.exports=n},{}],20:[function(t,e){e.exports=function(t){return null==t?"":""+t}},{}],21:[function(t,e){e.exports=function(t,e){if(e<1)return"";for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n}},{}],22:[function(t,e){e.exports=function(t){return t<0?0:+t||0}},{}],23:[function(t,e){var n=t("./capitalize"),i=t("./underscored"),r=t("./trim");e.exports=function(t){return n(r(i(t).replace(/_id$/,"").replace(/_/g," ")))}},{"./capitalize":2,"./trim":65,"./underscored":67}],24:[function(t,e){var n=t("./helper/makeString");e.exports=function(t,e){return""===e||n(t).indexOf(e)!==-1}},{"./helper/makeString":20}],25:[function(t,e){"use strict";function n(t){return this instanceof n?void(this._wrapped=t):new n(t)}function i(t,e){"function"==typeof e&&(n.prototype[t]=function(){var t=[this._wrapped].concat(Array.prototype.slice.call(arguments)),i=e.apply(null,t);return"string"==typeof i?new n(i):i})}function r(t){i(t,function(e){var n=Array.prototype.slice.call(arguments,1);return String.prototype[t].apply(e,n)})}n.VERSION="3.3.4",n.isBlank=t("./isBlank"),n.stripTags=t("./stripTags"),n.capitalize=t("./capitalize"),n.decapitalize=t("./decapitalize"),n.chop=t("./chop"),n.trim=t("./trim"),n.clean=t("./clean"),n.cleanDiacritics=t("./cleanDiacritics"),n.count=t("./count"),n.chars=t("./chars"),n.swapCase=t("./swapCase"),n.escapeHTML=t("./escapeHTML"),n.unescapeHTML=t("./unescapeHTML"),n.splice=t("./splice"),n.insert=t("./insert"),n.replaceAll=t("./replaceAll"),n.include=t("./include"),n.join=t("./join"),n.lines=t("./lines"),n.dedent=t("./dedent"),n.reverse=t("./reverse"),n.startsWith=t("./startsWith"),n.endsWith=t("./endsWith"),n.pred=t("./pred"),n.succ=t("./succ"),n.titleize=t("./titleize"),n.camelize=t("./camelize"),n.underscored=t("./underscored"),n.dasherize=t("./dasherize"),n.classify=t("./classify"),n.humanize=t("./humanize"),n.ltrim=t("./ltrim"),n.rtrim=t("./rtrim"),n.truncate=t("./truncate"),n.prune=t("./prune"),n.words=t("./words"),n.pad=t("./pad"),n.lpad=t("./lpad"),n.rpad=t("./rpad"),n.lrpad=t("./lrpad"),n.sprintf=t("./sprintf"),n.vsprintf=t("./vsprintf"),n.toNumber=t("./toNumber"),n.numberFormat=t("./numberFormat"),n.strRight=t("./strRight"),n.strRightBack=t("./strRightBack"),n.strLeft=t("./strLeft"),n.strLeftBack=t("./strLeftBack"),n.toSentence=t("./toSentence"),n.toSentenceSerial=t("./toSentenceSerial"),n.slugify=t("./slugify"),n.surround=t("./surround"),n.quote=t("./quote"),n.unquote=t("./unquote"),n.repeat=t("./repeat"),n.naturalCmp=t("./naturalCmp"),n.levenshtein=t("./levenshtein"),n.toBoolean=t("./toBoolean"),n.exports=t("./exports"),n.escapeRegExp=t("./helper/escapeRegExp"),n.wrap=t("./wrap"),n.map=t("./map"),n.strip=n.trim,n.lstrip=n.ltrim,n.rstrip=n.rtrim,n.center=n.lrpad,n.rjust=n.lpad,n.ljust=n.rpad,n.contains=n.include,n.q=n.quote,n.toBool=n.toBoolean,n.camelcase=n.camelize,n.mapChars=n.map,n.prototype={value:function(){return this._wrapped}};for(var o in n)i(o,n[o]);i("tap",function(t,e){return e(t)});var s=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var a in s)r(s[a]);e.exports=n},{"./camelize":1,"./capitalize":2,"./chars":3,"./chop":4,"./classify":5,"./clean":6,"./cleanDiacritics":7,"./count":8,"./dasherize":9,"./decapitalize":10,"./dedent":11,"./endsWith":12,"./escapeHTML":13,"./exports":14,"./helper/escapeRegExp":18,"./humanize":23,"./include":24,"./insert":26,"./isBlank":27,"./join":28,"./levenshtein":29,"./lines":30,"./lpad":31,"./lrpad":32,"./ltrim":33,"./map":34,"./naturalCmp":35,"./numberFormat":38,"./pad":39,"./pred":40,"./prune":41,"./quote":42,"./repeat":43,"./replaceAll":44,"./reverse":45,"./rpad":46,"./rtrim":47,"./slugify":48,"./splice":49,"./sprintf":50,"./startsWith":51,"./strLeft":52,"./strLeftBack":53,"./strRight":54,"./strRightBack":55,"./stripTags":56,"./succ":57,"./surround":58,"./swapCase":59,"./titleize":60,"./toBoolean":61,"./toNumber":62,"./toSentence":63,"./toSentenceSerial":64,"./trim":65,"./truncate":66,"./underscored":67,"./unescapeHTML":68,"./unquote":69,"./vsprintf":70,"./words":71,"./wrap":72}],26:[function(t,e){var n=t("./splice");e.exports=function(t,e,i){return n(t,e,0,i)}},{"./splice":49}],27:[function(t,e){var n=t("./helper/makeString");e.exports=function(t){return/^\s*$/.test(n(t))}},{"./helper/makeString":20}],28:[function(t,e){var n=t("./helper/makeString"),i=[].slice;e.exports=function(){var t=i.call(arguments),e=t.shift();return t.join(n(e))}},{"./helper/makeString":20}],29:[function(t,e){var n=t("./helper/makeString");e.exports=function(t,e){"use strict";if(t=n(t),e=n(e),t===e)return 0;if(!t||!e)return Math.max(t.length,e.length);for(var i=new Array(e.length+1),r=0;r<i.length;++r)i[r]=r;for(r=0;r<t.length;++r){for(var o=r+1,s=0;s<e.length;++s){var a=o;o=i[s]+(t.charAt(r)===e.charAt(s)?0:1);var l=a+1;o>l&&(o=l),l=i[s+1]+1,o>l&&(o=l),i[s]=a}i[s]=o}return o}},{"./helper/makeString":20}],30:[function(t,e){e.exports=function(t){return null==t?[]:String(t).split(/\r\n?|\n/)}},{}],31:[function(t,e){var n=t("./pad");e.exports=function(t,e,i){return n(t,e,i)}},{"./pad":39}],32:[function(t,e){var n=t("./pad");e.exports=function(t,e,i){return n(t,e,i,"both")}},{"./pad":39}],33:[function(t,e){var n=t("./helper/makeString"),i=t("./helper/defaultToWhiteSpace"),r=String.prototype.trimLeft;e.exports=function(t,e){return t=n(t),!e&&r?r.call(t):(e=i(e),t.replace(new RegExp("^"+e+"+"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],34:[function(t,e){var n=t("./helper/makeString");e.exports=function(t,e){return t=n(t),0===t.length||"function"!=typeof e?t:t.replace(/./g,e)}},{"./helper/makeString":20}],35:[function(t,e){e.exports=function(t,e){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=/(\.\d+|\d+|\D+)/g,i=String(t).match(n),r=String(e).match(n),o=Math.min(i.length,r.length),s=0;s<o;s++){var a=i[s],l=r[s];if(a!==l){var c=+a,u=+l;return c===c&&u===u?c>u?1:-1:a<l?-1:1}}return i.length!=r.length?i.length-r.length:t<e?-1:1}},{}],36:[function(e,n,i){!function(e){function n(){var t=arguments[0],e=n.cache;return e[t]&&e.hasOwnProperty(t)||(e[t]=n.parse(t)),n.format.call(null,e[t],arguments)}function r(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function o(t,e){return Array(e+1).join(t)}var s={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};n.format=function(t,e){var i,a,l,c,u,d,h,p=1,f=t.length,g="",m=[],v=!0,y="";for(a=0;a<f;a++)if(g=r(t[a]),"string"===g)m[m.length]=t[a];else if("array"===g){if(c=t[a],c[2])for(i=e[p],l=0;l<c[2].length;l++){if(!i.hasOwnProperty(c[2][l]))throw new Error(n("[sprintf] property '%s' does not exist",c[2][l]));i=i[c[2][l]]}else i=c[1]?e[c[1]]:e[p++];if("function"==r(i)&&(i=i()),s.not_string.test(c[8])&&s.not_json.test(c[8])&&"number"!=r(i)&&isNaN(i))throw new TypeError(n("[sprintf] expecting number but found %s",r(i)));switch(s.number.test(c[8])&&(v=i>=0),c[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,c[6]?parseInt(c[6]):0);break;case"e":i=c[7]?i.toExponential(c[7]):i.toExponential();break;case"f":i=c[7]?parseFloat(i).toFixed(c[7]):parseFloat(i);break;case"g":i=c[7]?parseFloat(i).toPrecision(c[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&c[7]?i.substring(0,c[7]):i;break;case"u":i>>>=0;break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}s.json.test(c[8])?m[m.length]=i:(!s.number.test(c[8])||v&&!c[3]?y="":(y=v?"+":"-",i=i.toString().replace(s.sign,"")),d=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",h=c[6]-(y+i).length,u=c[6]&&h>0?o(d,h):"",m[m.length]=c[5]?y+i+u:"0"===d?y+u+i:u+y+i)}return m.join("")},n.cache={},n.parse=function(t){for(var e=t,n=[],i=[],r=0;e;){if(null!==(n=s.text.exec(e)))i[i.length]=n[0];else if(null!==(n=s.modulo.exec(e)))i[i.length]="%";else{if(null===(n=s.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){r|=1;var o=[],a=n[2],l=[];if(null===(l=s.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=l[1];""!==(a=a.substring(l[0].length));)if(null!==(l=s.key_access.exec(a)))o[o.length]=l[1];else{if(null===(l=s.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=l[1]}n[2]=o}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i[i.length]=n}e=e.substring(n[0].length)}return i};var a=function(t,e,i){return i=(e||[]).slice(0),i.splice(0,0,t),n.apply(null,i)};"undefined"!=typeof i?(i.sprintf=n,i.vsprintf=a):(e.sprintf=n,e.vsprintf=a,"function"==typeof t&&t.amd&&t(function(){return{sprintf:n,vsprintf:a}}))}("undefined"==typeof window?this:window)},{}],37:[function(t,e){(function(t){function n(t,e){function n(){if(!r){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}if(i("noDeprecation"))return t;var r=!1;return n}function i(e){try{if(!t.localStorage)return!1}catch(t){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(t,e){e.exports=function(t,e,n,i){if(isNaN(t)||null==t)return"";t=t.toFixed(~~e),i="string"==typeof i?i:",";var r=t.split("."),o=r[0],s=r[1]?(n||".")+r[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+s}},{}],39:[function(t,e){var n=t("./helper/makeString"),i=t("./helper/strRepeat");e.exports=function(t,e,r,o){t=n(t),e=~~e;var s=0;switch(r?r.length>1&&(r=r.charAt(0)):r=" ",o){case"right":return s=e-t.length,t+i(r,s);case"both":return s=e-t.length,i(r,Math.ceil(s/2))+t+i(r,Math.floor(s/2));default:return s=e-t.length,i(r,s)+t}}},{"./helper/makeString":20,"./helper/strRepeat":21}],40:[function(t,e){var n=t("./helper/adjacent");e.exports=function(t){return n(t,-1)}},{"./helper/adjacent":15}],41:[function(t,e){var n=t("./helper/makeString"),i=t("./rtrim");e.exports=function(t,e,r){if(t=n(t),e=~~e,r=null!=r?String(r):"...",t.length<=e)return t;var o=function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "},s=t.slice(0,e+1).replace(/.(?=\W*\w*$)/g,o);return s=s.slice(s.length-2).match(/\w\w/)?s.replace(/\s*\S+$/,""):i(s.slice(0,s.length-1)),(s+r).length>t.length?t:t.slice(0,s.length)+r}},{"./helper/makeString":20,"./rtrim":47}],42:[function(t,e){var n=t("./surround");e.exports=function(t,e){return n(t,e||'"')}},{"./surround":58}],43:[function(t,e){var n=t("./helper/makeString"),i=t("./helper/strRepeat");e.exports=function t(e,r,o){if(e=n(e),r=~~r,null==o)return i(e,r);for(var t=[];r>0;t[--r]=e);return t.join(o)}},{"./helper/makeString":20,"./helper/strRepeat":21}],44:[function(t,e){var n=t("./helper/makeString");e.exports=function(t,e,i,r){var o=r===!0?"gi":"g",s=new RegExp(e,o);return n(t).replace(s,i)}},{"./helper/makeString":20}],45:[function(t,e){var n=t("./chars");e.exports=function(t){return n(t).reverse().join("")}},{"./chars":3}],46:[function(t,e){var n=t("./pad");e.exports=function(t,e,i){return n(t,e,i,"right")}},{"./pad":39}],47:[function(t,e){var n=t("./helper/makeString"),i=t("./helper/defaultToWhiteSpace"),r=String.prototype.trimRight;e.exports=function(t,e){return t=n(t),!e&&r?r.call(t):(e=i(e),t.replace(new RegExp(e+"+$"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],48:[function(t,e){var n=t("./trim"),i=t("./dasherize"),r=t("./cleanDiacritics");e.exports=function(t){return n(i(r(t).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},{"./cleanDiacritics":7,"./dasherize":9,"./trim":65}],49:[function(t,e){var n=t("./chars");e.exports=function(t,e,i,r){
var o=n(t);return o.splice(~~e,~~i,r),o.join("")}},{"./chars":3}],50:[function(t,e){var n=t("util-deprecate");e.exports=n(t("sprintf-js").sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.")},{"sprintf-js":36,"util-deprecate":37}],51:[function(t,e){var n=t("./helper/makeString"),i=t("./helper/toPositive");e.exports=function(t,e,r){return t=n(t),e=""+e,r=null==r?0:Math.min(i(r),t.length),t.lastIndexOf(e,r)===r}},{"./helper/makeString":20,"./helper/toPositive":22}],52:[function(t,e){var n=t("./helper/makeString");e.exports=function(t,e){t=n(t),e=n(e);var i=e?t.indexOf(e):-1;return~i?t.slice(0,i):t}},{"./helper/makeString":20}],53:[function(t,e){var n=t("./helper/makeString");e.exports=function(t,e){t=n(t),e=n(e);var i=t.lastIndexOf(e);return~i?t.slice(0,i):t}},{"./helper/makeString":20}],54:[function(t,e){var n=t("./helper/makeString");e.exports=function(t,e){t=n(t),e=n(e);var i=e?t.indexOf(e):-1;return~i?t.slice(i+e.length,t.length):t}},{"./helper/makeString":20}],55:[function(t,e){var n=t("./helper/makeString");e.exports=function(t,e){t=n(t),e=n(e);var i=e?t.lastIndexOf(e):-1;return~i?t.slice(i+e.length,t.length):t}},{"./helper/makeString":20}],56:[function(t,e){var n=t("./helper/makeString");e.exports=function(t){return n(t).replace(/<\/?[^>]+>/g,"")}},{"./helper/makeString":20}],57:[function(t,e){var n=t("./helper/adjacent");e.exports=function(t){return n(t,1)}},{"./helper/adjacent":15}],58:[function(t,e){e.exports=function(t,e){return[e,t,e].join("")}},{}],59:[function(t,e){var n=t("./helper/makeString");e.exports=function(t){return n(t).replace(/\S/g,function(t){return t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()})}},{"./helper/makeString":20}],60:[function(t,e){var n=t("./helper/makeString");e.exports=function(t){return n(t).toLowerCase().replace(/(?:^|\s|-)\S/g,function(t){return t.toUpperCase()})}},{"./helper/makeString":20}],61:[function(t,e){function n(t,e){var n,i,r=t.toLowerCase();for(e=[].concat(e),n=0;n<e.length;n+=1)if(i=e[n]){if(i.test&&i.test(t))return!0;if(i.toLowerCase()===r)return!0}}var i=t("./trim");e.exports=function(t,e,r){return"number"==typeof t&&(t=""+t),"string"!=typeof t?!!t:(t=i(t),!!n(t,e||["true","1"])||!n(t,r||["false","0"])&&void 0)}},{"./trim":65}],62:[function(t,e){e.exports=function(t,e){if(null==t)return 0;var n=Math.pow(10,isFinite(e)?e:0);return Math.round(t*n)/n}},{}],63:[function(t,e){var n=t("./rtrim");e.exports=function(t,e,i,r){e=e||", ",i=i||" and ";var o=t.slice(),s=o.pop();return t.length>2&&r&&(i=n(e)+i),o.length?o.join(e)+i+s:s}},{"./rtrim":47}],64:[function(t,e){var n=t("./toSentence");e.exports=function(t,e,i){return n(t,e,i,!0)}},{"./toSentence":63}],65:[function(t,e){var n=t("./helper/makeString"),i=t("./helper/defaultToWhiteSpace"),r=String.prototype.trim;e.exports=function(t,e){return t=n(t),!e&&r?r.call(t):(e=i(e),t.replace(new RegExp("^"+e+"+|"+e+"+$","g"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],66:[function(t,e){var n=t("./helper/makeString");e.exports=function(t,e,i){return t=n(t),i=i||"...",e=~~e,t.length>e?t.slice(0,e)+i:t}},{"./helper/makeString":20}],67:[function(t,e){var n=t("./trim");e.exports=function(t){return n(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},{"./trim":65}],68:[function(t,e){var n=t("./helper/makeString"),i=t("./helper/htmlEntities");e.exports=function(t){return n(t).replace(/\&([^;]+);/g,function(t,e){var n;return e in i?i[e]:(n=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=e.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):t})}},{"./helper/htmlEntities":19,"./helper/makeString":20}],69:[function(t,e){e.exports=function(t,e){return e=e||'"',t[0]===e&&t[t.length-1]===e?t.slice(1,t.length-1):t}},{}],70:[function(t,e){var n=t("util-deprecate");e.exports=n(t("sprintf-js").vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.")},{"sprintf-js":36,"util-deprecate":37}],71:[function(t,e){var n=t("./isBlank"),i=t("./trim");e.exports=function(t,e){return n(t)?[]:i(t,e).split(e||/\s+/)}},{"./isBlank":27,"./trim":65}],72:[function(t,e){var n=t("./helper/makeString");e.exports=function(t,e){t=n(t),e=e||{};var i,r=e.width||75,o=e.seperator||"\n",s=e.cut||!1,a=e.preserveSpaces||!1,l=e.trailingSpaces||!1;if(r<=0)return t;if(s){var c=0;for(i="";c<t.length;)c%r==0&&c>0&&(i+=o),i+=t.charAt(c),c++;if(l)for(;c%r>0;)i+=" ",c++;return i}var u=t.split(" "),d=0;for(i="";u.length>0;){if(1+u[0].length+d>r&&d>0){if(a)i+=" ",d++;else if(l)for(;d<r;)i+=" ",d++;i+=o,d=0}d>0&&(i+=" ",d++),i+=u[0],d+=u[0].length,u.shift()}if(l)for(;d<r;)i+=" ",d++;return i}},{"./helper/makeString":20}]},{},[25])(25)}),function(){_&&s&&_.mixin(s.exports())}.call(this),window.Modernizr=function(t,e,n){function i(t){b.cssText=t}function r(t,e){return i(C.join(t+";")+(e||""))}function o(t,e){return typeof t===e}function s(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var i in t){var r=t[i];if(!s(r,"-")&&b[r]!==n)return"pfx"!=e||r}return!1}function l(t,e,i){for(var r in t){var s=e[t[r]];if(s!==n)return i===!1?t[r]:o(s,"function")?s.bind(i||e):s}return!1}function c(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+$.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?a(r,e):(r=(t+" "+k.join(i+" ")+i).split(" "),l(r,e,n))}function u(){f.input=function(n){for(var i=0,r=n.length;i<r;i++)I[n[i]]=!!(n[i]in w);return I.list&&(I.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),I}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(t){for(var i,r,o,s=0,a=t.length;s<a;s++)w.setAttribute("type",r=t[s]),i="text"!==w.type,i&&(w.value=_,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&w.style.WebkitAppearance!==n?(m.appendChild(w),o=e.defaultView,i=o.getComputedStyle&&"textfield"!==o.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,m.removeChild(w)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?w.checkValidity&&w.checkValidity()===!1:w.value!=_)),M[t[s]]=!!i;return M}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,h,p="2.8.3",f={},g=!0,m=e.documentElement,v="modernizr",y=e.createElement(v),b=y.style,w=e.createElement("input"),_=":)",x={}.toString,C=" -webkit- -moz- -o- -ms- ".split(" "),D="Webkit Moz O ms",$=D.split(" "),k=D.toLowerCase().split(" "),T={svg:"http://www.w3.org/2000/svg"},S={},M={},I={},A=[],E=A.slice,P=function(t,n,i,r){var o,s,a,l,c=e.createElement("div"),u=e.body,d=u||e.createElement("body");if(parseInt(i,10))for(;i--;)a=e.createElement("div"),a.id=r?r[i]:v+(i+1),c.appendChild(a);return o=["&#173;",'<style id="s',v,'">',t,"</style>"].join(""),c.id=v,(u?c:d).innerHTML+=o,d.appendChild(c),u||(d.style.background="",d.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(d)),s=n(c,t),u?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),m.style.overflow=l),!!s},N=function(e){var n=t.matchMedia||t.msMatchMedia;if(n)return n(e)&&n(e).matches||!1;var i;return P("@media "+e+" { #"+v+" { position: absolute; } }",function(e){i="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),i},O=function(){function t(t,r){r=r||e.createElement(i[t]||"div"),t="on"+t;var s=t in r;return s||(r.setAttribute||(r=e.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(t,""),s=o(r[t],"function"),o(r[t],"undefined")||(r[t]=n),r.removeAttribute(t))),r=null,s}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),j={}.hasOwnProperty;h=o(j,"undefined")||o(j.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return j.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=E.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,s=e.apply(o,n.concat(E.call(arguments)));return Object(s)===s?s:o}return e.apply(t,n.concat(E.call(arguments)))};return i}),S.flexbox=function(){return c("flexWrap")},S.flexboxlegacy=function(){return c("boxDirection")},S.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},S.canvastext=function(){return!(!f.canvas||!o(e.createElement("canvas").getContext("2d").fillText,"function"))},S.webgl=function(){return!!t.WebGLRenderingContext},S.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:P(["@media (",C.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},S.geolocation=function(){return"geolocation"in navigator},S.postmessage=function(){return!!t.postMessage},S.websqldatabase=function(){return!!t.openDatabase},S.indexedDB=function(){return!!c("indexedDB",t)},S.hashchange=function(){return O("hashchange",t)&&(e.documentMode===n||e.documentMode>7)},S.history=function(){return!(!t.history||!history.pushState)},S.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},S.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},S.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),s(b.backgroundColor,"rgba")},S.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),s(b.backgroundColor,"rgba")||s(b.backgroundColor,"hsla")},S.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},S.backgroundsize=function(){return c("backgroundSize")},S.borderimage=function(){return c("borderImage")},S.borderradius=function(){return c("borderRadius")},S.boxshadow=function(){return c("boxShadow")},S.textshadow=function(){return""===e.createElement("div").style.textShadow},S.opacity=function(){return r("opacity:.55"),/^0.55$/.test(b.opacity)},S.cssanimations=function(){return c("animationName")},S.csscolumns=function(){return c("columnCount")},S.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((t+"-webkit- ".split(" ").join(e+t)+C.join(n+t)).slice(0,-t.length)),s(b.backgroundImage,"gradient")},S.cssreflections=function(){return c("boxReflect")},S.csstransforms=function(){return!!c("transform")},S.csstransforms3d=function(){var t=!!c("perspective");return t&&"webkitPerspective"in m.style&&P("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t},S.csstransitions=function(){return c("transition")},S.fontface=function(){var t;return P('@font-face {font-family:"font";src:url("https://")}',function(n,i){var r=e.getElementById("smodernizr"),o=r.sheet||r.styleSheet,s=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";t=/src/i.test(s)&&0===s.indexOf(i.split(" ")[0])}),t},S.generatedcontent=function(){var t;return P(["#",v,"{font:0/0 a}#",v,':after{content:"',_,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},S.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return n},S.audio=function(){var t=e.createElement("audio"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return n},S.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(t){return!1}},S.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(t){return!1}},S.webworkers=function(){return!!t.Worker},S.applicationcache=function(){return!!t.applicationCache},S.svg=function(){return!!e.createElementNS&&!!e.createElementNS(T.svg,"svg").createSVGRect},S.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==T.svg},S.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(x.call(e.createElementNS(T.svg,"animate")))},S.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(x.call(e.createElementNS(T.svg,"clipPath")))};for(var L in S)h(S,L)&&(d=L.toLowerCase(),f[d]=S[L](),A.push((f[d]?"":"no-")+d));return f.input||u(),f.addTest=function(t,e){if("object"==typeof t)for(var i in t)h(t,i)&&f.addTest(i,t[i]);else{if(t=t.toLowerCase(),f[t]!==n)return f;e="function"==typeof e?e():e,"undefined"!=typeof g&&g&&(m.className+=" "+(e?"":"no-")+t),f[t]=e}return f},i(""),y=w=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=v[t[g]];return e||(e={},m++,t[g]=m,v[m]=e),e}function o(t,n,i){if(n||(n=e),u)return n.createElement(t);i||(i=r(n));var o;return o=i.cache[t]?i.cache[t].cloneNode():f.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),!o.canHaveChildren||p.test(t)||o.tagUrn?o:i.frag.appendChild(o)}function s(t,n){if(t||(t=e),u)return t.createDocumentFragment();n=n||r(t);for(var o=n.frag.cloneNode(),s=0,a=i(),l=a.length;s<l;s++)o.createElement(a[s]);return o}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return y.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function l(t){t||(t=e);var i=r(t);return!y.shivCSS||c||i.hasCSS||(i.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||a(t,i),t}var c,u,d="3.7.0",h=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,u=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(t){c=!0,u=!0}}();var y={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:h.shivCSS!==!1,supportsUnknownElements:u,shivMethods:h.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:s};t.html5=y,l(e)}(this,e),f._version=p,f._prefixes=C,f._domPrefixes=k,f._cssomPrefixes=$,f.mq=N,f.hasEvent=O,f.testProp=function(t){return a([t])},f.testAllProps=c,f.testStyles=P,f.prefixed=function(t,e,n){return e?c(t,e,n):c(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+A.join(" "):""),f}(this,this.document),window.Detectizr=function(t,e,n,i){function r(t,e){var n,i,o;if(arguments.length>2)for(n=1,i=arguments.length;n<i;n+=1)r(t,arguments[n]);else for(o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function o(t){return w.browser.userAgent.indexOf(t)>-1}function s(t){return t.test(w.browser.userAgent)}function a(t){return t.exec(w.browser.userAgent)}function l(t){return t.replace(/^\s+|\s+$/g,"")}function c(t){return null===t||t===i?"":String(t).replace(/((\s|\-|\.)+[a-z0-9])/g,function(t){return t.toUpperCase().replace(/(\s|\-|\.)/g,"")})}function u(t,e){var n=e||"",i=1===t.nodeType&&(t.className?(" "+t.className+" ").replace($," "):"");if(i){for(;i.indexOf(" "+n+" ")>=0;)i=i.replace(" "+n+" "," ");t.className=e?l(i):""}}function d(t,e,n){t&&(t=c(t),e&&(e=c(e),h(t+e,!0),n&&h(t+e+"_"+n,!0)))}function h(t,e){t&&_&&(C.addAllFeaturesAsClass?_.addTest(t,e):(e="function"==typeof e?e():e,e?_.addTest(t,!0):(delete _[t],u(k,t))))}function p(t,e){t.version=e;var n=e.split(".");n.length>0?(n=n.reverse(),t.major=n.pop(),n.length>0?(t.minor=n.pop(),n.length>0?(n=n.reverse(),t.patch=n.join(".")):t.patch="0"):t.minor="0"):t.major="0"}function f(){t.clearTimeout(y),y=t.setTimeout(function(){b=w.device.orientation,t.innerHeight>t.innerWidth?w.device.orientation="portrait":w.device.orientation="landscape",h(w.device.orientation,!0),b!==w.device.orientation&&h(b,!1)},10)}function g(t){var n,i,r,o,s,a=e.plugins;for(o=a.length-1;o>=0;o--){for(n=a[o],i=n.name+n.description,r=0,s=t.length;s>=0;s--)i.indexOf(t[s])!==-1&&(r+=1);if(r===t.length)return!0}return!1}function m(t){var e;for(e=t.length-1;e>=0;e--)try{new ActiveXObject(t[e])}catch(t){}return!1}function v(i){var l,u,v,y,b,$,k;if(C=r({},C,i||{}),C.detectDevice){for(w.device={type:"",model:"",orientation:""},v=w.device,s(/googletv|smarttv|smart-tv|internet.tv|netcast|nettv|appletv|boxee|kylo|roku|dlnadoc|roku|pov_tv|hbbtv|ce\-html/)?(v.type=x[0],v.model="smartTv"):s(/xbox|playstation.3|wii/)?(v.type=x[0],v.model="gameConsole"):s(/ip(a|ro)d/)?(v.type=x[1],v.model="ipad"):s(/tablet/)&&!s(/rx-34/)||s(/folio/)?(v.type=x[1],v.model=String(a(/playbook/)||"")):s(/linux/)&&s(/android/)&&!s(/fennec|mobi|htc.magic|htcX06ht|nexus.one|sc-02b|fone.945/)?(v.type=x[1],v.model="android"):s(/kindle/)||s(/mac.os/)&&s(/silk/)?(v.type=x[1],v.model="kindle"):s(/gt-p10|sc-01c|shw-m180s|sgh-t849|sch-i800|shw-m180l|sph-p100|sgh-i987|zt180|htc(.flyer|\_flyer)|sprint.atp51|viewpad7|pandigital(sprnova|nova)|ideos.s7|dell.streak.7|advent.vega|a101it|a70bht|mid7015|next2|nook/)||s(/mb511/)&&s(/rutem/)?(v.type=x[1],v.model="android"):s(/bb10/)?(v.type=x[1],v.model="blackberry"):(v.model=a(/iphone|ipod|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec|j2me/),null!==v.model?(v.type=x[2],v.model=String(v.model)):(v.model="",s(/bolt|fennec|iris|maemo|minimo|mobi|mowser|netfront|novarra|prism|rx-34|skyfire|tear|xv6875|xv6975|google.wireless.transcoder/)?v.type=x[2]:s(/opera/)&&s(/windows.nt.5/)&&s(/htc|xda|mini|vario|samsung\-gt\-i8000|samsung\-sgh\-i9/)?v.type=x[2]:s(/windows.(nt|xp|me|9)/)&&!s(/phone/)||s(/win(9|.9|nt)/)||s(/\(windows 8\)/)?v.type=x[3]:s(/macintosh|powerpc/)&&!s(/silk/)?(v.type=x[3],v.model="mac"):s(/linux/)&&s(/x11/)?v.type=x[3]:s(/solaris|sunos|bsd/)?v.type=x[3]:s(/cros/)?v.type=x[3]:s(/bot|crawler|spider|yahoo|ia_archiver|covario-ids|findlinks|dataparksearch|larbin|mediapartners-google|ng-search|snappy|teoma|jeeves|tineye/)&&!s(/mobile/)?(v.type=x[3],v.model="crawler"):v.type=x[2])),l=0,u=x.length;l<u;l+=1)h(x[l],v.type===x[l]);C.detectDeviceModel&&h(c(v.model),!0)}if(C.detectScreen&&(v.screen={},_&&_.mq&&(_.mq("only screen and (max-width: 240px)")?(v.screen.size="veryVerySmall",h("veryVerySmallScreen",!0)):_.mq("only screen and (max-width: 320px)")?(v.screen.size="verySmall",h("verySmallScreen",!0)):_.mq("only screen and (max-width: 480px)")&&(v.screen.size="small",h("smallScreen",!0)),v.type!==x[1]&&v.type!==x[2]||_.mq("only screen and (-moz-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)")&&(v.screen.resolution="high",h("highresolution",!0))),v.type===x[1]||v.type===x[2]?(t.onresize=function(t){f(t)},f()):(v.orientation="landscape",h(v.orientation,!0))),C.detectOS&&(w.os={},y=w.os,""!==v.model&&("ipad"===v.model||"iphone"===v.model||"ipod"===v.model?(y.name="ios",p(y,(s(/os\s([\d_]+)/)?RegExp.$1:"").replace(/_/g,"."))):"android"===v.model?(y.name="android",p(y,s(/android\s([\d\.]+)/)?RegExp.$1:"")):"blackberry"===v.model?(y.name="blackberry",p(y,s(/version\/([^\s]+)/)?RegExp.$1:"")):"playbook"===v.model&&(y.name="blackberry",p(y,s(/os ([^\s]+)/)?RegExp.$1.replace(";",""):""))),y.name||(o("win")||o("16bit")?(y.name="windows",o("windows nt 6.3")?p(y,"8.1"):o("windows nt 6.2")||s(/\(windows 8\)/)?p(y,"8"):o("windows nt 6.1")?p(y,"7"):o("windows nt 6.0")?p(y,"vista"):o("windows nt 5.2")||o("windows nt 5.1")||o("windows xp")?p(y,"xp"):o("windows nt 5.0")||o("windows 2000")?p(y,"2k"):o("winnt")||o("windows nt")?p(y,"nt"):o("win98")||o("windows 98")?p(y,"98"):(o("win95")||o("windows 95"))&&p(y,"95")):o("mac")||o("darwin")?(y.name="mac os",o("68k")||o("68000")?p(y,"68k"):o("ppc")||o("powerpc")?p(y,"ppc"):o("os x")&&p(y,(s(/os\sx\s([\d_]+)/)?RegExp.$1:"os x").replace(/_/g,"."))):o("webtv")?y.name="webtv":o("x11")||o("inux")?y.name="linux":o("sunos")?y.name="sun":o("irix")?y.name="irix":o("freebsd")?y.name="freebsd":o("bsd")&&(y.name="bsd")),y.name&&(h(y.name,!0),y.major&&(d(y.name,y.major),y.minor&&d(y.name,y.major,y.minor))),s(/\sx64|\sx86|\swin64|\swow64|\samd64/)?y.addressRegisterSize="64bit":y.addressRegisterSize="32bit",h(y.addressRegisterSize,!0)),C.detectBrowser&&(b=w.browser,s(/opera|webtv/)||!s(/msie\s([\d\w\.]+)/)&&!o("trident")?o("firefox")?(b.engine="gecko",b.name="firefox",p(b,s(/firefox\/([\d\w\.]+)/)?RegExp.$1:"")):o("gecko/")?b.engine="gecko":o("opera")?(b.name="opera",b.engine="presto",p(b,s(/version\/([\d\.]+)/)?RegExp.$1:s(/opera(\s|\/)([\d\.]+)/)?RegExp.$2:"")):o("konqueror")?b.name="konqueror":o("chrome")?(b.engine="webkit",b.name="chrome",p(b,s(/chrome\/([\d\.]+)/)?RegExp.$1:"")):o("iron")?(b.engine="webkit",b.name="iron"):o("crios")?(b.name="chrome",b.engine="webkit",p(b,s(/crios\/([\d\.]+)/)?RegExp.$1:"")):o("applewebkit/")?(b.name="safari",b.engine="webkit",p(b,s(/version\/([\d\.]+)/)?RegExp.$1:"")):o("mozilla/")&&(b.engine="gecko"):(b.engine="trident",b.name="ie",!t.addEventListener&&n.documentMode&&7===n.documentMode?p(b,"8.compat"):s(/trident.*rv[ :](\d+)\./)?p(b,RegExp.$1):p(b,s(/trident\/4\.0/)?"8":RegExp.$1)),b.name&&(h(b.name,!0),b.major&&(d(b.name,b.major),b.minor&&d(b.name,b.major,b.minor))),h(b.engine,!0),b.language=e.userLanguage||e.language,h(b.language,!0)),C.detectPlugins){for(b.plugins=[],l=D.length-1;l>=0;l--)$=D[l],k=!1,t.ActiveXObject?k=m($.progIds):e.plugins&&(k=g($.substrs)),k&&(b.plugins.push($.name),h($.name,!0));e.javaEnabled()&&(b.plugins.push("java"),h("java",!0))}}var y,b,w={},_=t.Modernizr,x=["tv","tablet","mobile","desktop"],C={addAllFeaturesAsClass:!1,detectDevice:!0,detectDeviceModel:!0,detectScreen:!0,detectOS:!0,detectBrowser:!0,detectPlugins:!0},D=[{name:"adobereader",substrs:["Adobe","Acrobat"],progIds:["AcroPDF.PDF","PDF.PDFCtrl.5"]},{name:"flash",substrs:["Shockwave Flash"],progIds:["ShockwaveFlash.ShockwaveFlash.1"]},{name:"wmplayer",substrs:["Windows Media"],progIds:["wmplayer.ocx"]},{name:"silverlight",substrs:["Silverlight"],progIds:["AgControl.AgControl"]},{name:"quicktime",substrs:["QuickTime"],progIds:["QuickTime.QuickTime"]}],$=/[\t\r\n]/g,k=n.documentElement;return w.detect=function(t){return v(t)},w.init=function(){w!==i&&(w.browser={userAgent:(e.userAgent||e.vendor||t.opera).toLowerCase()},w.detect())},w.init(),w}(this,this.navigator,this.document),window.url=function(){function t(){}function e(t){return decodeURIComponent(t.replace(/\+/g," "))}function n(t,e){var n=t.charAt(0),i=e.split(n);return n===t?i:(t=parseInt(t.substring(1),10),i[0>t?i.length+t:t-1])}function i(t,n){for(var i=t.charAt(0),r=n.split("&"),o=[],s={},a=[],l=t.substring(1),c=0,u=r.length;u>c;c++)if(o=r[c].match(/(.*?)=(.*)/),o||(o=[r[c],r[c],""]),""!==o[1].replace(/\s/g,"")){if(o[2]=e(o[2]||""),l===o[1])return o[2];a=o[1].match(/(.*)\[([0-9]+)\]/),a?(s[a[1]]=s[a[1]]||[],s[a[1]][a[2]]=o[2]):s[o[1]]=o[2]}return i===t?s:s[l]}return function(e,r){var o,s={};if("tld?"===e)return t();if(r=r||window.location.toString(),!e)return r;if(e=e.toString(),o=r.match(/^mailto:([^\/].+)/))s.protocol="mailto",s.email=o[1];else{if((o=r.match(/(.*?)\/#\!(.*)/))&&(r=o[1]+o[2]),(o=r.match(/(.*?)#(.*)/))&&(s.hash=o[2],r=o[1]),s.hash&&e.match(/^#/))return i(e,s.hash);if((o=r.match(/(.*?)\?(.*)/))&&(s.query=o[2],r=o[1]),s.query&&e.match(/^\?/))return i(e,s.query);if((o=r.match(/(.*?)\:?\/\/(.*)/))&&(s.protocol=o[1].toLowerCase(),r=o[2]),(o=r.match(/(.*?)(\/.*)/))&&(s.path=o[2],r=o[1]),s.path=(s.path||"").replace(/^([^\/])/,"/$1").replace(/\/$/,""),e.match(/^[\-0-9]+$/)&&(e=e.replace(/^([^\/])/,"/$1")),e.match(/^\//))return n(e,s.path.substring(1));if(o=n("/-1",s.path.substring(1)),o&&(o=o.match(/(.*?)\.(.*)/))&&(s.file=o[0],s.filename=o[1],s.fileext=o[2]),(o=r.match(/(.*)\:([0-9]+)$/))&&(s.port=o[2],r=o[1]),(o=r.match(/(.*?)@(.*)/))&&(s.auth=o[1],r=o[2]),s.auth&&(o=s.auth.match(/(.*)\:(.*)/),s.user=o?o[1]:s.auth,s.pass=o?o[2]:void 0),s.hostname=r.toLowerCase(),"."===e.charAt(0))return n(e,s.hostname);t()&&(o=s.hostname.match(t()),o&&(s.tld=o[3],s.domain=o[2]?o[2]+"."+o[3]:void 0,s.sub=o[1]||void 0)),s.port=s.port||("https"===s.protocol?"443":"80"),s.protocol=s.protocol||("443"===s.port?"https":"http")}return e in s?s[e]:"{}"===e?s:void 0}}(),"undefined"!=typeof jQuery&&jQuery.extend({url:function(t,e){return window.url(t,e)}}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.store=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){(function(t){"use strict";e.exports=function(){function e(){try{return s in r&&r[s]}catch(t){return!1}}var n,i={},r="undefined"!=typeof window?window:t,o=r.document,s="localStorage",a="script";if(i.disabled=!1,i.version="1.3.20",i.set=function(){},i.get=function(){},i.has=function(t){return void 0!==i.get(t)},i.remove=function(){},i.clear=function(){},i.transact=function(t,e,n){null==n&&(n=e,e=null),null==e&&(e={});var r=i.get(t,e);n(r),i.set(t,r)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(t){return JSON.stringify(t)},i.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},e())n=r[s],i.set=function(t,e){return void 0===e?i.remove(t):(n.setItem(t,i.serialize(e)),e)},i.get=function(t,e){var r=i.deserialize(n.getItem(t));return void 0===r?e:r},i.remove=function(t){n.removeItem(t)},i.clear=function(){n.clear()},i.getAll=function(){var t={};return i.forEach(function(e,n){t[e]=n}),t},i.forEach=function(t){for(var e=0;e<n.length;e++){var r=n.key(e);t(r,i.get(r))}};else if(o&&o.documentElement.addBehavior){var l,c;try{c=new ActiveXObject("htmlfile"),c.open(),c.write("<"+a+">document.w=window</"+a+'><iframe src="/favicon.ico"></iframe>'),c.close(),l=c.w.frames[0].document,n=l.createElement("div")}catch(t){n=o.createElement("div"),l=o.body}var u=function(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(n),l.appendChild(n),n.addBehavior("#default#userData"),n.load(s);var r=t.apply(i,e);return l.removeChild(n),r}},d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),h=function(t){return t.replace(/^d/,"___$&").replace(d,"___")};i.set=u(function(t,e,n){return e=h(e),void 0===n?i.remove(e):(t.setAttribute(e,i.serialize(n)),t.save(s),n)}),i.get=u(function(t,e,n){e=h(e);var r=i.deserialize(t.getAttribute(e));return void 0===r?n:r}),i.remove=u(function(t,e){e=h(e),t.removeAttribute(e),t.save(s)}),i.clear=u(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(s);for(var n=e.length-1;n>=0;n--)t.removeAttribute(e[n].name);t.save(s)}),i.getAll=function(){var t={};return i.forEach(function(e,n){t[e]=n}),t},i.forEach=u(function(t,e){for(var n,r=t.XMLDocument.documentElement.attributes,o=0;n=r[o];++o)e(n.name,i.deserialize(t.getAttribute(n.name)))})}try{var p="__storejs__";i.set(p,p),i.get(p)!=p&&(i.disabled=!0),i.remove(p)}catch(t){i.disabled=!0}return i.enabled=!i.disabled,i}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),store.storeWithExpiration={set:function(t,e,n){store.set(t,{val:e,exp:n,time:(new Date).getTime()})},get:function(t){var e=store.get(t);return e?(new Date).getTime()-e.time>e.exp?(store.remove(t),null):e.val:null}},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(s=t("img[usemap='#"+o+"']")[0],!!s&&n(s))):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&e(n,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],
o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=0,n=Array.prototype.slice;return t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a,l={},c=e.split(".")[0];return e=e.split(".")[1],r=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[c]=t[c]||{},o=t[c][e],s=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(l[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:c,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,r,o=n.call(arguments,1),s=0,a=o.length;s<a;s++)for(i in o[s])r=o[s][i],o[s].hasOwnProperty(i)&&void 0!==r&&(t.isPlainObject(r)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],r):t.widget.extend({},r):e[i]=r);return e},t.widget.bridge=function(e,i){var r=i.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=n.call(arguments,1),l=this;return s?this.each(function(){var n,i=t.data(this,r);return"instance"===o?(l=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new i(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,a):n.bind(c,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget}),function(t){"function"==typeof define&&define.amd?define(["jquery","./widget"],t):t(jQuery)}(function(t){var e=!1;return t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),e=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>a&&i+c<l,h="y"===this.options.axis||e+u>o&&e+u<s,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(o=t(c[i],this.document[0]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=t(h[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(s=d[n][1],a=d[n][0],i=0,c=a.length;i<c;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,c,u,d,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&t.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,u=h.floating||this._isFloating(this.currentItem),s=u?"left":"top",a=u?"width":"height",d=u?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,e[d]-l>this.items[i][a]/2&&(c=!0),Math.abs(e[d]-l)<r&&(r=Math.abs(e[d]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside));
}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return this._blurActiveElement(e),!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=this.document[0];if(this.handleElement.is(e.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(t){}},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,l,c,u,d,h,p,f=i.options,g=f.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)l=i.snapElements[h].left-i.margins.left,c=l+i.snapElements[h].width,u=i.snapElements[h].top-i.margins.top,d=u+i.snapElements[h].height,v<l-g||m>c+g||b<u-g||y>d+g||!t.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-b)<=g,o=Math.abs(d-y)<=g,s=Math.abs(l-v)<=g,a=Math.abs(c-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),p=r||o||s||a,"outer"!==f.snapMode&&(r=Math.abs(u-y)<=g,o=Math.abs(d-b)<=g,s=Math.abs(l-m)<=g,a=Math.abs(c-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||o||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||o||s||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./mouse","./draggable"],t):t(jQuery)}(function(t){return t.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,c=n.offset.left,u=n.offset.top,d=c+n.proportions().width,h=u+n.proportions().height;switch(i){case"fit":return c<=o&&a<=d&&u<=s&&l<=h;case"intersect":return c<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<d&&u<s+e.helperProportions.height/2&&l-e.helperProportions.height/2<h;case"pointer":return t(r.pageY,u,n.proportions().height)&&t(r.pageX,c,n.proportions().width);case"touch":return(s>=u&&s<=h||l>=u&&l<=h||s<u&&l>h)&&(o>=c&&o<=d||a>=c&&a<=d||o<c&&a>d);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=t.ui.intersect(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.ui.droppable}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e="ui-effects-",n=t;return t.effects={effect:{}},function(t,e){function n(t,e,n){var i=d[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var n=c(),i=n._rgba=[];return e=e.toLowerCase(),f(l,function(t,r){var o,s=r.re.exec(e),a=s&&r.parse(s),l=r.space||"rgba";if(a)return o=n[l](a),n[u[l].cache]=o[u[l].cache],i=n._rgba=o._rgba,!1}),i.length?("0,0,0,0"===i.join()&&t.extend(i,o.transparent),n):o[e]}function r(t,e,n){return n=(n+1)%1,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(r,s,a,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var d=this,h=t.type(r),p=this._rgba=[];return s!==e&&(r=[r,s,a,l],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(f(u.rgba.props,function(t,e){p[e.idx]=n(r[e.idx],e)}),this):"object"===h?(r instanceof c?f(u,function(t,e){r[e.cache]&&(d[e.cache]=r[e.cache].slice())}):f(u,function(e,i){var o=i.cache;f(i.props,function(t,e){if(!d[o]&&i.to){if("alpha"===t||null==r[t])return;d[o]=i.to(d._rgba)}d[o][e.idx]=n(r[t],e,!0)}),d[o]&&t.inArray(null,d[o].slice(0,3))<0&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):void 0},is:function(t){var e=c(t),n=!0,i=this;return f(u,function(t,r){var o,s=e[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],f(r.props,function(t,e){if(null!=s[e.idx])return n=s[e.idx]===o[e.idx]})),n}),n},_space:function(){var t=[],e=this;return f(u,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=c(t),r=i._space(),o=u[r],s=0===this.alpha()?c("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return i=i[o.cache],f(o.props,function(t,r){var o=r.idx,s=a[o],c=i[o],u=d[r.type]||{};null!==c&&(null===s?l[o]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[o]=n((c-s)*e+s,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=c(e)._rgba;return c(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),c=a-l,u=a+l,d=.5*u;return e=l===a?0:i===a?60*(r-o)/c+360:r===a?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(e)%360,n,d,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],s=i<=.5?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},f(u,function(i,r){var o=r.props,s=r.cache,l=r.to,u=r.from;c.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===e)return this[s].slice();var r,a=t.type(i),d="array"===a||"object"===a?i:arguments,h=this[s].slice();return f(o,function(t,e){var i=d["object"===a?t:e.idx];null==i&&(i=h[e.idx]),h[e.idx]=n(i,e)}),u?(r=c(u(h)),r[s]=h,r):c(h)},f(o,function(e,n){c.fn[e]||(c.fn[e]=function(r){var o,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=t.type(r)),null==r&&n.empty?this:("string"===s&&(o=a.exec(r),o&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[n.idx]=r,this[l](c)))})})}),c.hook=function(e){var n=e.split(" ");f(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=c(o||r),!h.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=c(e.elem,n),e.end=c(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",
black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(n),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function i(e,n){var i,r,s={};for(i in n)r=n[i],e[i]!==r&&(o[i]||!t.fx.step[i]&&isNaN(parseFloat(r))||(s[i]=r));return s}var r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(n.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var n=t(this);return{el:n,start:e(this)}}),o=function(){t.each(r,function(t,e){n[e]&&s[e+"Class"](n[e])})},o(),c=c.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,c.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function n(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}t.extend(t.effects,{version:"1.11.4",save:function(t,n){for(var i=0;i<n.length;i++)null!==n[i]&&t.data(e+n[i],t[0].style[n[i]])},restore:function(t,n){var i,r;for(r=0;r<n.length;r++)null!==n[r]&&(i=t.data(e+n[r]),void 0===i&&(i=""),t.css(n[r],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(o)&&o.call(r[0]),t.isFunction(e)&&e()}var r=t(this),o=i.complete,a=i.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),n()):s.call(r[0],i,n)}var i=n.apply(this,arguments),r=i.mode,o=i.queue,s=t.effects.effect[i.effect];return t.fx.off||!s?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(e):this.queue(o||"fx",e)},show:function(t){return function(e){if(i(e))return t.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(e){if(i(e))return t.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(e){if(i(e)||"boolean"==typeof e)return t.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(t*-2+2)/2}})}(),t.effects}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.blind=function(e,n){var i,r,o,s=t(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,c=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(s,e.mode||"hide"),d=e.direction||"up",h=a.test(d),p=h?"height":"width",f=h?"top":"left",g=l.test(d),m={},v="show"===u;s.parent().is(".ui-effects-wrapper")?t.effects.save(s.parent(),c):t.effects.save(s,c),s.show(),i=t.effects.createWrapper(s).css({overflow:"hidden"}),r=i[p](),o=parseFloat(i.css(f))||0,m[p]=v?r:0,g||(s.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),m[f]=v?o:r+o),v&&(i.css(p,0),g||i.css(f,o+r)),i.animate(m,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===u&&s.hide(),t.effects.restore(s,c),t.effects.removeWrapper(s),n()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.bounce=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"effect"),c="hide"===l,u="show"===l,d=e.direction||"up",h=e.distance,p=e.times||5,f=2*p+(u||c?1:0),g=e.duration/f,m=e.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=s.queue(),w=b.length;for((u||c)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),h||(h=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[v]=0,s.css("opacity",0).css(v,y?2*-h:2*h).animate(o,g,m)),c&&(h/=Math.pow(2,p-1)),o={},o[v]=0,i=0;i<p;i++)r={},r[v]=(y?"-=":"+=")+h,s.animate(r,g,m).animate(o,g,m),h=c?2*h:h/2;c&&(r={opacity:0},r[v]=(y?"-=":"+=")+h,s.animate(r,g,m)),s.queue(function(){c&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,f+1))),s.dequeue()}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.clip=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"hide"),c="show"===l,u=e.direction||"vertical",d="vertical"===u,h=d?"height":"width",p=d?"top":"left",f={};t.effects.save(s,a),s.show(),i=t.effects.createWrapper(s).css({overflow:"hidden"}),r="IMG"===s[0].tagName?i:s,o=r[h](),c&&(r.css(h,0),r.css(p,o/2)),f[h]=c?o:0,f[p]=c?0:o/2,r.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){c||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.drop=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(r,e.mode||"hide"),a="show"===s,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:a?1:0};t.effects.save(r,o),r.show(),t.effects.createWrapper(r),i=e.distance||r["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(c,"pos"===u?-i:i),d[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+i,r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.explode=function(e,n){function i(){b.push(this),b.length===d*h&&r()}function r(){p.css({visibility:"visible"}),t(b).remove(),g||p.hide(),n()}var o,s,a,l,c,u,d=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=d,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/d),b=[];for(o=0;o<d;o++)for(l=m.top+o*y,u=o-(d-1)/2,s=0;s<h;s++)a=m.left+s*v,c=s-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(g?c*v:0),top:l+(g?u*y:0),opacity:g?0:1}).animate({left:a+(g?0:c*v),top:l+(g?0:u*y),opacity:g?1:0},e.duration||500,e.easing,i)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.fade=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.fold=function(e,n){var i,r,o=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"hide"),l="show"===a,c="hide"===a,u=e.size||15,d=/([0-9]+)%/.exec(u),h=!!e.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(o,s),o.show(),i=t.effects.createWrapper(o).css({overflow:"hidden"}),r=p?[i.width(),i.height()]:[i.height(),i.width()],d&&(u=parseInt(d[1],10)/100*r[c?0:1]),l&&i.css(h?{height:0,width:u}:{height:u,width:0}),m[f[0]]=l?r[0]:u,v[f[1]]=l?r[1]:0,i.animate(m,g,e.easing).animate(v,g,e.easing,function(){c&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),n()})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.highlight=function(e,n){var i=t(this),r=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(i,e.mode||"show"),s={backgroundColor:i.css("backgroundColor")};"hide"===o&&(s.opacity=0),t.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),t.effects.restore(i,r),n()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.pulsate=function(e,n){var i,r=t(this),o=t.effects.setMode(r,e.mode||"show"),s="show"===o,a="hide"===o,l=s||"hide"===o,c=2*(e.times||5)+(l?1:0),u=e.duration/c,d=0,h=r.queue(),p=h.length;for(!s&&r.is(":visible")||(r.css("opacity",0).show(),d=1),i=1;i<c;i++)r.animate({opacity:d},u,e.easing),d=1-d;r.animate({opacity:d},u,e.easing),r.queue(function(){a&&r.hide(),n()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,c+1))),r.dequeue()}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-size"],t):t(jQuery)}(function(t){return t.effects.effect.scale=function(e,n){var i=t(this),r=t.extend(!0,{},e),o=t.effects.setMode(i,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),a=e.direction||"both",l=e.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};r.effect="size",r.queue=!1,r.complete=n,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),r.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.shake=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(r,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,c=e.times||3,u=2*c+1,d=Math.round(e.duration/u),h="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},g={},m={},v=r.queue(),y=v.length;for(t.effects.save(r,o),r.show(),t.effects.createWrapper(r),f[h]=(p?"-=":"+=")+l,g[h]=(p?"+=":"-=")+2*l,m[h]=(p?"-=":"+=")+2*l,r.animate(f,d,e.easing),i=1;i<c;i++)r.animate(g,d,e.easing).animate(m,d,e.easing);r.animate(g,d,e.easing).animate(f,d/2,e.easing).queue(function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),r.dequeue()}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.slide=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(r,e.mode||"show"),a="show"===s,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};t.effects.save(r,o),r.show(),i=e.distance||r["top"===c?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(c,u?isNaN(i)?"-"+i:-i:i),d[c]=(a?u?"+=":"-=":u?"-=":"+=")+i,r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.transfer=function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),h=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:d.top-a,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){h.remove(),n()})}}),function(){}.call(this),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(i){var r,o,s,a,l,c;if(n.fire(i,"ajax:before")){if(a=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),s=i.serializeArray();var u=i.data("ujs:submit-button");u&&(s.push(u),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),s=i.data("params")||null);return c={type:r||"GET",data:s,dataType:l,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!!n.fire(i,"ajax:beforeSend",[t,r])&&void i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(o)},a&&(c.xhrFields={withCredentials:a}),o&&(c.url=o),n.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!n.protocol||!n.host||e.protocol+"//"+e.host!=n.protocol+"//"+n.host}catch(t){return!0}},handleMethod:function(i){var r=n.href(i),o=i.data("method"),s=i.attr("target"),a=n.csrfToken(),l=n.csrfParam(),c=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l===e||a===e||n.isCrossDomain(r)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",i=t.data("disable-with"),t.data("ujs:enable-with",t[n]()),i!==e&&t[n](i),t.prop("disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,i=t.data("confirm"),r=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{r=n.confirm(i)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=n.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,n,i){var r,o,s=t(),a=n||"input,textarea",l=e.find(a);return l.each(function(){if(r=t(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),o===i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),!!s.length&&s},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");t.data("ujs:enable-with",t.html()),i!==e&&t.html(i),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableElement(e)})}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(e){var i=t(this),r=i.data("method"),o=i.data("params"),s=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(s&&(!r||"GET"===r)&&!o)return!0;var a=n.handleRemote(i);return a===!1?n.enableElement(i):a.fail(function(){n.enableElement(i)}),!1}return r?(n.handleMethod(i),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return r===!1?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r,o,s=t(this),a=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")===e&&(r=n.blankInputs(s,n.requiredInputSelector,!1),r&&n.fire(s,"ajax:aborted:required",[r])))return n.stopEverything(i);if(a){if(o=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(n){if(n.async){var i,r,o,s=n.initialIframeSrc||"javascript:false;";return{send:function(a,l){i=t('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),e+=1,r=t('<iframe src="'+s+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,o=t.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var e;try{if(e=r.contents(),!e.length||!e[0].firstChild)throw new Error}catch(t){e=void 0}l(200,"success",{iframe:e}),t('<iframe src="'+s+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after(function(t){return e[t]}),n.paramName&&n.fileInput.each(function(e){t(this).prop("name",o[e]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),e&&e.length&&n.fileInput.each(function(n,i){var r=t(e[n]);t(i).prop("name",r.prop("name")).attr("form",r.attr("form")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src",s),i&&i.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var n=e&&e[0];return n&&t.isXMLDoc(n)?n:t.parseXML(n.XMLDocument&&n.XMLDocument.xml||t(n.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(t){"use strict";function e(e){var n="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var r=i.dataTransfer;r&&t.inArray("Files",r.types)!==-1&&this._trigger(e,t.Event(e,{delegatedEvent:i}))!==!1&&(i.preventDefault(),n&&(r.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){return!e.isDefaultPrevented()&&void((n.autoUpload||n.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=r,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,r=e.files[0],o=e.multipart||!t.support.xhrFileUpload,s="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),o&&!e.blob&&this._isInstanceOf("File",r)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),o?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:s,value:e.blob}):t.each(e.files,function(i,r){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||s,value:r})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?n.append(s,e.blob,r.name):t.each(e.files,function(r,o){(i._isInstanceOf("File",o)||i._isInstanceOf("Blob",o))&&n.append("array"===t.type(e.paramName)&&e.paramName[r]||s,o,o.uploadName||o.name)})),e.data=n):(e.contentType=r.type||"application/octet-stream",e.data=e.blob||r),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",r=(e.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),
e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var r=t.Deferred(),o=r.promise();return n=n||this.options.context||o,e===!0?r.resolveWith(n,i):e===!1&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,o){return(e||o)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).pipe(function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():r(arguments)}).pipe(e,o)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,r,o=this,s=e.files[0],a=s.size,l=e.uploadedBytes,c=e.maxChunkSize||a,u=this._blobSlice,d=t.Deferred(),h=d.promise();return!(!(this._isXHRUpload(e)&&u&&(l||c<a))||e.data)&&(!!n||(l>=a?(s.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",s.error])):(r=function(){var n=t.extend({},e),h=n._progress.loaded;n.blob=u.call(s,l,l+c,s.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+a,o._initXHRData(n),o._initProgressListener(n),i=(o._trigger("chunksend",null,n)!==!1&&t.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,s,c){l=o._getUploadedBytes(c)||l+n.chunkSize,h+n.chunkSize-n._progress.loaded&&o._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=s,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),l<a?r():d.resolveWith(n.context,[i,s,c])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),d.rejectWith(n.context,[t,e,i])})},this._enhancePromise(h),h.abort=function(){return i.abort()},r(),h)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,r){var o=r._progress.total,s=r._response;r._progress.loaded<o&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),s.result=r.result=e,s.textStatus=r.textStatus=n,s.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(t,e,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=t,r.textStatus=i.textStatus=e,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,r,o,s,a=this,l=a._getAJAXSettings(n),c=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,i=i||((r||a._trigger("send",t.Event("send",{delegatedEvent:e}),l)===!1)&&a._getXHRPromise(!1,l.context,r)||a._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){a._onDone(t,e,n,l)}).fail(function(t,e,n){a._onFail(t,e,n,l)}).always(function(t,e,n){if(a._onAlways(t,e,n,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=t.Deferred(),this._slots.push(o),s=o.pipe(c)):(this._sequence=this._sequence.pipe(c,c),s=this._sequence),s.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(l.context,r),c())},this._enhancePromise(s)):c()},_onAdd:function(e,n){var i,r,o,s,a=this,l=!0,c=t.extend({},this.options,n),u=n.files,d=u.length,h=c.limitMultiFileUploads,p=c.limitMultiFileUploadSize,f=c.limitMultiFileUploadSizeOverhead,g=0,m=this._getParamName(c),v=0;if(!d)return!1;if(p&&void 0===u[0].size&&(p=void 0),(c.singleFileUploads||h||p)&&this._isXHRUpload(c))if(c.singleFileUploads||p||!h)if(!c.singleFileUploads&&p)for(o=[],i=[],s=0;s<d;s+=1)g+=u[s].size+f,(s+1===d||g+u[s+1].size+f>p||h&&s+1-v>=h)&&(o.push(u.slice(v,s+1)),r=m.slice(v,s+1),r.length||(r=m),i.push(r),v=s+1,g=0);else i=m;else for(o=[],i=[],s=0;s<d;s+=h)o.push(u.slice(s,s+h)),r=m.slice(s,s+h),r.length||(r=m),i.push(r);else o=[u],i=[m];return n.originalFiles=u,t.each(o||u,function(r,s){var c=t.extend({},n);return c.files=o?s:[s],c.paramName=i[r],a._initResponseObject(c),a._initProgressObject(c),a._addConvenienceMethods(e,c),l=a._trigger("add",t.Event("add",{delegatedEvent:e}),c)}),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0);e.fileInputClone=i,t("<form></form>").append(i)[0].reset(),n.after(i).detach(),t.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var i,r=this,o=t.Deferred(),s=function(t){t&&!t.entry&&(t.entry=e),o.resolve([t])},a=function(t){r._handleFileTreeEntries(t,n+e.name+"/").done(function(t){o.resolve(t)}).fail(s)},l=function(){i.readEntries(function(t){t.length?(c=c.concat(t),l()):a(c)},s)},c=[];return n=n||"",e.isFile?e._file?(e._file.relativePath=n,o.resolve(e._file)):e.file(function(t){t.relativePath=n,o.resolve(t)},s):e.isDirectory?(i=e.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,r=e.prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i),n._trigger("change",t.Event("change",{delegatedEvent:e}),i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)!==!1&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,r={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i,n._trigger("drop",t.Event("drop",{delegatedEvent:e}),r)!==!1&&n._onAdd(e,r)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=t.inArray(e,this._specialOptions)!==-1;i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options,i=this.element.data();t.each(this.element[0].attributes,function(t,r){var o,s=r.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),o=i[s],e._isRegExpOption(s,o)&&(o=e._getRegExp(o)),n[s]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,o=t.Deferred(),s=o.promise();return s.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(e.fileInput).always(function(t){if(!i){if(!t.length)return void o.reject();e.files=t,n=r._onSend(null,e),n.then(function(t,e,n){o.resolve(t,e,n)},function(t,e,n){o.reject(t,e,n)})}}),this._enhancePromise(s)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function n(t,e,n,i){return!(t.selector!=e.selector||t.context!=e.context||n&&n.$lqguid!=e.fn.$lqguid||i&&i.$lqguid!=e.fn2.$lqguid)}t.extend(t.fn,{livequery:function(e,r){var o,s=this;return t.each(i.queries,function(t,i){if(n(s,i,e,r))return(o=i)&&!1}),o=o||new i(s.selector,s.context,e,r),o.stopped=!1,o.run(),s},expire:function(e,r){var o=this;return t.each(i.queries,function(t,s){n(o,s,e,r)&&!o.stopped&&i.stop(s.id)}),o}});var i=t.livequery=function(e,n,r,o){var s=this;return s.selector=e,s.context=n,s.fn=r,s.fn2=o,s.elements=t([]),s.stopped=!1,s.id=i.queries.push(s)-1,r.$lqguid=r.$lqguid||i.guid++,o&&(o.$lqguid=o.$lqguid||i.guid++),s};i.prototype={stop:function(){var e=this;e.stopped||(e.fn2&&e.elements.each(e.fn2),e.elements=t([]),e.stopped=!0)},run:function(){var e=this;if(!e.stopped){var n=e.elements,i=t(e.selector,e.context),r=i.not(n),o=n.not(i);e.elements=i,r.each(e.fn),e.fn2&&o.each(e.fn2)}}},t.extend(i,{guid:0,queries:[],queue:[],running:!1,timeout:null,registered:[],checkQueue:function(){if(i.running&&i.queue.length)for(var t=i.queue.length;t--;)i.queries[i.queue.shift()].run()},pause:function(){i.running=!1},play:function(){i.running=!0,i.run()},registerPlugin:function(){t.each(arguments,function(e,n){if(t.fn[n]&&!(t.inArray(n,i.registered)>0)){var r=t.fn[n];t.fn[n]=function(){var t=r.apply(this,arguments);return i.run(),t},i.registered.push(n)}})},run:function(n){n!==e?t.inArray(n,i.queue)<0&&i.queue.push(n):t.each(i.queries,function(e){t.inArray(e,i.queue)<0&&i.queue.push(e)}),i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout(i.checkQueue,20)},stop:function(n){n!==e?i.queries[n].stop():t.each(i.queries,i.prototype.stop)}}),i.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html","prop","removeProp"),t(function(){i.play()})}),function(t){"use strict";function e(e,n,i,r){function o(t,e){return t-=r,e-=r,!(t<0||t>=a||e<0||e>=a)&&s.isDark(t,e)}var s=t(i,n);s.addData(e),s.make(),r=r||0;var a=s.getModuleCount(),l=s.getModuleCount()+2*r,c=function(t,e,n,i){var r=this.isDark,o=1/l;this.isDark=function(s,a){var l=a*o,c=s*o,u=l+o,d=c+o;return r(s,a)&&(t>u||l>n||e>d||c>i)}};this.text=e,this.level=n,this.version=i,this.moduleCount=l,this.isDark=o,this.addBlank=c}function n(t,n,i,r,o){i=Math.max(1,i||1),r=Math.min(40,r||40);for(var s=i;s<=r;s+=1)try{return new e(t,n,s,o)}catch(t){}}function i(t,e,n){var i=n.size,r="bold "+n.mSize*i+"px "+n.fontname,o=m("<canvas/>")[0].getContext("2d");o.font=r;var s=o.measureText(n.label).width,a=n.mSize,l=s/i,c=(1-l)*n.mPosX,u=(1-a)*n.mPosY,d=c+l,h=u+a,p=.01;1===n.mode?t.addBlank(0,u-p,i,h+p):t.addBlank(c-p,u-p,d+p,h+p),e.fillStyle=n.fontcolor,e.font=r,e.fillText(n.label,c*i,u*i+.75*n.mSize*i)}function r(t,e,n){var i=n.size,r=n.image.naturalWidth||1,o=n.image.naturalHeight||1,s=n.mSize,a=s*r/o,l=(1-a)*n.mPosX,c=(1-s)*n.mPosY,u=l+a,d=c+s,h=.01;3===n.mode?t.addBlank(0,c-h,i,d+h):t.addBlank(l-h,c-h,u+h,d+h),e.drawImage(n.image,l*i,c*i,a*i,s*i)}function o(t,e,n){m(n.background).is("img")?e.drawImage(n.background,0,0,n.size,n.size):n.background&&(e.fillStyle=n.background,e.fillRect(n.left,n.top,n.size,n.size));var o=n.mode;1===o||2===o?i(t,e,n):3!==o&&4!==o||r(t,e,n)}function s(t,e,n,i,r,o,s,a){t.isDark(s,a)&&e.rect(i,r,o,o)}function a(t,e,n,i,r,o,s,a,l,c){s?t.moveTo(e+o,n):t.moveTo(e,n),a?(t.lineTo(i-o,n),t.arcTo(i,n,i,r,o)):t.lineTo(i,n),l?(t.lineTo(i,r-o),t.arcTo(i,r,e,r,o)):t.lineTo(i,r),c?(t.lineTo(e+o,r),t.arcTo(e,r,e,n,o)):t.lineTo(e,r),s?(t.lineTo(e,n+o),t.arcTo(e,n,i,n,o)):t.lineTo(e,n)}function l(t,e,n,i,r,o,s,a,l,c){s&&(t.moveTo(e+o,n),t.lineTo(e,n),t.lineTo(e,n+o),t.arcTo(e,n,e+o,n,o)),a&&(t.moveTo(i-o,n),t.lineTo(i,n),t.lineTo(i,n+o),t.arcTo(i,n,i-o,n,o)),l&&(t.moveTo(i-o,r),t.lineTo(i,r),t.lineTo(i,r-o),t.arcTo(i,r,i-o,r,o)),c&&(t.moveTo(e+o,r),t.lineTo(e,r),t.lineTo(e,r-o),t.arcTo(e,r,e+o,r,o))}function c(t,e,n,i,r,o,s,c){var u=t.isDark,d=i+o,h=r+o,p=n.radius*o,f=s-1,g=s+1,m=c-1,v=c+1,y=u(s,c),b=u(f,m),w=u(f,c),_=u(f,v),x=u(s,v),C=u(g,v),D=u(g,c),$=u(g,m),k=u(s,m);y?a(e,i,r,d,h,p,!w&&!k,!w&&!x,!D&&!x,!D&&!k):l(e,i,r,d,h,p,w&&k&&b,w&&x&&_,D&&x&&C,D&&k&&$)}function u(t,e,n){var i,r,o=t.moduleCount,a=n.size/o,l=s;for(y&&n.radius>0&&n.radius<=.5&&(l=c),e.beginPath(),i=0;i<o;i+=1)for(r=0;r<o;r+=1){var u=n.left+r*a,d=n.top+i*a,h=a;l(t,e,n,u,d,h,i,r)}if(m(n.fill).is("img")){e.strokeStyle="rgba(0,0,0,0.5)",e.lineWidth=2,e.stroke();var p=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",e.fill(),e.globalCompositeOperation=p,e.clip(),e.drawImage(n.fill,0,0,n.size,n.size),e.restore()}else e.fillStyle=n.fill,e.fill()}function d(t,e){var i=n(e.text,e.ecLevel,e.minVersion,e.maxVersion,e.quiet);if(!i)return null;var r=m(t).data("qrcode",i),s=r[0].getContext("2d");return o(i,s,e),u(i,s,e),r}function h(t){var e=m("<canvas/>").attr("width",t.size).attr("height",t.size);return d(e,t)}function p(t){return m("<img/>").attr("src",h(t)[0].toDataURL("image/png"))}function f(t){var e=n(t.text,t.ecLevel,t.minVersion,t.maxVersion,t.quiet);if(!e)return null;var i,r,o=t.size,s=t.background,a=Math.floor,l=e.moduleCount,c=a(o/l),u=a(.5*(o-c*l)),d={position:"relative",left:0,top:0,padding:0,margin:0,width:o,height:o},h={position:"absolute",padding:0,margin:0,width:c,height:c,"background-color":t.fill},p=m("<div/>").data("qrcode",e).css(d);for(s&&p.css("background-color",s),i=0;i<l;i+=1)for(r=0;r<l;r+=1)e.isDark(i,r)&&m("<div/>").css(h).css({left:u+r*c,top:u+i*c}).appendTo(p);return p}function g(t){return v&&"canvas"===t.render?h(t):v&&"image"===t.render?p(t):f(t)}var m=jQuery,v=function(){var t=document.createElement("canvas");return Boolean(t.getContext&&t.getContext("2d"))}(),y="[object Opera]"!==Object.prototype.toString.call(window.opera),b={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};m.fn.qrcode=function(t){var e=m.extend({},b,t);return this.each(function(){"canvas"===this.nodeName.toLowerCase()?d(this,e):m(this).append(g(e))})}}(function(){var t=function(){function t(e,n){if("undefined"==typeof e.length)throw new Error(e.length+"/"+n);var i=function(){for(var t=0;t<e.length&&0==e[t];)t+=1;for(var i=new Array(e.length-t+n),r=0;r<e.length-t;r+=1)i[r]=e[r+t];return i}(),r={};return r.getAt=function(t){return i[t]},r.getLength=function(){return i.length},r.multiply=function(e){for(var n=new Array(r.getLength()+e.getLength()-1),i=0;i<r.getLength();i+=1)for(var o=0;o<e.getLength();o+=1)n[i+o]^=s.gexp(s.glog(r.getAt(i))+s.glog(e.getAt(o)));return t(n,0)},r.mod=function(e){if(r.getLength()-e.getLength()<0)return r;for(var n=s.glog(r.getAt(0))-s.glog(e.getAt(0)),i=new Array(r.getLength()),o=0;o<r.getLength();o+=1)i[o]=r.getAt(o);for(var o=0;o<e.getLength();o+=1)i[o]^=s.gexp(s.glog(e.getAt(o))+n);return t(i,0).mod(e)},r}var e=function(e,n){var r=236,s=17,u=e,d=i[n],h=null,p=0,g=null,m=new Array,v={},y=function(t,e){p=4*u+17,h=function(t){for(var e=new Array(t),n=0;n<t;n+=1){e[n]=new Array(t);for(var i=0;i<t;i+=1)e[n][i]=null}return e}(p),b(0,0),b(p-7,0),b(0,p-7),x(),_(),D(t,e),u>=7&&C(t),null==g&&(g=T(u,d,m)),$(g,e)},b=function(t,e){for(var n=-1;n<=7;n+=1)if(!(t+n<=-1||p<=t+n))for(var i=-1;i<=7;i+=1)e+i<=-1||p<=e+i||(0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4?h[t+n][e+i]=!0:h[t+n][e+i]=!1)},w=function(){for(var t=0,e=0,n=0;n<8;n+=1){y(!0,n);var i=o.getLostPoint(v);(0==n||t>i)&&(t=i,e=n)}return e},_=function(){for(var t=8;t<p-8;t+=1)null==h[t][6]&&(h[t][6]=t%2==0);for(var e=8;e<p-8;e+=1)null==h[6][e]&&(h[6][e]=e%2==0)},x=function(){for(var t=o.getPatternPosition(u),e=0;e<t.length;e+=1)for(var n=0;n<t.length;n+=1){var i=t[e],r=t[n];if(null==h[i][r])for(var s=-2;s<=2;s+=1)for(var a=-2;a<=2;a+=1)s==-2||2==s||a==-2||2==a||0==s&&0==a?h[i+s][r+a]=!0:h[i+s][r+a]=!1}},C=function(t){for(var e=o.getBCHTypeNumber(u),n=0;n<18;n+=1){var i=!t&&1==(e>>n&1);h[Math.floor(n/3)][n%3+p-8-3]=i}for(var n=0;n<18;n+=1){var i=!t&&1==(e>>n&1);h[n%3+p-8-3][Math.floor(n/3)]=i}},D=function(t,e){for(var n=d<<3|e,i=o.getBCHTypeInfo(n),r=0;r<15;r+=1){var s=!t&&1==(i>>r&1);r<6?h[r][8]=s:r<8?h[r+1][8]=s:h[p-15+r][8]=s}for(var r=0;r<15;r+=1){var s=!t&&1==(i>>r&1);r<8?h[8][p-r-1]=s:r<9?h[8][15-r-1+1]=s:h[8][15-r-1]=s}h[p-8][8]=!t},$=function(t,e){for(var n=-1,i=p-1,r=7,s=0,a=o.getMaskFunction(e),l=p-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var c=0;c<2;c+=1)if(null==h[i][l-c]){var u=!1;s<t.length&&(u=1==(t[s]>>>r&1));var d=a(i,l-c);d&&(u=!u),h[i][l-c]=u,r-=1,r==-1&&(s+=1,r=7)}if(i+=n,i<0||p<=i){i-=n,n=-n;break}}},k=function(e,n){for(var i=0,r=0,s=0,a=new Array(n.length),l=new Array(n.length),c=0;c<n.length;c+=1){var u=n[c].dataCount,d=n[c].totalCount-u;r=Math.max(r,u),s=Math.max(s,d),a[c]=new Array(u);for(var h=0;h<a[c].length;h+=1)a[c][h]=255&e.getBuffer()[h+i];i+=u;var p=o.getErrorCorrectPolynomial(d),f=t(a[c],p.getLength()-1),g=f.mod(p);l[c]=new Array(p.getLength()-1);for(var h=0;h<l[c].length;h+=1){var m=h+g.getLength()-l[c].length;l[c][h]=m>=0?g.getAt(m):0}}for(var v=0,h=0;h<n.length;h+=1)v+=n[h].totalCount;for(var y=new Array(v),b=0,h=0;h<r;h+=1)for(var c=0;c<n.length;c+=1)h<a[c].length&&(y[b]=a[c][h],b+=1);for(var h=0;h<s;h+=1)for(var c=0;c<n.length;c+=1)h<l[c].length&&(y[b]=l[c][h],b+=1);return y},T=function(t,e,n){for(var i=a.getRSBlocks(t,e),c=l(),u=0;u<n.length;u+=1){var d=n[u];c.put(d.getMode(),4),c.put(d.getLength(),o.getLengthInBits(d.getMode(),t)),d.write(c)}for(var h=0,u=0;u<i.length;u+=1)h+=i[u].dataCount;if(c.getLengthInBits()>8*h)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+8*h+")");for(c.getLengthInBits()+4<=8*h&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;;){if(c.getLengthInBits()>=8*h)break;if(c.put(r,8),c.getLengthInBits()>=8*h)break;c.put(s,8)}return k(c,i)};return v.addData=function(t){var e=c(t);m.push(e),g=null},v.isDark=function(t,e){if(t<0||p<=t||e<0||p<=e)throw new Error(t+","+e);return h[t][e]},v.getModuleCount=function(){return p},v.make=function(){y(!1,w())},v.createTableTag=function(t,e){t=t||2,e="undefined"==typeof e?4*t:e;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+e+"px;",n+='">',n+="<tbody>";for(var i=0;i<v.getModuleCount();i+=1){n+="<tr>";for(var r=0;r<v.getModuleCount();r+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+t+"px;",n+=" height: "+t+"px;",n+=" background-color: ",n+=v.isDark(i,r)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},v.createImgTag=function(t,e){t=t||2,e="undefined"==typeof e?4*t:e;var n=v.getModuleCount()*t+2*e,i=e,r=n-e;return f(n,n,function(e,n){if(i<=e&&e<r&&i<=n&&n<r){var o=Math.floor((e-i)/t),s=Math.floor((n-i)/t);return v.isDark(s,o)?0:1}return 1})},v};e.stringToBytes=function(t){for(var e=new Array,n=0;n<t.length;n+=1){var i=t.charCodeAt(n);e.push(255&i)}return e},e.createStringToBytes=function(t,e){var n=function(){for(var n=h(t),i=function(){var t=n.read();if(t==-1)throw new Error;return t},r=0,o={};;){var s=n.read();if(s==-1)break;var a=i(),l=i(),c=i(),u=String.fromCharCode(s<<8|a),d=l<<8|c;o[u]=d,r+=1}if(r!=e)throw new Error(r+" != "+e);return o}(),i="?".charCodeAt(0);return function(t){for(var e=new Array,r=0;r<t.length;r+=1){var o=t.charCodeAt(r);if(o<128)e.push(o);else{var s=n[t.charAt(r)];"number"==typeof s?(255&s)==s?e.push(s):(e.push(s>>>8),e.push(255&s)):e.push(i)}}return e}};var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o=function(){var e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],i=1335,o=7973,a=21522,l={},c=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e};return l.getBCHTypeInfo=function(t){for(var e=t<<10;c(e)-c(i)>=0;)e^=i<<c(e)-c(i);return(t<<10|e)^a},l.getBCHTypeNumber=function(t){for(var e=t<<12;c(e)-c(o)>=0;)e^=o<<c(e)-c(o);return t<<12|e},l.getPatternPosition=function(t){return e[t-1]},l.getMaskFunction=function(t){switch(t){case r.PATTERN000:return function(t,e){return(t+e)%2==0};case r.PATTERN001:return function(t){return t%2==0};case r.PATTERN010:return function(t,e){return e%3==0};case r.PATTERN011:return function(t,e){return(t+e)%3==0};case r.PATTERN100:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case r.PATTERN101:return function(t,e){return t*e%2+t*e%3==0};case r.PATTERN110:return function(t,e){return(t*e%2+t*e%3)%2==0};case r.PATTERN111:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw new Error("bad maskPattern:"+t)}},l.getErrorCorrectPolynomial=function(e){for(var n=t([1],0),i=0;i<e;i+=1)n=n.multiply(t([1,s.gexp(i)],0));return n},l.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},l.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i+=1)for(var r=0;r<e;r+=1){for(var o=0,s=t.isDark(i,r),a=-1;a<=1;a+=1)if(!(i+a<0||e<=i+a))for(var l=-1;l<=1;l+=1)r+l<0||e<=r+l||0==a&&0==l||s==t.isDark(i+a,r+l)&&(o+=1);o>5&&(n+=3+o-5)}for(var i=0;i<e-1;i+=1)for(var r=0;r<e-1;r+=1){var c=0;t.isDark(i,r)&&(c+=1),t.isDark(i+1,r)&&(c+=1),t.isDark(i,r+1)&&(c+=1),t.isDark(i+1,r+1)&&(c+=1),0!=c&&4!=c||(n+=3)}for(var i=0;i<e;i+=1)for(var r=0;r<e-6;r+=1)t.isDark(i,r)&&!t.isDark(i,r+1)&&t.isDark(i,r+2)&&t.isDark(i,r+3)&&t.isDark(i,r+4)&&!t.isDark(i,r+5)&&t.isDark(i,r+6)&&(n+=40);for(var r=0;r<e;r+=1)for(var i=0;i<e-6;i+=1)t.isDark(i,r)&&!t.isDark(i+1,r)&&t.isDark(i+2,r)&&t.isDark(i+3,r)&&t.isDark(i+4,r)&&!t.isDark(i+5,r)&&t.isDark(i+6,r)&&(n+=40);for(var u=0,r=0;r<e;r+=1)for(var i=0;i<e;i+=1)t.isDark(i,r)&&(u+=1);var d=Math.abs(100*u/e/e-50)/5;return n+=10*d},l}(),s=function(){for(var t=new Array(256),e=new Array(256),n=0;n<8;n+=1)t[n]=1<<n;for(var n=8;n<256;n+=1)t[n]=t[n-4]^t[n-5]^t[n-6]^t[n-8];for(var n=0;n<255;n+=1)e[t[n]]=n;var i={};return i.glog=function(t){if(t<1)throw new Error("glog("+t+")");return e[t]},i.gexp=function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t[e]},i}(),a=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var n={};return n.totalCount=t,n.dataCount=e,n},n={},r=function(e,n){switch(n){case i.L:return t[4*(e-1)+0];case i.M:return t[4*(e-1)+1];case i.Q:return t[4*(e-1)+2];case i.H:return t[4*(e-1)+3];default:return}};return n.getRSBlocks=function(t,n){var i=r(t,n);if("undefined"==typeof i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+n);for(var o=i.length/3,s=new Array,a=0;a<o;a+=1)for(var l=i[3*a+0],c=i[3*a+1],u=i[3*a+2],d=0;d<l;d+=1)s.push(e(c,u));return s},n}(),l=function(){var t=new Array,e=0,n={};return n.getBuffer=function(){return t},n.getAt=function(e){var n=Math.floor(e/8);return 1==(t[n]>>>7-e%8&1)},n.put=function(t,e){for(var i=0;i<e;i+=1)n.putBit(1==(t>>>e-i-1&1))},n.getLengthInBits=function(){return e},n.putBit=function(n){var i=Math.floor(e/8);t.length<=i&&t.push(0),n&&(t[i]|=128>>>e%8),e+=1},n},c=function(t){var i=n.MODE_8BIT_BYTE,r=e.stringToBytes(t),o={};return o.getMode=function(){return i},o.getLength=function(){return r.length},o.write=function(t){for(var e=0;e<r.length;e+=1)t.put(r[e],8)},o},u=function(){var t=new Array,e={};return e.writeByte=function(e){t.push(255&e)},e.writeShort=function(t){e.writeByte(t),e.writeByte(t>>>8)},e.writeBytes=function(t,n,i){n=n||0,i=i||t.length;for(var r=0;r<i;r+=1)e.writeByte(t[r+n])},e.writeString=function(t){for(var n=0;n<t.length;n+=1)e.writeByte(t.charCodeAt(n))},e.toByteArray=function(){return t},e.toString=function(){var e="";e+="[";for(var n=0;n<t.length;n+=1)n>0&&(e+=","),e+=t[n];return e+="]"},e},d=function(){var t=0,e=0,n=0,i="",r={},o=function(t){i+=String.fromCharCode(s(63&t))},s=function(t){if(t<0);else{if(t<26)return 65+t;if(t<52)return 97+(t-26);if(t<62)return 48+(t-52);if(62==t)return 43;if(63==t)return 47}throw new Error("n:"+t)};return r.writeByte=function(i){for(t=t<<8|255&i,e+=8,n+=1;e>=6;)o(t>>>e-6),e-=6},r.flush=function(){if(e>0&&(o(t<<6-e),t=0,e=0),n%3!=0)for(var r=3-n%3,s=0;s<r;s+=1)i+="="},r.toString=function(){return i},r},h=function(t){var e=t,n=0,i=0,r=0,o={};o.read=function(){for(;r<8;){if(n>=e.length){if(0==r)return-1;throw new Error("unexpected end of file./"+r)}var t=e.charAt(n);if(n+=1,"="==t)return r=0,-1;t.match(/^\s$/)||(i=i<<6|s(t.charCodeAt(0)),r+=6)}var o=i>>>r-8&255;return r-=8,o};var s=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw new Error("c:"+t)};return o},p=function(t,e){var n=t,i=e,r=new Array(t*e),o={};o.setPixel=function(t,e,i){r[e*n+t]=i},o.write=function(t){t.writeString("GIF87a"),t.writeShort(n),t.writeShort(i),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(i),t.writeByte(0);var e=2,r=a(e);t.writeByte(e);
for(var o=0;r.length-o>255;)t.writeByte(255),t.writeBytes(r,o,255),o+=255;t.writeByte(r.length-o),t.writeBytes(r,o,r.length-o),t.writeByte(0),t.writeString(";")};var s=function(t){var e=t,n=0,i=0,r={};return r.write=function(t,r){if(t>>>r!=0)throw new Error("length over");for(;n+r>=8;)e.writeByte(255&(t<<n|i)),r-=8-n,t>>>=8-n,i=0,n=0;i=t<<n|i,n+=r},r.flush=function(){n>0&&e.writeByte(i)},r},a=function(t){for(var e=1<<t,n=(1<<t)+1,i=t+1,o=l(),a=0;a<e;a+=1)o.add(String.fromCharCode(a));o.add(String.fromCharCode(e)),o.add(String.fromCharCode(n));var c=u(),d=s(c);d.write(e,i);var h=0,p=String.fromCharCode(r[h]);for(h+=1;h<r.length;){var f=String.fromCharCode(r[h]);h+=1,o.contains(p+f)?p+=f:(d.write(o.indexOf(p),i),o.size()<4095&&(o.size()==1<<i&&(i+=1),o.add(p+f)),p=f)}return d.write(o.indexOf(p),i),d.write(n,i),d.flush(),c.toByteArray()},l=function(){var t={},e=0,n={};return n.add=function(i){if(n.contains(i))throw new Error("dup key:"+i);t[i]=e,e+=1},n.size=function(){return e},n.indexOf=function(e){return t[e]},n.contains=function(e){return"undefined"!=typeof t[e]},n};return o},f=function(t,e,n,i){for(var r=p(t,e),o=0;o<e;o+=1)for(var s=0;s<t;s+=1)r.setPixel(s,o,n(s,o));var a=u();r.write(a);for(var l=d(),c=a.toByteArray(),h=0;h<c.length;h+=1)l.writeByte(c[h]);l.flush();var f="";return f+="<img",f+=' src="',f+="data:image/gif;base64,",f+=l,f+='"',f+=' width="',f+=t,f+='"',f+=' height="',f+=e,f+='"',i&&(f+=' alt="',f+=i,f+='"'),f+="/>"};return e}();return function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports&&(module.exports=t())}(function(){return t}),!function(t){t.stringToBytes=function(t){function e(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e.push(i):i<2048?e.push(192|i>>6,128|63&i):i<55296||i>=57344?e.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return e}return e(t)}}(t),t}()),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return a.raw?t:encodeURIComponent(t)}function n(t){return a.raw?t:decodeURIComponent(t)}function i(t){return e(a.json?JSON.stringify(t):String(t))}function r(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),a.json?JSON.parse(t):t}catch(t){}}function o(e,n){var i=a.raw?e:r(e);return t.isFunction(n)?n(i):i}var s=/\+/g,a=t.cookie=function(r,s,l){if(void 0!==s&&!t.isFunction(s)){if(l=t.extend({},a.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setTime(+u+864e5*c)}return document.cookie=[e(r),"=",i(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=r?void 0:{},h=document.cookie?document.cookie.split("; "):[],p=0,f=h.length;p<f;p++){var g=h[p].split("="),m=n(g.shift()),v=g.join("=");if(r&&r===m){d=o(v,s);break}r||void 0===(v=o(v))||(d[m]=v)}return d};a.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(t){function e(e){var n={},i=/^jQuery\d+$/;return t.each(e.attributes,function(t,e){e.specified&&!i.test(e.name)&&(n[e.name]=e.value)}),n}function n(e,n){var i=this,o=t(i);if(i.value==o.attr("placeholder")&&o.hasClass(h.customClass))if(o.data("placeholder-password")){if(o=o.hide().nextAll('input[type="password"]:first').show().attr("id",o.removeAttr("id").data("placeholder-id")),e===!0)return o[0].value=n;o.focus()}else i.value="",o.removeClass(h.customClass),i==r()&&i.select()}function i(){var i,r=this,o=t(r),s=this.id;if(""===r.value){if("password"===r.type){if(!o.data("placeholder-textinput")){try{i=o.clone().prop({type:"text"})}catch(n){i=t("<input>").attr(t.extend(e(this),{type:"text"}))}i.removeAttr("name").data({"placeholder-password":o,"placeholder-id":s}).bind("focus.placeholder",n),o.data({"placeholder-textinput":i,"placeholder-id":s}).before(i)}o=o.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",s).show()}o.addClass(h.customClass),o[0].value=o.attr("placeholder")}else o.removeClass(h.customClass)}function r(){try{return document.activeElement}catch(t){}}var o,s,a="[object OperaMini]"==Object.prototype.toString.call(window.operamini),l="placeholder"in document.createElement("input")&&!a,c="placeholder"in document.createElement("textarea")&&!a,u=t.valHooks,d=t.propHooks;if(l&&c)s=t.fn.placeholder=function(){return this},s.input=s.textarea=!0;else{var h={};s=t.fn.placeholder=function(e){var r={customClass:"placeholder"};h=t.extend({},r,e);var o=this;return o.filter((l?"textarea":":input")+"[placeholder]").not("."+h.customClass).bind({"focus.placeholder":n,"blur.placeholder":i}).data("placeholder-enabled",!0).trigger("blur.placeholder"),o},s.input=l,s.textarea=c,o={get:function(e){var n=t(e),i=n.data("placeholder-password");return i?i[0].value:n.data("placeholder-enabled")&&n.hasClass(h.customClass)?"":e.value},set:function(e,o){var s=t(e),a=s.data("placeholder-password");return a?a[0].value=o:s.data("placeholder-enabled")?(""===o?(e.value=o,e!=r()&&i.call(e)):s.hasClass(h.customClass)?n.call(e,!0,o)||(e.value=o):e.value=o,s):e.value=o}},l||(u.input=o,d.value=o),c||(u.textarea=o,d.value=o),t(function(){t(document).delegate("form","submit.placeholder",function(){var e=t("."+h.customClass,this).each(n);setTimeout(function(){e.each(i)},10)})}),t(window).bind("beforeunload.placeholder",function(){t("."+h.customClass).each(function(){this.value=""})})}}),function(t){t.fn.mailAutoComplete=function(e){var n={boxClass:"mailListBox",listClass:"mailListDefault",focusClass:"mailListFocus",markCalss:"mailListHlignt",zIndex:1,autoClass:!0,mailArr:["qq.com","gmail.com","126.com","163.com","hotmail.com","outlook.com","sohu.com","sina.com"],textHint:!1,hintText:"",focusColor:"#333",blurColor:"#999"},i=t.extend({},n,e||{});i.autoClass&&0===t("#mailListAppendCss").size()&&t('<style id="mailListAppendCss" type="text/css">.mailListBox{border:1px solid #369; background:#fff; }.mailListDefault{padding:0 5px;cursor:pointer;white-space:nowrap;}.mailListFocus{padding:0 5px;cursor:pointer;white-space:nowrap;background:#369;color:white;}.mailListHlignt{color:red;}.mailListFocus .mailListHlignt{color:#fff;}</style>').appendTo(t("head"));var r=i.boxClass,o=i.listClass,s=i.focusClass,a=i.markCalss,l=i.zIndex,c=mailArr=i.mailArr,u=i.textHint,d=i.hintText,h=i.focusColor,p=i.blurColor;t.createHtml=function(e,n,i){var r="";return t.isArray(n)&&(n.length>0?(t(".justForJs").show(),t.each(n,function(t){r+=t===i?'<div class="mailHover '+s+'" id="mailList_'+t+'"><span class="'+a+'">'+e+"</span>@"+n[t]+"</div>":'<div class="mailHover '+o+'" id="mailList_'+t+'"><span class="'+a+'">'+e+"</span>@"+n[t]+"</div>"})):t(".justForJs").hide()),r};var f,g=-1;t(this).each(function(){var e=t(this),n=t(".justForJs").size(),i="100%",a=e.outerHeight();e.wrap('<span style="display:block;position:relative;"></span>').before('<div id="mailListBox_'+n+'" class="justForJs '+r+'" style="font-size: 15px; min-width:'+i+";_width:"+i+"px;position:absolute;left:-6000px;top:"+a+"px;z-index:"+l+';"></div>');var m,y=t("#mailListBox_"+n);e.focus(function(){if(t(this).css("color",h).parent().css("z-index",l),u&&d){var n=t.trim(t(this).val());n===d&&t(this).val("")}t(this).keydown(function(n){f=v=t.trim(t(this).val()),v.length>0&&13===n.keyCode&&(g>-1&&g<c.length&&(t(this).val(t("#mailList_"+g).text()),y.css("left","-6000px"),e.parent().parent().next().find("input").focus()),n.preventDefault())}),t(this).keyup(function(e){if(f=v=t.trim(t(this).val()),/@/.test(v)&&(f=v.replace(/@.*/,"")),v.length>0){if(38===e.keyCode)g<=0&&(g=c.length),g--;else if(40===e.keyCode)g>=c.length-1&&(g=-1),g++;else if(/@/.test(v)){g=-1;var n=v.replace(/.*@/,"");c=t.map(mailArr,function(t){var e=new RegExp(n);if(e.test(t))return t})}else c=mailArr;y.html(t.createHtml(f,c,g)).css("left",0)}else y.css("left","-6000px")}).blur(function(){if(u&&d){var e=t.trim(t(this).val());""===e&&t(this).val(d)}t(this).css("color",p).unbind("keyup").parent().css("z-index",0),y.css("left","-6000px")}),t(".mailHover").livequery(function(){t(this).on("mouseover",function(){g=Number(t(this).attr("id").split("_")[1]),m=t("#mailList_"+g).text(),y.children("."+s).removeClass(s).addClass(o),t(this).addClass(s).removeClass(o)})})}),y.bind("mousedown",function(){e.val(m)})})}}(jQuery),function(t,e,n){function i(e,n){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=t(e),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=t.extend({},l,n),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function r(e,n){var i=!0;return t.each(e,function(t){if("undefined"==typeof n[t]||e[t]!==n[t])return i=!1,!1}),i}function o(){return!u&&c}function s(){var t=n.body||n.documentElement,e=t.style,i="transition";if("string"==typeof e[i])return!0;v=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1);for(var r=0;r<v.length;r++)if("string"==typeof e[v[r]+i])return!0;return!1}var a="tooltipster",l={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(){},functionBefore:function(t,e){e()},functionReady:function(){},functionAfter:function(){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};i.prototype={_init:function(){var e=this;if(n.querySelector){var i=null;void 0===e.$el.data("tooltipster-initialTitle")&&(i=e.$el.attr("title"),void 0===i&&(i=null),e.$el.data("tooltipster-initialTitle",i)),null!==e.options.content?e._content_set(e.options.content):e._content_set(i);var r=e.options.functionInit.call(e.$el,e.$el,e.Content);"undefined"!=typeof r&&e._content_set(r),e.$el.removeAttr("title").addClass("tooltipstered"),!c&&e.options.iconDesktop||c&&e.options.iconTouch?("string"==typeof e.options.icon?(e.$elProxy=t('<span class="'+e.options.iconTheme+'"></span>'),e.$elProxy.text(e.options.icon)):e.options.iconCloning?e.$elProxy=e.options.icon.clone(!0):e.$elProxy=e.options.icon,e.$elProxy.insertAfter(e.$el)):e.$elProxy=e.$el,"hover"==e.options.trigger?(e.$elProxy.on("mouseenter."+e.namespace,function(){o()&&!e.options.touchDevices||(e.mouseIsOverProxy=!0,e._show())}).on("mouseleave."+e.namespace,function(){o()&&!e.options.touchDevices||(e.mouseIsOverProxy=!1)}),c&&e.options.touchDevices&&e.$elProxy.on("touchstart."+e.namespace,function(){e._showNow()})):"click"==e.options.trigger&&e.$elProxy.on("click."+e.namespace,function(){o()&&!e.options.touchDevices||e._show()})}},_show:function(){var t=this;"shown"!=t.Status&&"appearing"!=t.Status&&(t.options.delay?t.timerShow=setTimeout(function(){("click"==t.options.trigger||"hover"==t.options.trigger&&t.mouseIsOverProxy)&&t._showNow()},t.options.delay):t._showNow())},_showNow:function(n){var i=this;i.options.functionBefore.call(i.$el,i.$el,function(){if(i.enabled&&null!==i.Content){n&&i.callbacks.show.push(n),i.callbacks.hide=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null,i.options.onlyOne&&t(".tooltipstered").not(i.$el).each(function(e,n){var i=t(n),r=i.data("tooltipster-ns");t.each(r,function(t,e){var n=i.data(e),r=n.status(),o=n.option("autoClose");"hidden"!==r&&"disappearing"!==r&&o&&n.hide()})});var r=function(){i.Status="shown",t.each(i.callbacks.show,function(t,e){e.call(i.$el)}),i.callbacks.show=[]};if("hidden"!==i.Status){var o=0;"disappearing"===i.Status?(i.Status="appearing",s()?(i.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+i.options.animation+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(r)):i.$tooltip.stop().fadeIn(r)):"shown"===i.Status&&r()}else{i.Status="appearing";var o=i.options.speed;i.bodyOverflowX=t("body").css("overflow-x"),t("body").css("overflow-x","hidden");var a="tooltipster-"+i.options.animation,l="-webkit-transition-duration: "+i.options.speed+"ms; -webkit-animation-duration: "+i.options.speed+"ms; -moz-transition-duration: "+i.options.speed+"ms; -moz-animation-duration: "+i.options.speed+"ms; -o-transition-duration: "+i.options.speed+"ms; -o-animation-duration: "+i.options.speed+"ms; -ms-transition-duration: "+i.options.speed+"ms; -ms-animation-duration: "+i.options.speed+"ms; transition-duration: "+i.options.speed+"ms; animation-duration: "+i.options.speed+"ms;",u=i.options.minWidth?"min-width:"+Math.round(i.options.minWidth)+"px;":"",d=i.options.maxWidth?"max-width:"+Math.round(i.options.maxWidth)+"px;":"",h=i.options.interactive?"pointer-events: auto;":"";if(i.$tooltip=t('<div class="tooltipster-base '+i.options.theme+'" style="'+u+" "+d+" "+h+" "+l+'"><div class="tooltipster-content"></div></div>'),s()&&i.$tooltip.addClass(a),i._content_insert(),i.$tooltip.appendTo("body"),i.reposition(),i.options.functionReady.call(i.$el,i.$el,i.$tooltip),s()?(i.$tooltip.addClass(a+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(r)):i.$tooltip.css("display","none").fadeIn(i.options.speed,r),i._interval_set(),t(e).on("scroll."+i.namespace+" resize."+i.namespace,function(){i.reposition()}),i.options.autoClose)if(t("body").off("."+i.namespace),"hover"==i.options.trigger){if(c&&setTimeout(function(){t("body").on("touchstart."+i.namespace,function(){i.hide()})},0),i.options.interactive){c&&i.$tooltip.on("touchstart."+i.namespace,function(t){t.stopPropagation()});var p=null;i.$elProxy.add(i.$tooltip).on("mouseleave."+i.namespace+"-autoClose",function(){clearTimeout(p),p=setTimeout(function(){i.hide()},i.options.interactiveTolerance)}).on("mouseenter."+i.namespace+"-autoClose",function(){clearTimeout(p)})}else i.$elProxy.on("mouseleave."+i.namespace+"-autoClose",function(){i.hide()});i.options.hideOnClick&&i.$elProxy.on("click."+i.namespace+"-autoClose",function(){i.hide()})}else"click"==i.options.trigger&&(setTimeout(function(){t("body").on("click."+i.namespace+" touchstart."+i.namespace,function(){i.hide()})},0),i.options.interactive&&i.$tooltip.on("click."+i.namespace+" touchstart."+i.namespace,function(t){t.stopPropagation()}))}i.options.timer>0&&(i.timerHide=setTimeout(function(){i.timerHide=null,i.hide()},i.options.timer+o))}})},_interval_set:function(){var e=this;e.checkInterval=setInterval(function(){if(0===t("body").find(e.$el).length||0===t("body").find(e.$elProxy).length||"hidden"==e.Status||0===t("body").find(e.$tooltip).length)"shown"!=e.Status&&"appearing"!=e.Status||e.hide(),e._interval_cancel();else if(e.options.positionTracker){var n=e._repositionInfo(e.$elProxy),i=!1;r(n.dimension,e.elProxyPosition.dimension)&&("fixed"===e.$elProxy.css("position")?r(n.position,e.elProxyPosition.position)&&(i=!0):r(n.offset,e.elProxyPosition.offset)&&(i=!0)),i||(e.reposition(),e.options.positionTrackerCallback.call(e,e.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(t){"object"==typeof t&&null!==t&&this.options.contentCloning&&(t=t.clone(!0)),this.Content=t},_content_insert:function(){var t=this,e=this.$tooltip.find(".tooltipster-content");"string"!=typeof t.Content||t.options.contentAsHTML?e.empty().append(t.Content):e.text(t.Content)},_update:function(t){var e=this;e._content_set(t),null!==e.Content?"hidden"!==e.Status&&(e._content_insert(),e.reposition(),e.options.updateAnimation&&(s()?(e.$tooltip.css({width:"","-webkit-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=e.Status&&(e.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==e.Status&&e.$tooltip.css({"-webkit-transition":e.options.speed+"ms","-moz-transition":e.options.speed+"ms","-o-transition":e.options.speed+"ms","-ms-transition":e.options.speed+"ms",transition:e.options.speed+"ms"})},e.options.speed))},e.options.speed)):e.$tooltip.fadeTo(e.options.speed,.5,function(){"hidden"!=e.Status&&e.$tooltip.fadeTo(e.options.speed,1)}))):e.hide()},_repositionInfo:function(t){return{dimension:{height:t.outerHeight(!1),width:t.outerWidth(!1)},offset:t.offset(),position:{left:parseInt(t.css("left")),top:parseInt(t.css("top"))}}},hide:function(n){var i=this;n&&i.callbacks.hide.push(n),i.callbacks.show=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null;var r=function(){t.each(i.callbacks.hide,function(t,e){e.call(i.$el)}),i.callbacks.hide=[]};if("shown"==i.Status||"appearing"==i.Status){i.Status="disappearing";var o=function(){i.Status="hidden","object"==typeof i.Content&&null!==i.Content&&i.Content.detach(),i.$tooltip.remove(),i.$tooltip=null,t(e).off("."+i.namespace),t("body").off("."+i.namespace).css("overflow-x",i.bodyOverflowX),t("body").off("."+i.namespace),i.$elProxy.off("."+i.namespace+"-autoClose"),i.options.functionAfter.call(i.$el,i.$el),r()};s()?(i.$tooltip.clearQueue().removeClass("tooltipster-"+i.options.animation+"-show").addClass("tooltipster-dying"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(o)):i.$tooltip.stop().fadeOut(i.options.speed,o)}else"hidden"==i.Status&&r();return i},show:function(t){return this._showNow(t),this},update:function(t){return this.content(t)},content:function(t){return"undefined"==typeof t?this.Content:(this._update(t),this)},reposition:function(){function n(){var n=t(e).scrollLeft();S-n<0&&(o=S-n,S=n),S+l-n>s&&(o=S-(s+n-l),S=s+n-l)}function i(n,i){a.offset.top-t(e).scrollTop()-c-A-12<0&&i.indexOf("top")>-1&&(P=n),a.offset.top+a.dimension.height+c+12+A>t(e).scrollTop()+t(e).height()&&i.indexOf("bottom")>-1&&(P=n,I=a.offset.top-c-A-12)}var r=this;if(0!==t("body").find(r.$tooltip).length){r.$tooltip.css("width",""),r.elProxyPosition=r._repositionInfo(r.$elProxy);var o=null,s=t(e).width(),a=r.elProxyPosition,l=r.$tooltip.outerWidth(!1),c=(r.$tooltip.innerWidth()+1,r.$tooltip.outerHeight(!1));if(r.$elProxy.is("area")){var u=r.$elProxy.attr("shape"),d=r.$elProxy.parent().attr("name"),h=t('img[usemap="#'+d+'"]'),p=h.offset().left,f=h.offset().top,g=void 0!==r.$elProxy.attr("coords")?r.$elProxy.attr("coords").split(","):void 0;if("circle"==u){var m=parseInt(g[0]),v=parseInt(g[1]),y=parseInt(g[2]);a.dimension.height=2*y,a.dimension.width=2*y,a.offset.top=f+v-y,a.offset.left=p+m-y}else if("rect"==u){var m=parseInt(g[0]),v=parseInt(g[1]),b=parseInt(g[2]),w=parseInt(g[3]);a.dimension.height=w-v,a.dimension.width=b-m,a.offset.top=f+v,a.offset.left=p+m}else if("poly"==u){for(var _=0,x=0,C=0,D=0,$="even",k=0;k<g.length;k++){var T=parseInt(g[k]);"even"==$?(T>C&&(C=T,0===k&&(_=C)),T<_&&(_=T),$="odd"):(T>D&&(D=T,1==k&&(x=D)),T<x&&(x=T),$="even")}a.dimension.height=D-x,a.dimension.width=C-_,a.offset.top=f+x,a.offset.left=p+_}else a.dimension.height=h.outerHeight(!1),a.dimension.width=h.outerWidth(!1),a.offset.top=f,a.offset.left=p}var S=0,M=0,I=0,A=parseInt(r.options.offsetY),E=parseInt(r.options.offsetX),P=r.options.position;if("top"==P){var N=a.offset.left+l-(a.offset.left+a.dimension.width);S=a.offset.left+E-N/2,I=a.offset.top-c-A-12,n(),i("bottom","top")}if("top-left"==P&&(S=a.offset.left+E,I=a.offset.top-c-A-12,n(),i("bottom-left","top-left")),"top-right"==P&&(S=a.offset.left+a.dimension.width+E-l,I=a.offset.top-c-A-12,n(),i("bottom-right","top-right")),"bottom"==P){var N=a.offset.left+l-(a.offset.left+a.dimension.width);S=a.offset.left-N/2+E,I=a.offset.top+a.dimension.height+A+12,n(),i("top","bottom")}if("bottom-left"==P&&(S=a.offset.left+E,I=a.offset.top+a.dimension.height+A+12,n(),i("top-left","bottom-left")),"bottom-right"==P&&(S=a.offset.left+a.dimension.width+E-l,I=a.offset.top+a.dimension.height+A+12,n(),i("top-right","bottom-right")),"left"==P){S=a.offset.left-E-l-12,M=a.offset.left+E+a.dimension.width+12;var O=a.offset.top+c-(a.offset.top+a.dimension.height);if(I=a.offset.top-O/2-A,S<0&&M+l>s){var j=2*parseFloat(r.$tooltip.css("border-width")),L=l+S-j;r.$tooltip.css("width",L+"px"),c=r.$tooltip.outerHeight(!1),S=a.offset.left-E-L-12-j,O=a.offset.top+c-(a.offset.top+a.dimension.height),I=a.offset.top-O/2-A}else S<0&&(S=a.offset.left+E+a.dimension.width+12,o="left")}if("right"==P){S=a.offset.left+E+a.dimension.width+12,M=a.offset.left-E-l-12;var O=a.offset.top+c-(a.offset.top+a.dimension.height);if(I=a.offset.top-O/2-A,S+l>s&&M<0){var j=2*parseFloat(r.$tooltip.css("border-width")),L=s-S-j;r.$tooltip.css("width",L+"px"),c=r.$tooltip.outerHeight(!1),O=a.offset.top+c-(a.offset.top+a.dimension.height),I=a.offset.top-O/2-A}else S+l>s&&(S=a.offset.left-E-l-12,o="right")}if(r.options.arrow){var z="tooltipster-arrow-"+P;if(r.options.arrowColor.length<1)var G=r.$tooltip.css("background-color");else var G=r.options.arrowColor;if(o?"left"==o?(z="tooltipster-arrow-right",o=""):"right"==o?(z="tooltipster-arrow-left",o=""):o="left:"+Math.round(o)+"px;":o="","top"==P||"top-left"==P||"top-right"==P)var F=parseFloat(r.$tooltip.css("border-bottom-width")),R=r.$tooltip.css("border-bottom-color");else if("bottom"==P||"bottom-left"==P||"bottom-right"==P)var F=parseFloat(r.$tooltip.css("border-top-width")),R=r.$tooltip.css("border-top-color");else if("left"==P)var F=parseFloat(r.$tooltip.css("border-right-width")),R=r.$tooltip.css("border-right-color");else if("right"==P)var F=parseFloat(r.$tooltip.css("border-left-width")),R=r.$tooltip.css("border-left-color");else var F=parseFloat(r.$tooltip.css("border-bottom-width")),R=r.$tooltip.css("border-bottom-color");F>1&&F++;var q="";if(0!==F){var H="",U="border-color: "+R+";";z.indexOf("bottom")!==-1?H="margin-top: -"+Math.round(F)+"px;":z.indexOf("top")!==-1?H="margin-bottom: -"+Math.round(F)+"px;":z.indexOf("left")!==-1?H="margin-right: -"+Math.round(F)+"px;":z.indexOf("right")!==-1&&(H="margin-left: -"+Math.round(F)+"px;"),q='<span class="tooltipster-arrow-border" style="'+H+" "+U+';"></span>'}r.$tooltip.find(".tooltipster-arrow").remove();var B='<div class="'+z+' tooltipster-arrow" style="'+o+'">'+q+'<span style="border-color:'+G+';"></span></div>';r.$tooltip.append(B)}r.$tooltip.css({top:Math.round(I)+"px",left:Math.round(S)+"px"})}return r},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var e=this;e.hide(),e.$el[0]!==e.$elProxy[0]&&e.$elProxy.remove(),e.$el.removeData(e.namespace).off("."+e.namespace);var n=e.$el.data("tooltipster-ns");if(1===n.length){var i=null;"previous"===e.options.restoration?i=e.$el.data("tooltipster-initialTitle"):"current"===e.options.restoration&&(i="string"==typeof e.Content?e.Content:t("<div></div>").append(e.Content).html()),i&&e.$el.attr("title",i),e.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,function(t){return t!==e.namespace}),e.$el.data("tooltipster-ns",n);return e},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(t,e){return"undefined"==typeof e?this.options[t]:(this.options[t]=e,this)},status:function(){return this.Status}},t.fn[a]=function(){var e=arguments;if(0===this.length){if("string"==typeof e[0]){var n=!0;switch(e[0]){case"setDefaults":t.extend(l,e[1]);break;default:n=!1}return!!n||this}return this}if("string"==typeof e[0]){var r="#*$~&";return this.each(function(){var n=t(this).data("tooltipster-ns"),i=n?t(this).data(n[0]):null;if(!i)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof i[e[0]])throw new Error('Unknown method .tooltipster("'+e[0]+'")');var o=i[e[0]](e[1],e[2]);if(o!==i)return r=o,!1}),"#*$~&"!==r?r:this}var o=[],s=e[0]&&"undefined"!=typeof e[0].multiple,a=s&&e[0].multiple||!s&&l.multiple,c=e[0]&&"undefined"!=typeof e[0].debug,u=c&&e[0].debug||!c&&l.debug;return this.each(function(){var n=!1,r=t(this).data("tooltipster-ns"),s=null;r?a?n=!0:u&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):n=!0,n&&(s=new i(this,e[0]),r||(r=[]),r.push(s.namespace),t(this).data("tooltipster-ns",r),t(this).data(s.namespace,s)),o.push(s)}),a?o:this};var c=!!("ontouchstart"in e),u=!1;t("body").one("mousemove",function(){u=!0})}(jQuery,window,document),function(t){function e(e){return t(e).filter(function(){return t(this).is(":appeared")})}function n(){s=!1;for(var t=0,n=r.length;t<n;t++){var i=e(r[t]);if(i.trigger("appear",[i]),c[t]){var o=c[t].not(i);o.trigger("disappear",[o])}c[t]=i}}function i(t){r.push(t),c.push()}var r=[],o=!1,s=!1,a={interval:250,force_process:!1},l=t(window),c=[];t.expr[":"].appeared=function(e){var n=t(e);if(!n.is(":visible"))return!1;var i=l.scrollLeft(),r=l.scrollTop(),o=n.offset(),s=o.left,a=o.top;return a+n.height()>=r&&a-(n.data("appear-top-offset")||0)<=r+l.height()&&s+n.width()>=i&&s-(n.data("appear-left-offset")||0)<=i+l.width()},t.fn.extend({appear:function(e){var r=t.extend({},a,e||{}),l=this.selector||this;if(!o){var c=function(){s||(s=!0,setTimeout(n,r.interval))};t(window).scroll(c).resize(c),o=!0}return r.force_process&&setTimeout(n,r.interval),i(l),t(l)}}),t.extend({force_appear:function(){return!!o&&(n(),!0)}})}(function(){return"undefined"!=typeof module?require("jquery"):jQuery}()),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=t.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(e){function i(){var i,r;return!n.settings.submitHandler||(n.submitButton&&(i=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),r=n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&i.remove(),void 0!==r&&r)}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){var e,n,i;return t(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,n=t(this[0].form).validate(),this.each(function(){e=n.element(this)&&e,e||(i=i.concat(n.errorList))}),n.errorList=i),e},rules:function(e,n){if(this.length){var i,r,o,s,a,l,c=this[0];if(e)switch(i=t.data(c.form,"validator").settings,r=i.rules,o=t.validator.staticRules(c),e){case"add":t.extend(o,t.validator.normalizeRule(n)),delete o.messages,r[c.name]=o,n.messages&&(i.messages[c.name]=t.extend(i.messages[c.name],n.messages));break;case"remove":return n?(l={},t.each(n.split(/\s/),function(e,n){l[n]=o[n],delete o[n],"required"===n&&t(c).removeAttr("aria-required")}),l):(delete r[c.name],o)}return s=t.validator.normalizeRules(t.extend({},t.validator.classRules(c),t.validator.attributeRules(c),t.validator.dataRules(c),t.validator.staticRules(c)),c),s.required&&(a=s.required,delete s.required,s=t.extend({required:a},s),t(c).attr("aria-required","true")),s.remote&&(a=s.remote,delete s.remote,s=t.extend(s,{remote:a})),s}}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var n=t(e).val();return null!==n&&!!t.trim(""+n)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:void 0===n?e:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,n){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(e)||-1!==t.inArray(n.keyCode,i)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(i):t(e).addClass(n).removeClass(i)},unhighlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(i):t(e).removeClass(n).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=t.data(this.form,"validator"),i="on"+e.type.replace(/^validate/,""),r=n.settings;r[i]&&!t(this).is(r.ignore)&&r[i].call(n,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){i[n]=e})}),n=this.settings.rules,t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),
t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var n,i,r=this.clean(e),o=this.validationTargetFor(r),s=this,a=!0;return void 0===o?delete this.invalid[r.name]:(this.prepareElement(o),this.currentElements=t(o),i=this.groups[o.name],i&&t.each(this.groups,function(t,e){e===i&&t!==o.name&&(r=s.validationTargetFor(s.clean(s.findByName(t))),r&&r.name in s.invalid&&(s.currentElements.push(r),a=a&&s.check(r)))}),n=this.check(o)!==!1,a=a&&n,n?this.invalid[o.name]=!1:this.invalid[o.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!n)),a},showErrors:function(e){if(e){var n=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:n.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)t[e]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var i=this.name||t(this).attr("name");return!i&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0]),!(i in n||!e.objectLength(t(this).rules()))&&(n[i]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n,i,r=t(e),o=e.type;return"radio"===o||"checkbox"===o?this.findByName(e.name).filter(":checked").val():"number"===o&&"undefined"!=typeof e.validity?e.validity.badInput?"NaN":r.val():(n=e.hasAttribute("contenteditable")?r.text():r.val(),"file"===o?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(i=n.lastIndexOf("/"),i>=0?n.substr(i+1):(i=n.lastIndexOf("\\"),i>=0?n.substr(i+1):n)):"string"==typeof n?n.replace(/\r/g,""):n)},check:function(e){e=this.validationTargetFor(this.clean(e));var n,i,r,o=t(e).rules(),s=t.map(o,function(t,e){return e}).length,a=!1,l=this.elementValue(e);if("function"==typeof o.normalizer){if(l=o.normalizer.call(e,l),"string"!=typeof l)throw new TypeError("The normalizer should return a string value.");delete o.normalizer}for(i in o){r={method:i,parameters:o[i]};try{if(n=t.validator.methods[i].call(this,l,e,r.parameters),"dependency-mismatch"===n&&1===s){a=!0;continue}if(a=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,r),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+r.method+"' method."),t}}if(!a)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,n){var i=this.findDefined(this.customMessage(e.name,n.method),this.customDataMessage(e,n.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,n.parameters,e):r.test(i)&&(i=t.validator.format(i.replace(r,"{$1}"),n.parameters)),i},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e);this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var i,r,o,s,a=this.errorsFor(e),l=this.idOrName(e),c=t(e).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(n)):(a=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(n||""),i=a,this.settings.wrapper&&(i=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,t(e)):i.insertAfter(e),a.is("label")?a.attr("for",l):0===a.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=a.attr("id"),c?c.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(c+=" "+o):c=o,t(e).attr("aria-describedby",c),r=this.groups[e.name],r&&(s=this,t.each(s.groups,function(e,n){n===r&&t("[name='"+s.escapeCssMeta(e)+"']",s.currentForm).attr("aria-describedby",a.attr("id"))})))),!n&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,e)),this.toShow=this.toShow.add(a)},errorsFor:function(e){var n=this.escapeCssMeta(this.idOrName(e)),i=t(e).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,n){return!!t(e,n.form).length},"function":function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,n){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:n})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},i=t(e).attr("class");return i&&t.each(i.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},normalizeAttributeRule:function(t,e,n,i){/min|max|step/.test(n)&&(null===e||/number|range|text/.test(e))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?t[n]=i:e===n&&"range"!==e&&(t[n]=!0)},attributeRules:function(e){var n,i,r={},o=t(e),s=e.getAttribute("type");for(n in t.validator.methods)"required"===n?(i=e.getAttribute(n),""===i&&(i=!0),i=!!i):i=o.attr(n),this.normalizeAttributeRule(r,s,n,i);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var n,i,r={},o=t(e),s=e.getAttribute("type");for(n in t.validator.methods)i=o.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),this.normalizeAttributeRule(r,s,n,i);return r},staticRules:function(e){var n={},i=t.data(e.form,"validator");return i.settings.rules&&(n=t.validator.normalizeRule(i.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(i,r){if(r===!1)return void delete e[i];if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!t(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?e[i]=void 0===r.param||r.param:(t.data(n.form,"validator").resetElements(t(n)),delete e[i])}}),t.each(e,function(i,r){e[i]=t.isFunction(r)&&"normalizer"!==i?r(n):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,i){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==i?i:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=t(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(e,n)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||r>=i},maxlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||i>=r},rangelength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},step:function(e,n,i){var r=t(n).attr("type"),o="Step attribute on input type "+r+" is not supported.",s=["text","number","range"],a=new RegExp("\\b"+r+"\\b"),l=r&&!a.test(s.join());if(l)throw new Error(o);return this.optional(n)||e%i===0},equalTo:function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(n).valid()}),e===r.val()},remote:function(e,n,i,r){if(this.optional(n))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var o,s,a,l=this.previousValue(n,r);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[n.name][r],this.settings.messages[n.name][r]=l.message,i="string"==typeof i&&{url:i}||i,a=t.param(t.extend({data:e},i.data)),l.old===a?l.valid:(l.old=a,o=this,this.startRequest(n),s={},s[n.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:s,context:o.currentForm,success:function(t){var i,s,a,c=t===!0||"true"===t;o.settings.messages[n.name][r]=l.originalMessage,c?(a=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(n),o.formSubmitted=a,o.successList.push(n),o.invalid[n.name]=!1,o.showErrors()):(i={},s=t||o.defaultMessage(n,{method:r,parameters:e}),i[n.name]=l.message=s,o.invalid[n.name]=!0,o.showErrors(i)),l.valid=c,o.stopRequest(n,c)}},i)),"pending")}}});var e,n={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,i){var r=t.port;"abort"===t.mode&&(n[r]&&n[r].abort(),n[r]=i)}):(e=t.ajax,t.ajax=function(i){var r=("mode"in i?i:t.ajaxSettings).mode,o=("port"in i?i:t.ajaxSettings).port;return"abort"===r?(n[o]&&n[o].abort(),n[o]=e.apply(this,arguments),n[o]):e.apply(this,arguments)})}),$.extend($.validator.prototype,{startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,$(t).addClass(this.settings.pendingClass),$(t).closest(".field").addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],$(t).removeClass(this.settings.pendingClass),$(t).closest(".field").removeClass(this.settings.pendingClass),e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?($(this.currentForm).submit(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&($(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)}}),$.extend($.validator.messages,{required:"\u8fd9\u662f\u5fc5\u586b\u5b57\u6bb5",remote:"\u8bf7\u4fee\u6b63\u6b64\u5b57\u6bb5",email:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740",url:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7f51\u5740",date:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u65e5\u671f",dateISO:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u65e5\u671f (YYYY-MM-DD)",number:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u6570\u5b57",digits:"\u53ea\u80fd\u8f93\u5165\u6570\u5b57",creditcard:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u4fe1\u7528\u5361\u53f7\u7801",equalTo:"\u4f60\u7684\u8f93\u5165\u4e0d\u76f8\u540c",extension:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u540e\u7f00",maxlength:$.validator.format("\u6700\u591a\u53ef\u4ee5\u8f93\u5165 {0} \u4e2a\u5b57"),minlength:$.validator.format("\u6700\u5c11\u8981\u8f93\u5165 {0} \u4e2a\u5b57"),rangelength:$.validator.format("\u8bf7\u8f93\u5165\u957f\u5ea6\u5728 {0} \u5230 {1} \u4e4b\u95f4\u7684\u5b57\u7b26\u4e32"),range:$.validator.format("\u8bf7\u8f93\u5165\u8303\u56f4\u5728 {0} \u5230 {1} \u4e4b\u95f4\u7684\u6570\u503c"),max:$.validator.format("\u8bf7\u8f93\u5165\u4e0d\u5927\u4e8e {0} \u7684\u6570\u503c"),min:$.validator.format("\u8bf7\u8f93\u5165\u4e0d\u5c0f\u4e8e {0} \u7684\u6570\u503c")}),function(){!function(t){return t.fn.fixedColumn=function(){return 0===t(this).length?this:this.each(function(){var e,n,i,r;if(i=t(this)[0].offsetWidth,r=t(this).parent()[0].clientWidth,!(i<=r))return t(this).wrap('<div class="fix-col-table-wrapper"><div class="fix-col-table-inner"></div></div>'),n=t(this).find("tr td:first-child, tr th:first-child"),e=t('<table class="table-col-headers"></table>'),n.each(function(){var n,i,r;return n=t(this),r=t(this).outerWidth(),i=t(this).outerHeight(),t(this).parent("tr").css("height",i),n.css("width",r),e.append(t("<tr></tr>").append(n)),n.parent("tr").css("height",i)}),t(this).closest(".fix-col-table-wrapper").prepend(e)})}}(jQuery)}.call(this),+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,s,this)})}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.6",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),s=o.data("bs.collapse"),a=s?"toggle":r.data();n.call(o,a)})}(jQuery),function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function r(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function o(t){return function(){return this[t].apply(this,arguments)}}function s(e,n){function i(t,e){return e.toLowerCase()}var r,o=t(e).data(),s={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in o)n.test(l)&&(r=l.replace(a,i),s[r]=o[l]);return s}function a(e){var n={};if(g[e]||(e=e.split("-")[0],g[e])){var i=g[e];return t.each(f,function(t,e){e in i&&(n[e]=i[e])}),n}}var l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new l;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),c=function(e,n){this._process_options(n),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(r){this._o=t.extend({},this._o,r);var o=this.o=t.extend({},this._o),s=o.language;switch(g[s]||(s=s.split("-")[0],g[s]||(s=p.language)),o.language=s,o.startView){case 2:case"decade":o.startView=2;break;case 1:case"year":o.startView=1;break;default:o.startView=0}switch(o.minViewMode){case 1:case"months":o.minViewMode=1;break;case 2:case"years":o.minViewMode=2;break;default:o.minViewMode=0}o.startView=Math.max(o.startView,o.minViewMode),o.multidate!==!0&&(o.multidate=Number(o.multidate)||!1,o.multidate!==!1&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7;var a=m.parseFormat(o.format);if(o.startDate!==-(1/0)&&(o.startDate?o.startDate instanceof Date?o.startDate=this._local_to_utc(this._zero_time(o.startDate)):o.startDate=m.parseDate(o.startDate,a,o.language):o.startDate=-(1/0)),o.endDate!==1/0&&(o.endDate?o.endDate instanceof Date?o.endDate=this._local_to_utc(this._zero_time(o.endDate)):o.endDate=m.parseDate(o.endDate,a,o.language):o.endDate=1/0),o.daysOfWeekDisabled=o.daysOfWeekDisabled||[],t.isArray(o.daysOfWeekDisabled)||(o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/)),o.daysOfWeekDisabled=t.map(o.daysOfWeekDisabled,function(t){return parseInt(t,10)}),o.datesDisabled=o.datesDisabled||[],!t.isArray(o.datesDisabled)){var l=[];l.push(m.parseDate(o.datesDisabled,a,o.language)),o.datesDisabled=l}o.datesDisabled=t.map(o.datesDisabled,function(t){return m.parseDate(t,a,o.language)});var c=String(o.orientation).toLowerCase().split(/\s+/g),u=o.orientation.toLowerCase();if(c=t.grep(c,function(t){return/^auto|left|right|top|bottom$/.test(t)}),o.orientation={x:"auto",y:"auto"},u&&"auto"!==u)if(1===c.length)switch(c[0]){case"top":case"bottom":o.orientation.y=c[0];break;case"left":case"right":o.orientation.x=c[0]}else u=t.grep(c,function(t){return/^left|right$/.test(t)}),o.orientation.x=u[0]||"auto",u=t.grep(c,function(t){return/^top|bottom$/.test(t)}),o.orientation.y=u[0]||"auto";else;if(o.defaultViewDate){var d=o.defaultViewDate.year||(new Date).getFullYear(),h=o.defaultViewDate.month||0,f=o.defaultViewDate.day||1;o.defaultViewDate=n(d,h,f)}else o.defaultViewDate=i();o.showOnFocus=o.showOnFocus===e||o.showOnFocus;
},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(i=e,r=t[o][1]):3===t[o].length&&(i=t[o][1],r=t[o][2]),n.on(r,i)},_unapplyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(r=e,i=t[o][1]):3===t[o].length&&(r=t[o][1],i=t[o][2]),n.off(i,r)},_buildEvents:function(){var e={keyup:t.proxy(function(e){t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:t.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:e,date:r,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return m.formatDate(n,e,this.o.language)},this)})},show:function(){if(!this.element.attr("readonly")||this.o.enableOnReadonly!==!1)return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return"undefined"!=typeof t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change(),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,n,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,r=t(this.o.container).width(),o=t(this.o.container).height(),s=t(this.o.container).scrollTop(),a=t(this.o.container).offset(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var c=Math.max.apply(Math,l)+10,u=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=u.left-a.left,f=u.top-a.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-h)):u.left<0?(this.picker.addClass("datepicker-orient-left"),p-=u.left-i):p+e>r?(this.picker.addClass("datepicker-orient-right"),p=u.left+h-e):this.picker.addClass("datepicker-orient-left");var g,m,v=this.o.orientation.y;if("auto"===v&&(g=-s+f-n,m=s+o-(f+d+n),v=Math.max(g,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?f+=d:f-=n+parseInt(this.picker.css("padding-top")),this.o.rtl){var y=r-(p+h);this.picker.css({top:f,right:y,zIndex:c})}else this.picker.css({top:f,left:p,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],i=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),n=t.grep(n,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1});var n='<th class="cw">&#160;</th>';e+=n}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+g[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+g[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),s=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<o?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>o)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===s.getFullYear()&&e.getUTCMonth()===s.getMonth()&&e.getUTCDate()===s.getDate()&&n.push("today"),this.dates.contains(e)!==-1&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&n.push("disabled"),this.o.datesDisabled.length>0&&t.grep(this.o.datesDisabled,function(t){return r(e,t)}).length>0&&n.push("disabled","disabled-date"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),t.inArray(e.valueOf(),this.range)!==-1&&n.push("selected")),n},fill:function(){var i,r=new Date(this.viewDate),o=r.getUTCFullYear(),s=r.getUTCMonth(),a=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=g[this.o.language].today||g.en.today||"",h=g[this.o.language].clear||g.en.clear||"";if(!isNaN(o)&&!isNaN(s)){this.picker.find(".datepicker-days thead .datepicker-switch").text(g[this.o.language].months[s]+" "+o),this.picker.find("tfoot .today").text(d).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(h).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=n(o,s-1,28),f=m.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(f),p.setUTCDate(f-(p.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(p);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,b=[];p.valueOf()<v;){if(p.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),_=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),x=new Date(Number(x=n(_.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),C=(_-x)/864e5/7+1;b.push('<td class="cw">'+C+"</td>")}if(y=this.getClassNames(p),y.push("day"),this.o.beforeShowDay!==t.noop){var D=this.o.beforeShowDay(this._utc_to_local(p));D===e?D={}:"boolean"==typeof D?D={enabled:D}:"string"==typeof D&&(D={classes:D}),D.enabled===!1&&y.push("disabled"),D.classes&&(y=y.concat(D.classes.split(/\s+/))),D.tooltip&&(i=D.tooltip)}y=t.unique(y),b.push('<td class="'+y.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+p.getUTCDate()+"</td>"),i=null,p.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var $=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===o&&$.eq(e.getUTCMonth()).addClass("active")}),(o<a||o>c)&&$.addClass("disabled"),o===a&&$.slice(0,l).addClass("disabled"),o===c&&$.slice(u+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var k=this;t.each($,function(e,n){if(!t(n).hasClass("disabled")){var i=new Date(o,e,1),r=k.o.beforeShowMonth(i);r===!1&&t(n).addClass("disabled")}})}b="",o=10*parseInt(o/10,10);var T=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var S,M=t.map(this.dates,function(t){return t.getUTCFullYear()}),I=-1;I<11;I++)S=["year"],I===-1?S.push("old"):10===I&&S.push("new"),t.inArray(o,M)!==-1&&S.push("active"),(o<a||o>c)&&S.push("disabled"),b+='<span class="'+S.join(" ")+'">'+o+"</span>",o+=1;T.html(b)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var i,r,o,s=t(e.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var a=m.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":this.clearDates()}break;case"span":s.hasClass("disabled")||(this.viewDate.setUTCDate(1),s.hasClass("month")?(o=1,r=s.parent().find("span").index(s),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,r,o))):(o=1,r=0,i=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,r,o))),this.showMode(-1),this.fill());break;case"td":s.hasClass("day")&&!s.hasClass("disabled")&&(o=parseInt(s.text(),10)||1,i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),s.hasClass("old")?0===r?(r=11,i-=1):r-=1:s.hasClass("new")&&(11===r?(r=0,i+=1):r+=1),this._setDate(n(i,r,o)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),e!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):this.o.multidate===!1?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,n){if(!t)return e;if(!n)return t;var i,r,o=new Date(t.valueOf()),s=o.getUTCDate(),a=o.getUTCMonth(),l=Math.abs(n);if(n=n>0?1:-1,1===l)r=n===-1?function(){return o.getUTCMonth()===a}:function(){return o.getUTCMonth()!==i},i=a+n,o.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var c=0;c<l;c++)o=this.moveMonth(o,n);i=o.getUTCMonth(),o.setUTCDate(s),r=function(){return i!==o.getUTCMonth()}}for(;r();)o.setUTCDate(--s),o.setUTCMonth(i);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void(27===t.keyCode&&this.show());var e,n,r,o=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),r=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),r=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+e),r=new Date(s),r.setUTCDate(s.getUTCDate()+e)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),r=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),r=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*e),r=new Date(s),r.setUTCDate(s.getUTCDate()+7*e)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),o=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(o){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var u=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,h.call(t(this.inputs),n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker"),i=n.getUTCDate(),r=t.inArray(e.target,this.inputs),o=r-1,s=r+1,a=this.inputs.length;if(r!==-1){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[o])for(;o>=0&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[s])for(;s<a&&i>this.dates[s];)this.pickers[s++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var d=t.fn.datepicker,h=function(n){var i=Array.apply(null,arguments);i.shift();var r;return this.each(function(){var o=t(this),l=o.data("datepicker"),d="object"==typeof n&&n;if(!l){var h=s(this,"date"),f=t.extend({},p,h,d),g=a(f.language),m=t.extend({},p,g,h,d);if(o.hasClass("input-daterange")||m.inputs){var v={inputs:m.inputs||o.find("input").toArray()};o.data("datepicker",l=new u(this,t.extend(m,v)))}else o.data("datepicker",l=new c(this,m))}if("string"==typeof n&&"function"==typeof l[n]&&(r=l[n].apply(l,i),r!==e))return!1}),r!==e?r:this};t.fn.datepicker=h;var p=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=c;var g=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(i,r,o){function s(){var t=this.slice(0,h[u].length),e=h[u].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!i)return e;if(i instanceof Date)return i;"string"==typeof r&&(r=m.parseFormat(r));var a,l,u,d=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,u=0;u<h.length;u++)switch(a=d.exec(h[u]),l=parseInt(a[1]),a[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=c.prototype.moveMonth.call(c.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=c.prototype.moveYear.call(c.prototype,i,l)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}h=i&&i.match(this.nonpunctuation)||[],i=new Date;var p,f,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var w=r.parts.slice();if(h.length!==w.length&&(w=t(w).filter(function(e,n){return t.inArray(n,y)!==-1}).toArray()),h.length===w.length){var _;for(u=0,_=w.length;u<_;u++){if(p=parseInt(h[u],10),a=w[u],isNaN(p))switch(a){case"MM":f=t(g[o].months).filter(s),p=t.inArray(f[0],g[o].months)+1;break;case"M":f=t(g[o].monthsShort).filter(s),p=t.inArray(f[0],g[o].monthsShort)+1}v[a]=p}var x,C;for(u=0;u<y.length;u++)C=y[u],C in v&&!isNaN(v[C])&&(x=new Date(i),b[C](x,v[C]),isNaN(x)||(i=x))}return i},formatDate:function(e,n,i){if(!e)return"";"string"==typeof n&&(n=m.parseFormat(n));var r={d:e.getUTCDate(),D:g[i].daysShort[e.getUTCDay()],DD:g[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:g[i].monthsShort[e.getUTCMonth()],MM:g[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var o=t.extend([],n.separators),s=0,a=n.parts.length;s<=a;s++)o.length&&e.push(o.shift()),e.push(r[n.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d,this},t.fn.datepicker.version="1.4.1",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),h.call(n,"show"))}),t(function(){h.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(t){t.fn.datepicker.dates["zh-CN"]={days:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],daysShort:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],daysMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],today:"\u4eca\u65e5",clear:"\u6e05\u9664",format:"yyyy\u5e74mm\u6708dd\u65e5",titleFormat:"yyyy\u5e74mm\u6708",weekStart:1}}(jQuery),function(t){t.fn.datepicker.dates["zh-TW"]={days:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],daysShort:["\u9031\u65e5","\u9031\u4e00","\u9031\u4e8c","\u9031\u4e09","\u9031\u56db","\u9031\u4e94","\u9031\u516d"],daysMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],today:"\u4eca\u5929",format:"yyyy\u5e74mm\u6708dd\u65e5",weekStart:1,clear:"\u6e05\u9664"}}(jQuery),function(t,e){if("function"==typeof define&&define.amd)define(["exports","module"],e);else if("undefined"!=typeof exports&&"undefined"!=typeof module)e(exports,module);else{var n={exports:{}};e(n.exports,n),t.autosize=n.exports}}(this,function(t,e){"use strict";function n(t){function e(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),u="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),r()}function n(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,d=e,c&&(t.style.overflowY=e),i()}function i(){var e=window.pageYOffset,n=document.body.scrollTop,i=t.style.height;t.style.height="auto";var r=t.scrollHeight+u;return 0===t.scrollHeight?void(t.style.height=i):(t.style.height=r+"px",document.documentElement.scrollTop=e,void(document.body.scrollTop=n))}function r(){var e=t.style.height;i();var r=window.getComputedStyle(t,null);if(r.height!==t.style.height?"visible"!==d&&n("visible"):"hidden"!==d&&n("hidden"),e!==t.style.height){var o=document.createEvent("Event");o.initEvent("autosize:resized",!0,!1),t.dispatchEvent(o)}}var o=void 0===arguments[1]?{}:arguments[1],s=o.setOverflowX,a=void 0===s||s,l=o.setOverflowY,c=void 0===l||l;if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!t.hasAttribute("data-autosize-on")){var u=null,d="hidden",h=function(e){window.removeEventListener("resize",r),t.removeEventListener("input",r),t.removeEventListener("keyup",r),t.removeAttribute("data-autosize-on"),t.removeEventListener("autosize:destroy",h),Object.keys(e).forEach(function(n){t.style[n]=e[n]})}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",h),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",r),window.addEventListener("resize",r),t.addEventListener("input",r),t.addEventListener("autosize:update",r),t.setAttribute("data-autosize-on",!0),c&&(t.style.overflowY="hidden"),a&&(t.style.overflowX="hidden",t.style.wordWrap="break-word"),e()}}function i(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName){var e=document.createEvent("Event");e.initEvent("autosize:destroy",!0,!1),t.dispatchEvent(e)}}function r(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName){var e=document.createEvent("Event");e.initEvent("autosize:update",!0,!1),t.dispatchEvent(e)}}var o=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(o=function(t){return t},o.destroy=function(t){return t},o.update=function(t){return t}):(o=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t,e)}),t},o.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t},o.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],r),t}),e.exports=o}),function(){"use strict";var t,e,n="undefined",i="string",r=self.navigator,o=String,s=Object.prototype.hasOwnProperty,a={},l={},c=!1,u=!0,d=/^\s*application\/(?:vnd\.oftn\.|x-)?l10n\+json\s*(?:$|;)/i,h="locale",p="defaultLocale",f="toLocaleString",g="toLowerCase",m=Array.prototype.indexOf||function(t){for(var e=this.length,n=0;n<e;n++)if(n in this&&this[n]===t)return n;return-1},v=function(e){var n=new t,i={};n.open("GET",e,c),n.send(null);try{i=JSON.parse(n.responseText)}catch(t){setTimeout(function(){var t=new Error("Unable to load localization data: "+e);throw t.name="Localization Error",t},0)}return i},y=o[f]=function(t){if(arguments.length>0&&"number"!=typeof t)if(typeof t===i)y(v(t));else if(t===c)l={};else{var e,n,r;for(e in t)if(s.call(t,e)){if(n=t[e],e=e[g](),e in l&&n!==c||(l[e]={}),n===c)continue;if(typeof n===i){if(0!==o[h][g]().indexOf(e)){e in a||(a[e]=[]),a[e].push(n);continue}n=v(n)}for(r in n)s.call(n,r)&&(l[e][r]=n[r])}}return Function.prototype[f].apply(o,arguments)},b=function(t){for(var e,n=a[t],i=0,r=n.length;i<r;i++)e={},e[t]=v(n[i]),y(e);delete a[t]},w=o.prototype[f]=function(){var t,n=e,i=o[n?p:h],r=i[g]().split("-"),s=r.length,d=this.valueOf();e=c;do if(t=r.slice(0,s).join("-"),t in a&&b(t),t in l&&d in l[t])return l[t][d];while(s-- >1);return!n&&o[p]?(e=u,w.call(d)):d};if(typeof XMLHttpRequest===n&&typeof ActiveXObject!==n){var _=ActiveXObject;t=function(){try{return new _("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new _("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new _("Msxml2.XMLHTTP")}catch(t){}throw new Error("XMLHttpRequest not supported by this browser.")}}else t=XMLHttpRequest;if(o[p]=o[p]||"",o[h]=r&&(r.language||r.userLanguage)||"",typeof document!==n)for(var x,C=document.getElementsByTagName("link"),D=C.length;D--;){var $=C[D],k=($.getAttribute("rel")||"")[g]().split(/\s+/);d.test($.type)&&(m.call(k,"localizations")!==-1?y($.getAttribute("href")):m.call(k,"localization")!==-1&&(x={},x[($.getAttribute("hreflang")||"")[g]()]=$.getAttribute("href"),y(x)))}}(),function(t){var e=document.createElement("div"),n=e.getElementsByTagName("i"),i=t(document.documentElement);e.innerHTML="<!--[if lte IE 8]><i></i><![endif]-->",n[0]&&i.addClass("ie-lte8"),"querySelector"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini&&(i.addClass("tablesaw-enhanced"),t(function(){t(document).trigger("enhance.tablesaw")}))}(jQuery),"undefined"==typeof Tablesaw&&(Tablesaw={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"}}),Tablesaw.config||(Tablesaw.config={}),function(t){var e="table",n={toolbar:"tablesaw-bar"},i={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh"},r="stack",o="table[data-tablesaw-mode],table[data-tablesaw-sortable]",s=function(e){if(!e)throw new Error("Tablesaw requires an element.");this.table=e,this.$table=t(e),this.mode=this.$table.attr("data-tablesaw-mode")||r,this.init()};s.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",e+"-"+Math.round(1e4*Math.random())),this.createToolbar();var t=this._initCells();this.$table.trigger(i.create,[this,t])},s.prototype._initCells=function(){var e,n=this.table.querySelectorAll("thead tr"),i=this;return t(n).each(function(){var r=0;t(this).children().each(function(){var o=parseInt(this.getAttribute("colspan"),10),s=":nth-child("+(r+1)+")";if(e=r+1,o)for(var a=0;a<o-1;a++)r++,s+=", :nth-child("+(r+1)+")";this.cells=i.$table.find("tr").not(t(n).eq(0)).not(this).children(s),r++})}),e},s.prototype.refresh=function(){this._initCells(),this.$table.trigger(i.refresh);
},s.prototype.createToolbar=function(){var e=this.$table.prev("."+n.toolbar);e.length||(e=t("<div>").addClass(n.toolbar).insertBefore(this.$table)),this.$toolbar=e,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},s.prototype.destroy=function(){this.$table.prev("."+n.toolbar).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var r=this.$table.attr("id");t(document).unbind("."+r),t(window).unbind("."+r),this.$table.trigger(i.destroy,[this]),this.$table.removeAttr("data-tablesaw-mode"),this.$table.removeData(e)},t.fn[e]=function(){return this.each(function(){var n=t(this);if(!n.data(e)){var i=new s(this);n.data(e,i)}})},t(document).on("enhance.tablesaw",function(n){t(n.target).find(o)[e]()})}(jQuery),function(t,e){var n={stackTable:"tablesaw-stack",cellLabels:"tablesaw-cell-label",cellContentLabels:"tablesaw-cell-content"},i={obj:"tablesaw-stack"},r={labelless:"data-tablesaw-no-labels",hideempty:"data-tablesaw-hide-empty"},o=function(t){this.$table=e(t),this.labelless=this.$table.is("["+r.labelless+"]"),this.hideempty=this.$table.is("["+r.hideempty+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(i.obj,this)};o.prototype.init=function(t){if(this.$table.addClass(n.stackTable),!this.labelless){var i=e(this.allHeaders),o=this.hideempty;i.each(function(){var i=e(this),s=e(this.cells).filter(function(){return!(e(this).parent().is("["+r.labelless+"]")||o&&e(this).is(":empty"))}),a=s.not(this).filter("thead th").length&&" tablesaw-cell-label-top",l=i.find(".tablesaw-sortable-btn"),c=l.length?l.html():i.html();if(""!==c)if(a){var u=parseInt(e(this).attr("colspan"),10),d="";u&&(d="td:nth-child("+u+"n + "+t+")"),s.filter(d).prepend("<b class='"+n.cellLabels+a+"'>"+c+"</b>")}else s.wrapInner("<span class='"+n.cellContentLabels+"'></span>"),s.prepend("<b class='"+n.cellLabels+"'>"+c+"</b>")})}},o.prototype.destroy=function(){this.$table.removeClass(n.stackTable),this.$table.find("."+n.cellLabels).remove(),this.$table.find("."+n.cellContentLabels).each(function(){e(this).replaceWith(this.childNodes)})},e(document).on("tablesawcreate",function(t,e,n){if("stack"===e.mode){var i=new o(e.table);i.init(n)}}),e(document).on("tablesawdestroy",function(t,n){"stack"===n.mode&&e(n.table).data(i.obj).destroy()})}(this,jQuery),function(){window.GD||(window.GD={}),GD.htmlSafe=function(t){return _.escape(t)},GD.htmlSafeWithLineBreak=function(t){return GD.htmlSafe(t).replace(/\n/g,"<br/>")},GD.htmlSafeWithParagraph=function(t){var e;if(e=GD.htmlSafe(t).replace(/\r\n+/g,"\n"),e=$.trim(e),e.length>0)return e=e.replace(/\n\n+/g,"</p><p>"),e="<p>"+e+"</p>"}}.call(this),function(){window.GD||(window.GD={}),GD.isRetina=function(){return window.devicePixelRatio>1},GD.isIE=function(){return"ie"===Detectizr.browser.name},GD.isFirefox=function(){return"firefox"===Detectizr.browser.name},GD.isMac=function(){return/Mac/i.test(navigator.userAgent)},GD.isAndroidDevice=function(){return navigator.userAgent.indexOf("Android")>0},GD.isOpenInWeiXin=function(){return navigator.userAgent.indexOf("MicroMessenger")>0&&navigator.userAgent.indexOf("WindowsWechat")<0},GD.isLowVersionIE=function(){return"ie"===Detectizr.browser.name&&parseInt(Detectizr.browser.version,10)<10}}.call(this),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){var e,n,i;!function(t){function r(t,e){return w.call(t,e)}function o(t,e){var n,i,r,o,s,a,l,c,u,d,h,p=e&&e.split("/"),f=y.map,g=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(p=p.slice(0,p.length-1),t=t.split("/"),s=t.length-1,y.nodeIdCompat&&x.test(t[s])&&(t[s]=t[s].replace(x,"")),t=p.concat(t),u=0;u<t.length;u+=1)if(h=t[u],"."===h)t.splice(u,1),u-=1;else if(".."===h){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||g)&&f){for(n=t.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),p)for(d=p.length;d>0;d-=1)if(r=f[p.slice(0,d).join("/")],r&&(r=r[i])){o=r,a=u;break}if(o)break;!l&&g&&g[i]&&(l=g[i],c=u)}!o&&l&&(o=l,a=c),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function s(e,n){return function(){return p.apply(t,_.call(arguments,0).concat([e,n]))}}function a(t){return function(e){return o(e,t)}}function l(t){return function(e){m[t]=e}}function c(e){if(r(v,e)){var n=v[e];delete v[e],b[e]=!0,h.apply(t,n)}if(!r(m,e)&&!r(b,e))throw new Error("No "+e);return m[e]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function d(t){return function(){return y&&y.config&&y.config[t]||{}}}var h,p,f,g,m={},v={},y={},b={},w=Object.prototype.hasOwnProperty,_=[].slice,x=/\.js$/;f=function(t,e){var n,i=u(t),r=i[0];return t=i[1],r&&(r=o(r,e),n=c(r)),r?t=n&&n.normalize?n.normalize(t,a(e)):o(t,e):(t=o(t,e),i=u(t),r=i[0],t=i[1],r&&(n=c(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},g={require:function(t){return s(t)},exports:function(t){var e=m[t];return"undefined"!=typeof e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:d(t)}}},h=function(e,n,i,o){var a,u,d,h,p,y,w=[],_=typeof i;if(o=o||e,"undefined"===_||"function"===_){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(h=f(n[p],o),u=h.f,"require"===u)w[p]=g.require(e);else if("exports"===u)w[p]=g.exports(e),y=!0;else if("module"===u)a=w[p]=g.module(e);else if(r(m,u)||r(v,u)||r(b,u))w[p]=c(u);else{if(!h.p)throw new Error(e+" missing "+u);h.p.load(h.n,s(o,!0),l(u),{}),w[p]=m[u]}d=i?i.apply(m[e],w):void 0,e&&(a&&a.exports!==t&&a.exports!==m[e]?m[e]=a.exports:d===t&&y||(m[e]=d))}else e&&(m[e]=i)},e=n=p=function(e,n,i,r,o){if("string"==typeof e)return g[e]?g[e](n):c(f(e,n).f);if(!e.splice){if(y=e,y.deps&&p(y.deps,y.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?h(t,e,n,i):setTimeout(function(){h(t,e,n,i)},4),p},p.config=function(t){return p(t)},e._defined=m,i=function(t,e,n){e.splice||(n=e,e=[]),r(m,t)||r(v,t)||(v[t]=[t,e,n])},i.amd={jQuery:!0}}(),i("almond",function(){}),i("visualcaptcha/core",[],function(){"use strict";var t,e,n,i,r,o,s,a;return t=function(t,e,n){return n=n||[],t.namespace&&t.namespace.length>0&&n.push(t.namespaceFieldName+"="+t.namespace),n.push(t.randomParam+"="+t.randomNonce),e+"?"+n.join("&")},e=function(t){var e,n=this;t.applyRandomNonce(),t.isLoading=!0,e=i(t),t._loading(n),t.callbacks.loading&&t.callbacks.loading(n),t.request(e,function(e){e.imageFieldName&&(t.imageFieldName=e.imageFieldName),e.imageName&&(t.imageName=e.imageName),e.values&&(t.imageValues=e.values),t.isLoading=!1,t.hasLoaded=!0,t._loaded(n),t.callbacks.loaded&&t.callbacks.loaded(n)})},n=function(t,e){var n=this;t._verifing(n),t.callbacks.verifing&&t.callbacks.verifing(n),t.request(o(t,e),function(e){t._verified(e),!e.result&&t.autoRefresh&&n.refresh(),t.callbacks.verified&&t.callbacks.verified(n,e)})},i=function(e){var n=e.url+e.routes.start+"/"+e.numberOfImages;return t(e,n,["locale="+e.locale])},o=function(t,e){return t.url+t.routes.verify+"?"+t.imageFieldName+"="+s(t,e)},r=function(e,n){var i="",r=[];return n<0||n>=e.numberOfImages?i:(this.isRetina()&&r.push("retina=1"),i=e.url+e.routes.image+"/"+n,t(e,i,r))},s=function(t,e){return e>=0&&e<t.numberOfImages?t.imageValues[e]:""},a=function(){return void 0!==window.devicePixelRatio&&window.devicePixelRatio>1},function(t){var i,o,l,c,u,d,h,p,f,g,m,v,y;return o=function(){return e.call(this,t)},l=function(e){return n.call(this,t,e)},c=function(){return t.isLoading},u=function(){return t.hasLoaded},d=function(){return t.imageValues.length},h=function(){return t.locale},p=function(){return t.imageName},f=function(e){return s.call(this,t,e)},g=function(e){return r.call(this,t,e)},m=function(){return t.imageFieldName},v=function(){return t.namespace},y=function(){return t.namespaceFieldName},i={verify:l,refresh:o,isLoading:c,hasLoaded:u,numberOfImages:d,locale:h,imageName:p,imageValue:f,imageUrl:g,imageFieldName:m,namespace:v,namespaceFieldName:y,isRetina:a},t.autoRefresh&&i.refresh(),i}}),i("visualcaptcha/xhr-request",[],function(){"use strict";var t=window.XMLHttpRequest;return function(e,n){var i=new t;i.open("GET",e,!0),i.onreadystatechange=function(){var t;4===i.readyState&&200===i.status&&(t=JSON.parse(i.responseText),n(t))},i.send()}}),i("visualcaptcha/config",["visualcaptcha/xhr-request"],function(t){"use strict";return function(e){var n=window.location.href.split("/");n[n.length-1]="";var i={request:t,url:n.join("/").slice(0,-1),namespace:"",namespaceFieldName:"namespace",routes:{start:"/captchas",image:"/images",verify:"/verification"},isLoading:!1,hasLoaded:!1,autoRefresh:!0,numberOfImages:6,locale:"zh_cn",randomNonce:"",randomParam:"r",imageFieldName:"",imageName:"",imageValues:[],callbacks:{},_loading:function(){},_loaded:function(){},_verifing:function(){},_verified:function(){}};return i.applyRandomNonce=function(){return i.randomNonce=Math.random().toString(36).substring(2)},e.request&&(i.request=e.request),e.url&&(i.url=e.url),e.namespace&&(i.namespace=e.namespace),e.namespaceFieldName&&(i.namespaceFieldName=e.namespaceFieldName),"undefined"!=typeof e.autoRefresh&&(i.autoRefresh=e.autoRefresh),e.numberOfImages&&(i.numberOfImages=e.numberOfImages),e.locale&&(i.locale=e.locale),e.routes&&(e.routes.start&&(i.routes.start=e.routes.start),e.routes.image&&(i.routes.image=e.routes.image),e.routes.image&&(i.routes.verify=e.routes.verify)),e.randomParam&&(i.randomParam=e.randomParam),e.callbacks&&(e.callbacks.loading&&(i.callbacks.loading=e.callbacks.loading),e.callbacks.loaded&&(i.callbacks.loaded=e.callbacks.loaded),e.callbacks.verified&&(i.callbacks.verified=e.callbacks.verified)),e._loading&&(i._loading=e._loading),e._loaded&&(i._loaded=e._loaded),e._verified&&(i._verified=e._verified),e._verifing&&(i._verifing=e._verifing),i}}),i("visualcaptcha",["require","visualcaptcha/core","visualcaptcha/config"],function(t){"use strict";var e=t("visualcaptcha/core"),n=t("visualcaptcha/config");return function(t){return t=t||{},e(n(t))}}),i("visualcaptcha/templates",[],function(){"use strict";var t,e,n,i,r,o;return t=function(t,e){for(var n in e)t=t.replace(new RegExp("{"+n+"}","g"),e[n]);return t},e=function(e,n,i){var r,o,s,a="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQzLjIgKDM5MDY5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5SZWN0YW5nbGUtcGF0aDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJVc2VyLVJlZ2lzdGVyIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNNi40MTM5MTI1NCwxNi43NiBDMy43MjcxMTI1NCwxMy44NzA0IDMuNzc1MTEyNTQsOS4zNDA0IDYuNTY2MzEyNTQsNi41MyBDNy43MDg3MTI1NCw1LjM3OTIgOS4xMzc5MTI1NCw0LjY5MTYgMTAuNjIzNTEyNSw0LjQ2NiBMMTAuNTM5NTEyNSwyIEM4LjQ1NjMxMjU0LDIuMjUzMiA2LjQzOTExMjU0LDMuMTgzMiA0Ljg0MDcxMjU0LDQuNzkyNCBDMS4xMDAzMTI1NCw4LjU2MDQgMS4wNTU5MTI1NCwxNC42NDIgNC42OTQzMTI1NCwxOC40OTI4IEwyLjYyNjcxMjU0LDIwLjU3NiBMOS4xNzI3MTI1NCwyMC45MzM2IEw5LjE1MzUxMjU0LDE0LjAwMjQgTDYuNDEzOTEyNTQsMTYuNzYgTDYuNDEzOTEyNTQsMTYuNzYgWiBNMTQuMzExMTEyNSwyLjU1MiBMMTQuMzMwMzEyNSw5LjQ4MzIgTDE3LjA2OTkxMjUsNi43MjMyIEMxOS43NTc5MTI1LDkuNjEyOCAxOS43MDk5MTI1LDE0LjE0MjggMTYuOTE4NzEyNSwxNi45NTMyIEMxNS43NzYzMTI1LDE4LjEwNCAxNC4zNDcxMTI1LDE4Ljc5MDQgMTIuODYxNTEyNSwxOS4wMTcyIEwxMi45NDQzMTI1LDIxLjQ4NDQgQzE1LjAyODcxMjUsMjEuMjMxMiAxNy4wNDU5MTI1LDIwLjMwMTIgMTguNjQzMTEyNSwxOC42OTIgQzIyLjM4NDcxMjUsMTQuOTI0IDIyLjQyOTExMjUsOC44NDI0IDE4Ljc4OTUxMjUsNC45OTE2IEwyMC44NTcxMTI1LDIuOTA5NiBMMTQuMzExMTEyNSwyLjU1MiBMMTQuMzExMTEyNSwyLjU1MiBaIiBpZD0iU2hhcGUiIGZpbGw9IiNBQUIyQkQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExLjc0MjM2MiwgMTEuNzQyMjAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC0xMS43NDIzNjIsIC0xMS43NDIyMDApICI+PC9wYXRoPgogICAgPC9nPgo8L3N2Zz4=";return r='<div class="visualCaptcha-refresh-button"><a href="javascript:void(0)"><img src="'+a+'" title="{refreshTitle}" alt="{refreshAlt}" /></a></div>',o='<div class="visualCaptcha-button-group">'+r+"</div>",s={path:i||"",refreshTitle:n.refreshTitle,refreshAlt:n.refreshAlt,retinaExtra:e.isRetina()?"@2x":""},t(o,s)},n=function(e,n){var i,r;return i='<label class="visualCaptcha-explanation">{explanation}</label>',r={explanation:n.explanation.replace(/ANSWER/,e.imageName())},t(i,r)},i=function(e){for(var n,i,r="",o=0,s=e.numberOfImages();o<s;o++)n='<div class="img"><a href="javascript:void(0)"><img src="{imageUrl}" id="visualCaptcha-img-{i}" data-index="{i}" alt="" title="" /></a></div>',i={imageUrl:e.imageUrl(o),i:o},r+=t(n,i);return n='<div class="visualCaptcha-possibilities">{images}</div>',i={imageFieldName:e.imageFieldName(),images:r},t(n,i)},r=function(e,n){var i,r;return i='<input class="form-control imageField" type="hidden" name="{imageFieldName}" value="{value}" readonly="readonly" />',r={imageFieldName:e.imageFieldName(),value:e.imageValue(n)},t(i,r)},o=function(e){var n,i,r=e.namespace();return r&&0!==r.length?(n='<input type="hidden" name="{fieldName}" value="{value}" />',i={fieldName:e.namespaceFieldName(),value:r},t(n,i)):""},{buttons:e,explanation:n,images:i,imageInput:r,namespaceInput:o}}),i("visualcaptcha/language",[],function(){"use strict";return{en:{explanation:"Click or touch the ANSWER",refreshAlt:"Refresh/reload icon",refreshTitle:"Refresh/reload: get new images",successMessage:"Verified Successfully.",failedMessage:"Verified Failed. Please try again.",verifingMessage:"Verifing..."},zh_cn:{explanation:"\u8bf7\u9009\u62e9\u4ee5\u4e0b\u56fe\u6807\u4e2d\u7684 ANSWER",refreshAlt:"\u5237\u65b0\u6309\u94ae",refreshTitle:"\u5237\u65b0\uff1a\u83b7\u53d6\u65b0\u7684\u56fe\u6807",successMessage:"\u9a8c\u8bc1\u6210\u529f",failedMessage:"\u9009\u9519\u4e86\uff0c\u91cd\u9009\u4e00\u6b21",verifingMessage:"\u9a8c\u8bc1\u4e2d..."},zh_tw:{explanation:"\u8acb\u9078\u64c7\u4e00\u4e0b\u5716\u6a19\u4e2d\u7684 ANSWER",refreshAlt:"\u5237\u65b0\u6309\u9215",refreshTitle:"\u5237\u65b0\uff1a\u7372\u53d6\u65b0\u7684\u5716\u6a19",successMessage:"\u9a57\u8b49\u6210\u529f",failedMessage:"\u9078\u932f\u4e86\uff0c\u91cd\u9078\u4e00\u6b21",verifingMessage:"\u9a57\u8b49\u4e2d..."}}}),i("visualcaptcha.jquery",["jquery","visualcaptcha","visualcaptcha/templates","visualcaptcha/language"],function(t,e,n,i){"use strict";var r,o,s,a,l,c,u,d;r=function(e,n){t.get(e,n,"json")},o=function(){},s=function(t,e,i){var r,o="",s="";if(e.hasClass("visualCaptcha-verify-status")&&"success"!==s){s=e.data("verify-result");var a="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQzLjIgKDM5MDY5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5Db21iaW5lZCBTaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJVc2VyLVJlZ2lzdGVyIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNOCwxNiBDMy41ODE3MjIsMTYgMCwxMi40MTgyNzggMCw4IEMwLDMuNTgxNzIyIDMuNTgxNzIyLDAgOCwwIEMxMi40MTgyNzgsMCAxNiwzLjU4MTcyMiAxNiw4IEMxNiwxMi40MTgyNzggMTIuNDE4Mjc4LDE2IDgsMTYgWiBNOS4xMzEzNzA4NSw4IEwxMS4zOTQxMTI1LDUuNzM3MjU4MyBDMTEuNzA2NTMyLDUuNDI0ODM4ODcgMTEuNzA2NTMyLDQuOTE4MzA2ODggMTEuMzk0MTEyNSw0LjYwNTg4NzQ1IEMxMS4wODE2OTMxLDQuMjkzNDY4MDIgMTAuNTc1MTYxMSw0LjI5MzQ2ODAyIDEwLjI2Mjc0MTcsNC42MDU4ODc0NSBMOCw2Ljg2ODYyOTE1IEw1LjczNzI1ODMsNC42MDU4ODc0NSBDNS40MjQ4Mzg4Nyw0LjI5MzQ2ODAyIDQuOTE4MzA2ODgsNC4yOTM0NjgwMiA0LjYwNTg4NzQ1LDQuNjA1ODg3NDUgQzQuMjkzNDY4MDIsNC45MTgzMDY4OCA0LjI5MzQ2ODAyLDUuNDI0ODM4ODcgNC42MDU4ODc0NSw1LjczNzI1ODMgTDYuODY4NjI5MTUsOCBMNC42MDU4ODc0NSwxMC4yNjI3NDE3IEM0LjI5MzQ2ODAyLDEwLjU3NTE2MTEgNC4yOTM0NjgwMiwxMS4wODE2OTMxIDQuNjA1ODg3NDUsMTEuMzk0MTEyNSBDNC45MTgzMDY4OCwxMS43MDY1MzIgNS40MjQ4Mzg4NywxMS43MDY1MzIgNS43MzcyNTgzLDExLjM5NDExMjUgTDgsOS4xMzEzNzA4NSBMMTAuMjYyNzQxNywxMS4zOTQxMTI1IEMxMC41NzUxNjExLDExLjcwNjUzMiAxMS4wODE2OTMxLDExLjcwNjUzMiAxMS4zOTQxMTI1LDExLjM5NDExMjUgQzExLjcwNjUzMiwxMS4wODE2OTMxIDExLjcwNjUzMiwxMC41NzUxNjExIDExLjM5NDExMjUsMTAuMjYyNzQxNyBMOS4xMzEzNzA4NSw4IFoiIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iI0ZGNzQ2NiI+PC9wYXRoPgogICAgPC9nPgo8L3N2Zz4=";o='<div class="visualCaptcha-cover"><img src="'+a+'"/>'+t.language.failedMessage+"</div>",setTimeout(function(){e.removeClass("visualCaptcha-verify-status"),e.data("verify-result",""),e.find(".visualCaptcha-action-area").removeClass("failed verifing"),e.find(".visualCaptcha-cover").addClass("visualCaptcha-hide")},1e3)}r=n.namespaceInput(i)+n.explanation(i,t.language)+'<div class="visualCaptcha-action-area '+s+'">'+o+n.images(i)+n.buttons(i,t.language,t.imgPath)+"</div>",e.html(r)},a=function(t,e){e.find(".visualCaptcha-action-area").removeClass("failed").addClass("verifing").prepend('<div class="visualCaptcha-cover">'+t.language.verifingMessage+"</div>")},l=function(t,e,n){if(e.addClass("visualCaptcha-verify-status"),e.data("verify-result",n.result?"success":"failed"),n.result){var i="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQzLjIgKDM5MDY5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5Db21iaW5lZCBTaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJVc2VyLVJlZ2lzdGVyIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNOCwxNiBDMy41ODE3MjIsMTYgMCwxMi40MTgyNzggMCw4IEMwLDMuNTgxNzIyIDMuNTgxNzIyLDAgOCwwIEMxMi40MTgyNzgsMCAxNiwzLjU4MTcyMiAxNiw4IEMxNiwxMi40MTgyNzggMTIuNDE4Mjc4LDE2IDgsMTYgWiBNNC41NjU2ODU0Miw3LjI0MDE0MjQyIEM0LjI1MzI2NTk5LDYuOTI3NzIyOTkgMy43NDY3MzQwMSw2LjkyNzcyMjk5IDMuNDM0MzE0NTgsNy4yNDAxNDI0MiBDMy4xMjE4OTUxNCw3LjU1MjU2MTg2IDMuMTIxODk1MTQsOC4wNTkwOTM4NCAzLjQzNDMxNDU4LDguMzcxNTEzMjcgTDYuMjUyMzgzMDYsMTEuMTg5NTgxOCBDNi41NjQ4MDI1LDExLjUwMjAwMTIgNy4wNzEzMzQ0OCwxMS41MDIwMDEyIDcuMzgzNzUzOTEsMTEuMTg5NTgxOCBMMTIuOTQwOTgzNiw1LjYzMjM1MjA5IEMxMy4yNTM0MDMsNS4zMTk5MzI2NiAxMy4yNTM0MDMsNC44MTM0MDA2OCAxMi45NDA5ODM2LDQuNTAwOTgxMjQgQzEyLjYyODU2NDEsNC4xODg1NjE4MSAxMi4xMjIwMzIyLDQuMTg4NTYxODEgMTEuODA5NjEyNyw0LjUwMDk4MTI0IEw2LjgxODA2ODQ5LDkuNDkyNTI1NDkgTDQuNTY1Njg1NDIsNy4yNDAxNDI0MiBaIiBpZD0iQ29tYmluZWQtU2hhcGUiIGZpbGw9IiM5QUNCNDMiPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+";e.find(".visualCaptcha-cover").remove(),e.find(".visualCaptcha-action-area").removeClass("failed verifing").addClass("success").prepend('<div class="visualCaptcha-cover"><img src="'+i+'">'+t.language.successMessage+"</div>")}},c=function(){var e,i,r,o=t(this),s=o.closest(".visualCaptcha"),a=s.find(".visualCaptcha-possibilities"),l=s.find(".visualCaptcha-explanation");i=l.find("input"),i&&(i.remove(),a.find(".img").removeClass("visualCaptcha-selected")),o.addClass("visualCaptcha-selected"),e=o.find("img").data("index"),r=n.imageInput(s.data("captcha"),e),l.append(t(r)),s.data("captcha").verify(e)},u=function(){var e=t(this).closest(".visualCaptcha");e.data("captcha").refresh()},d=function(t){var e=t.find(".imageField"),n=!!e.val();return n?{valid:n,name:e.attr("name"),value:e.val()}:{valid:n}},t.fn.visualCaptcha=function(n){var h;return h=t.extend({imgPath:"/",language:i[n.captcha.locale],captcha:{request:r}},n),this.addClass("visualCaptcha").on("click",".visualCaptcha-refresh-button",u).on("click",".visualCaptcha-possibilities .img",c),this.each(function(){var n,i,r=t(this);i=t.extend(h.captcha,{_loading:o.bind(null,h,r),_loaded:s.bind(null,h,r),_verifing:a.bind(null,h,r),_verified:l.bind(null,h,r)}),"undefined"!=typeof r.data("namespace")&&(i.namespace=r.data("namespace")),n=e(i),n.getCaptchaData=d.bind(null,r),r.data("captcha",n)})}}),i("jquery",function(){return t}),n("visualcaptcha.jquery")}),function(){window.GD||(window.GD={}),String.prototype.underscore=function(){return this.trim().replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},String.prototype.dasherize=function(){return this.replace(/_/g,"-")},$.fn.removeClassRegExp=function(t){return $(this).removeClass(function(e,n){var i,r,o,s,a;for(r=[],a=n.split(" "),o=0,s=a.length;o<s;o++)i=a[o],t.test(i)&&r.push(i);return r.join(" ")}),this},jQuery.extend({getQueryParameters:function(t){return t=t||document.location.href,t.indexOf("?")===-1?{}:t.split("?")[1].split("&").map(function(t){return t=t.split("="),this[t[0]]=t[1],this}.bind({}))[0]}}),GD.stringLengthWithoutHtmlTag=function(t){var e,n,i;return n=(null!=(i=t.match(/<p>\s<\/p>/g))?i.length:void 0)||0,e=t.replace(/<[^>]*>|/g,"").replace(/\$\([^)]*\)/g,"").replace(/^\s*|\s*$|\n\n/gm,"").trim().length,n+e},GD.addParamToUrl=function(t,e,n){var i;return e&&n?(i=$.getQueryParameters(t),i[e]=n,t.split("?")[0]+"?"+$.param(i)):t},GD.formatDateTime=function(t){return moment(t,moment.ISO_8601).format("YYYY-MM-DD HH:mm:ss")},GD.delay=function(t,e){return setTimeout(e,t)},GD.updateMathJax=function(){return"undefined"!=typeof MathJax&&null!==MathJax?MathJax.Hub.Queue(["Typeset",MathJax.Hub]):void 0},GD.recalcFormHeight=function(){return $(window).trigger("customLoad")},GD.removeFileSuffix=function(t){return t.substr(0,t.lastIndexOf("."))},GD.isEmpty=function(t){return null===t||""===t},GD.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},GD.isPhoneLink=function(t){return GD.REGEXP.telProtocol.test(t)},GD.formatDate=function(t){return _.isDate(t)?moment(t).format("YYYY-MM-DD"):t},GD.parseDate=function(t){var e,n;return e=new Date,""===t||void 0===t||null===t?null:("yesterday"===t?t="before_1":"tomorrow"===t&&(t="after_1"),"today"===t?e:t.indexOf("before")!==-1?(n=parseInt(t.split("_")[1]),e.setDate(e.getDate()-n),e):t.indexOf("after")!==-1?(n=parseInt(t.split("_")[1]),e.setDate(e.getDate()+n),e):new Date(t))},GD.extractExistedQueryParams=function(){var t;return t={},url("?order")&&(t.order=url("?order")),url("?per_page")&&(t.per_page=url("?per_page")),url("?query")&&(t.query=decodeURIComponent(url("?query"))),url("?serial_number")&&(t.serial_number=url("?serial_number")),url("?start")&&(t.start=url("?start")),url("?end")&&(t.end=url("?end")),$.isEmptyObject(GD.filterParams.data)||(t=$.extend(t,GD.filterParams.data)),t},GD.createKeyboardEvent=function(t){var e;return e=$.Event("keydown"),e.keyCode=t,e.customEvent=!0,e},GD.renderQrcode=function(t,e,n){var i,r;return Modernizr.canvas?"function"==typeof(i=t.empty()).qrcode?i.qrcode({size:n,text:e}):void 0:"function"==typeof(r=t.empty()).qrcode?r.qrcode({render:"div",size:n,text:e}):void 0},GD.validateFile=function(t,e,n,i){var r;return null==i&&(i=1024e3),r=[],t.name.indexOf("%3A")>0||("."===t.name.substr(0,1)&&r.push(l("%warn_system_file")),t.name.length>200&&r.push(l("%file_name_too_long")),n&&!n.test(t.name)&&r.push(l("%warn_invalid_filetype")),/.*\.(exe|bat)$/gi.test(t.name)&&r.push(l("%warn_exec_file"))),t.size&&t.size>e&&r.push(l("%warn_oversize",{maxSize:GD.numberToHumanSize(e)})),t.size&&t.size>i&&/.*\.(xlsx)$/gi.test(t.name)&&r.push(l("%warn_excelx_oversize",{maxExcelxSize:GD.numberToHumanSize(i)})),r},GD.validateURL=function(t){var e;return!$.trim(t)||(e=/^(https:\/\/|http:\/\/)?(((([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d)|(([a-zA-Z]|\d)([a-zA-Z]|\d|-|\.|_|~)*([a-zA-Z]|\d)))\.)+(([a-zA-Z])|(([a-zA-Z])([a-zA-Z]|\d|-|\.|_|~)*([a-zA-Z])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,e.test($.trim(t)))},GD.countDownWithUndo=function(t,e,n,i){var r,o,s,a,l;return null==n&&(n="\u79d2"),l=null,r=$(t),s=r.text(),a=function(){var t;return t=s+"("+(e+n)+")",r.text(t),e--},o=function(e){if(clearInterval(l),r.text(s),GD.enableBtn(t),e)return"function"==typeof i?i():void 0},t.addClass("disabled"),e&&(a(),l=setInterval(function(){if(a(),e<0)return o(!0)},1e3)),o},GD.countDown=function(t,e,n){var i;return null==n&&(n=l("%resend")),e>0?(t.addClass("disabled"),i=n+(" ("+e+")"),t.is("input")?(t.prop("disabled",!0),t.val(i)):t.text(i),e--,setTimeout(function(){return GD.countDown(t,e,n)},1e3)):(t.is("input")?(t.prop("disabled",!1),t.val(n)):t.text(n),GD.enableBtn(t))},GD.countDownRedirect=function(t,e,n,i){if(url("path")!==e)return n>0?(t.text(i+(" ("+n+"s)")),n--,setTimeout(function(){return GD.countDownRedirect(t,e,n,i)},1e3)):Turbolinks.visit(e)},GD.isMobileNumber=function(t){var e;return e=/^1\d{10}$/,e.test(t)},GD.getStringLength=function(t){var e;return t?(e=t.match(/[^x00-xff]/gi),t.length+(e?e.length:0)):0},GD.numberToHumanSize=function(t){var e,n,i;return t?(n=t/1024,n<1024?n.toFixed(0)+" KB":(i=n/1024,i<1024?i.toFixed(1)+" MB":(e=i/1024,e.toFixed(1)+" GB"))):null},GD.numberToCurrencyFloat=function(t){return parseFloat(t).toFixed(2)},GD.PLACEHOLDER_REPLACE_REGEX=/\$\([^\)]+\)/g,GD.pollingDataFromServer=function(t,e,n,i,r){var o,s,a;return null==r&&(r=null),o=0,a=null,s=function(){return $.getJSON(n,function(t){return o>e?(clearInterval(a),null!==r?r("polling finished without successfully"):void 0):(o++,i(t,a))}).fail(function(){if(clearInterval(a),null!==r)return r()})},a=setInterval(s,t)},GD.visualCaptcha=function(t,e){return null==t&&(t="zh_cn"),$("#captcha_container").visualCaptcha({captcha:{url:"/gd_captcha",numberOfImages:GD.isMobile?5:6,locale:t,callbacks:{verified:function(t,n){return e(n)}}}})},GD.SYSTEM_TAGS={ALL_FORMS_TAG_ID:"desktop",ALL_FOLDERS_TAG_ID:"all_folders",UNTAGGED_ID:"untagged",SHARED_FORMS_TAG_ID:"shared_forms"},GD.toSentence=function(t){return t?t.join(l("%common_separator")).replace(/\s/g,""):""},$.fn.serializeObject=function(){var t,e;return e={},t=this.serializeArray(),$.each(t,function(){return void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},GD.preloadImage=function(t){return _.each(t,function(t){var e;return e=new Image,e.src=t})},GD.inRecoverMode=function(){return!!url("?recover")},GD.isFormWorthToRecover=function(t,e){var n,i;return(null!=t&&null!=(n=t.fields)?n.length:void 0)>0||(null!=t&&null!=(i=t.description)?i.length:void 0)>0||e},GD.draftsClear=function(){return localStorage.removeItem("formDraft"),localStorage.removeItem("formDraftToken"),localStorage.removeItem("formThemeDraft")},GD.checkUnexpectedForm=function(t){var e,n,i;if(!GD.inRecoverMode())return localStorage.getItem("formDraft")||localStorage.getItem("formThemeDraft")?(n=localStorage.getItem("formDraftToken"),e=JSON.parse(localStorage.getItem("formDraft")),i=JSON.parse(localStorage.getItem("formThemeDraft")),GD.isFormWorthToRecover(e,i)?GD.showConfirmBox("\u8868\u5355\u81ea\u52a8\u6062\u590d","\u7cfb\u7edf\u76d1\u6d4b\u5230\u4f60\u6709\u672a\u4fdd\u5b58\u8868\u5355\uff0c\u662f\u5426\u6062\u590d\u7f16\u8f91\uff1f <br> \u300c"+e.name+"\u300d",{successCallback:function(){var t,e;return t=n?"/forms/"+n+"/edit":"/forms/new",e=t+"?recover=\u2713",Turbolinks.visit(e)},cancelCallback:function(){return null!=t&&t.resolve(),GD.draftsClear()},staticBackdrop:!0,successText:"\u6062\u590d",cancelText:"\u4e22\u5f03"}):GD.draftsClear()):null!=t?t.resolve():void 0},GD.cacheToLocalStorage=function(t,e,n){var i;try{return"undefined"!=typeof localStorage&&null!==localStorage?localStorage.setItem(t,e):void 0}catch(r){return i=r,n?"undefined"!=typeof localStorage&&null!==localStorage?localStorage.clear():void 0:("undefined"!=typeof localStorage&&null!==localStorage&&localStorage.removeItem("columbusCachedformCreateModal"),"undefined"!=typeof localStorage&&null!==localStorage&&localStorage.removeItem("formCreateModalCached2"),GD.cacheToLocalStorage(t,e,!0))}},GD.cookieExpireMinutes=function(t){var e;return e=new Date,e.setTime(e.getTime()+60*t*1e3),e},GD.cookieExpireSeconds=function(t){var e;return e=new Date,e.setTime(e.getTime()+1e3*t),e},GD.inDashboardPage=function(){return $(".dashboard").length>0},GD.inFormDesignPage=function(){return $("#form_design").length>0},$.validator&&$.extend($.validator.methods,{mobile:function(t,e){return this.optional(e)||GD.REGEXP.mobile.test(t)}})}.call(this),function(){window.GD||(window.GD={}),GD.showLoading=function(t,e){return null==t&&(t="#entries_grid"),null==e&&(e="entries"),0===$(t).find(".cover").length&&$(t).append('<div class="cover"></div>'),$(".loading[data-target="+e+"]").show()},GD.hideLoading=function(t,e){return $(t).find(".cover").remove(),$(".loading[data-target="+e+"]").hide()},GD.loadWithLoading=function(t,e,n){return GD.showLoading(e,n),e.load(t,function(){return GD.hideLoading(e,n)})}}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?n=e:e={};var t,n,i;!function(e){function r(t,e){return w.call(t,e)}function o(t,e){var n,i,r,o,s,a,l,c,u,d,h,p=e&&e.split("/"),f=y.map,g=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),s=t.length-1,y.nodeIdCompat&&x.test(t[s])&&(t[s]=t[s].replace(x,"")),t=p.slice(0,p.length-1).concat(t),u=0;u<t.length;u+=1)if(h=t[u],"."===h)t.splice(u,1),u-=1;else if(".."===h){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||g)&&f){for(n=t.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),p)for(d=p.length;d>0;d-=1)if(r=f[p.slice(0,d).join("/")],r&&(r=r[i])){o=r,a=u;break}if(o)break;!l&&g&&g[i]&&(l=g[i],c=u)}!o&&l&&(o=l,a=c),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function s(t,n){return function(){var i=_.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),p.apply(e,i.concat([t,n]))}}function a(t){return function(e){return o(e,t)}}function l(t){return function(e){m[t]=e}}function c(t){if(r(v,t)){var n=v[t];delete v[t],b[t]=!0,h.apply(e,n)}if(!r(m,t)&&!r(b,t))throw new Error("No "+t);return m[t]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function d(t){return function(){return y&&y.config&&y.config[t]||{}}}var h,p,f,g,m={},v={},y={},b={},w=Object.prototype.hasOwnProperty,_=[].slice,x=/\.js$/;f=function(t,e){var n,i=u(t),r=i[0];return t=i[1],r&&(r=o(r,e),n=c(r)),r?t=n&&n.normalize?n.normalize(t,a(e)):o(t,e):(t=o(t,e),i=u(t),r=i[0],t=i[1],r&&(n=c(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},g={require:function(t){return s(t)},exports:function(t){var e=m[t];return"undefined"!=typeof e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:d(t)}}},h=function(t,n,i,o){var a,u,d,h,p,y,w=[],_=typeof i;if(o=o||t,"undefined"===_||"function"===_){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(h=f(n[p],o),u=h.f,"require"===u)w[p]=g.require(t);else if("exports"===u)w[p]=g.exports(t),y=!0;else if("module"===u)a=w[p]=g.module(t);else if(r(m,u)||r(v,u)||r(b,u))w[p]=c(u);else{if(!h.p)throw new Error(t+" missing "+u);h.p.load(h.n,s(o,!0),l(u),{}),w[p]=m[u]}d=i?i.apply(m[t],w):void 0,t&&(a&&a.exports!==e&&a.exports!==m[t]?m[t]=a.exports:d===e&&y||(m[t]=d))}else t&&(m[t]=i)},t=n=p=function(t,n,i,r,o){if("string"==typeof t)return g[t]?g[t](n):c(f(t,n).f);if(!t.splice){if(y=t,y.deps&&p(y.deps,y.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?h(e,t,n,i):setTimeout(function(){h(e,t,n,i)},4),p},p.config=function(t){return p(t)},t._defined=m,i=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),r(m,t)||r(v,t)||(v[t]=[t,e,n])},i.amd={jQuery:!0}}(),e.requirejs=t,e.require=n,e.define=i}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,n=[];for(var i in e){var r=e[i];"function"==typeof r&&"constructor"!==i&&n.push(i);
}return n}var n={};n.Extend=function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},n.Decorate=function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,r=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}function r(){this.constructor=i}var o=e(n),s=e(t);n.displayName=t.displayName,i.prototype=new r;for(var a=0;a<s.length;a++){var l=s[a];i.prototype[l]=t.prototype[l]}for(var c=(function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var r=n.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),r.apply(this,arguments)}}),u=0;u<o.length;u++){var d=o[u];i.prototype[d]=c(d)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;n<t;n++){var i=Math.floor(36*Math.random());e+=i.toString(36)}return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];o=o.substring(0,1).toLowerCase()+o.substring(1),o in i||(i[o]={}),r==n.length-1&&(i[o]=t[e]),i=i[o]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},n}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);i.append(n(r(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],r=this.option(i);e.push(r)}this.$results.append(e)},n.prototype.position=function(t,e){var n=e.find(".select2-results");n.append(t)},n.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()}),r=e.$results.find(".select2-results__option[aria-selected]");r.each(function(){var e=t(this),n=t.data(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(r,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var o=r.filter("[aria-selected=true]");o.length>0?o.first().trigger("mouseenter"):r.first().trigger("mouseenter")})},n.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:e(t)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]);for(var r in i){var o=i[r];n.setAttribute(r,o)}if(e.children){var s=t(n),a=document.createElement("strong");a.className="select2-results__group";t(a);this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],d=this.option(u);l.push(d)}var h=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(l),s.append(a),s.append(h)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e){var n=this,i=e.id+"-results";this.$results.attr("id",i),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.hideMessages(),n.showLoading(t)}),e.on("select",function(){e.isOpen()&&n.setClasses()}),e.on("unselect",function(){e.isOpen()&&n.setClasses()}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var r=i-1;0===t.length&&(r=0);var o=e.eq(r);o.trigger("mouseenter");var s=n.$results.offset().top,a=o.offset().top,l=n.$results.scrollTop()+(a-s);0===r?n.$results.scrollTop(0):a-s<0&&n.$results.scrollTop(l)}}),e.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t),r=i+1;if(!(r>=e.length)){var o=e.eq(r);o.trigger("mouseenter");var s=n.$results.offset().top+n.$results.outerHeight(!1),a=o.offset().top+o.outerHeight(!1),l=n.$results.scrollTop()+a-s;0===r?n.$results.scrollTop(0):a>s&&n.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-e+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,o=t.deltaY<0&&i<=n.$results.height();r?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var i=t(this),r=i.data("data");return"true"===i.attr("aria-selected")?void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:r}):n.trigger("close",{})):void n.trigger("select",{originalEvent:e,data:r})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:e,element:t(this)})})},n.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),n=e.index(t),i=this.$results.offset().top,r=t.offset().top,o=this.$results.scrollTop()+(r-i),s=r-i;o-=2*t.outerHeight(!1),n<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(e,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):t(n).append(o)},n}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t){var e=this,i=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e._handleBlur(t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",i),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target),i=n.closest(".select2"),r=t(".select2.select2-container--open");r.each(function(){var e=t(this);if(this!=i[0]){var n=e.data("element");n.select2("close")}})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){var n=e.find(".selection");n.append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},i.prototype.bind=function(t){var e=this;i.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("selection:update",function(t){e.update(t.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(t,e))},i.prototype.selectionContainer=function(){return t("<span></span>")},i.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)},i}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(){var e=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){e.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(n){if(!e.options.get("disabled")){var i=t(this),r=i.parent(),o=r.data("data");e.trigger("unselect",{originalEvent:n,data:o})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(t,e))},i.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var r=t[i],o=this.selectionContainer(),s=this.display(r,o);o.append(s),o.prop("title",r.title||r.text),o.data("data",r),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");n.appendMany(a,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id,i=e.length>1;if(i||n)return t.call(this,e);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),r=0;r<i.length;r++){var o={data:i[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,e,i){var r=this;t.call(this,e,i),e.on("open",function(){r.$search.trigger("focus")}),e.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),e.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),e.on("disable",function(){r.$search.prop("disabled",!0)}),e.on("focus",function(){r.$search.trigger("focus")}),e.on("results:focus",function(t){r.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===n.BACKSPACE&&""===r.$search.val()){var i=r.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var o=i.data("data");r.searchRemoveChoice(o),t.preventDefault()}}});var o=document.documentMode,s=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(){return s?void r.$selection.off("input.search input.searchcheck"):void r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(s&&"input"===t.type)return void r.$selection.off("input.search input.searchcheck");var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&r.handleSearch(t)})},i.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(t.inArray(e,o)!==-1){n=n||{};var i=t.Event("select2:"+e,{params:n});r.$element.trigger(i),t.inArray(e,s)!==-1&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){var t={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};return t}),e.define("select2/data/base",["../utils"],function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),r=i.item(t);e.push(r)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];t=[t],t.push.apply(t,i);for(var o=0;o<t.length;o++){var s=t[o].id;n.inArray(s,r)===-1&&r.push(s)}e.$element.val(r),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,n(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var r=[],o=0;o<i.length;o++){var s=i[o].id;s!==t.id&&n.inArray(s,r)===-1&&r.push(s);
}e.$element.val(r),e.$element.trigger("change")})},i.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],r=this,o=this.$element.children();o.each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var o=r.item(e),s=r.matches(t,o);null!==s&&i.push(s)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),r=this._normalizeItem(t);return r.element=e,n.data(e,"data",r),i},i.prototype.item=function(t){var e={};if(e=n.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),r=[],o=0;o<i.length;o++){var s=n(i[o]),a=this.item(s);r.push(a)}e.children=r}return e=this._normalizeItem(e),e.element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t}),t=n.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},e,t)},i.prototype.matches=function(t,e){var n=this.options.get("matcher");return n(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){function i(t){return function(){return n(this).val()==t.id}}for(var r=this,o=this.$element.find("option"),s=o.map(function(){return r.item(n(this)).id}).get(),a=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(n.inArray(c.id,s)>=0){var u=o.filter(i(c)),d=this.item(u),h=n.extend(!0,{},c,d),p=this.option(h);u.replaceWith(p)}else{var f=this.option(c);if(c.children){var g=this.convertToOptions(c.children);e.appendMany(f,g)}a.push(f)}}return a},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var r=n.ajax(t);return r.then(e),r.fail(i),r}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=o.transport(o,function(i){var o=r.processResults(i,t);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(o)},function(){r.trigger("results:message",{message:"errorLoading"})});r._request=i}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&""!==t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var r=i.get("tags"),o=i.get("createTag");void 0!==o&&(this.createTag=o);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,n,i),t.isArray(r))for(var a=0;a<r.length;a++){var l=r[a],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return e.prototype.query=function(t,e,n){function i(t,o){for(var s=t.results,a=0;a<s.length;a++){var l=s[a],c=null!=l.children&&!i({results:l.children},!0),u=l.text===e.term;if(u||c)return!o&&(t.data=s,void n(t))}if(o)return!0;var d=r.createTag(e);if(null!=d){var h=r.option(d);h.attr("data-select2-tag",!0),r.addOptions([h]),r.insertTag(s,d)}t.results=s,n(t)}var r=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,n):void t.call(this,e,i)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(){var e=(this._lastTag,this.$element.find("option[data-select2-tag]"));e.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(t,e,n){function i(t){r.trigger("select",{data:t})}var r=this;e.term=e.term||"";var o=this.tokenizer(e,this.options,i);o.term!==e.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.focus()),e.term=o.term),t.call(this,e,n)},e.prototype.tokenizer=function(e,n,i,r){for(var o=i.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<s.length;){var c=s[a];if(t.inArray(c,o)!==-1){var u=s.substr(0,a),d=t.extend({},n,{term:u}),h=l(d);null!=h?(r(h),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(r){var o=null!=r?r.length:0;return i.maximumSelectionLength>0&&o>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t){function e(){}return e.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),this.$search.on("keydown",function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){t(this).off("keyup")}),this.$search.on("keyup input",function(t){r.handleSearch(t)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),n.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=r.showSearch(t);e?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide")}})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var r=e[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),n.on("query",function(t){r.lastParams=t,r.loading=!0}),n.on("query:append",function(t){r.lastParams=t,r.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,r.$loadingMore[0]);if(!r.loading&&e){var n=r.$results.offset().top+r.$results.outerHeight(!1),i=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1);n+50>=i&&r.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,r=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(o,function(){var e=t(this).data("select2-scroll-position");t(this).scrollTop(e.y)}),t(window).on(o+" "+s+" "+a,function(){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,s="orientationchange.select2."+i.id,a=this.$container.parents().filter(e.hasScroll);a.off(r),t(window).off(r+" "+o+" "+s)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<o.top-a.height,u=l.bottom>o.bottom+a.height,d={left:o.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p=h.offset();d.top-=p.top,d.left-=p.left,n||i||(r="below"),u||!c||n?!c&&u&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(d.top=s.top-a.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var n=0,i=0;i<e.length;i++){var r=e[i];r.children?n+=t(r.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return!(t(n.data.results)<this.minimumResultsForSearch)&&e.call(this,n)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(){i._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();if(!(t.length<1)){var e=t.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){var e=t.minimum-t.input.length,n="Please enter "+e+" or more characters";return n},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,r,o,s,a,l,c,u,d,h,p,f,g,m,v,y,b,w,_,x,C,D,$,k,T,S){function M(){this.reset()}M.prototype.apply=function(d){if(d=t.extend(!0,{},this.defaults,d),null==d.dataAdapter){if(null!=d.ajax?d.dataAdapter=f:null!=d.data?d.dataAdapter=p:d.dataAdapter=h,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=c.Decorate(d.dataAdapter,m)),null!=d.query){var S=e(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,S)}if(null!=d.initSelection){var M=e(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,M)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,C)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,x)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,k))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var I=c.Decorate(w,_);d.dropdownAdapter=I}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,$)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,T)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var A=e(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,A)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,D)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=r:d.selectionAdapter=i,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,o)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var E=e(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,E)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var P=d.language.split("-"),N=P[0];d.language=[d.language,N]}else d.language=[d.language];if(t.isArray(d.language)){var O=new u;d.language.push("en");for(var j=d.language,L=0;L<j.length;L++){var z=j[L],G={};try{G=u.loadPath(z)}catch(t){try{z=this.defaults.amdLanguageBase+z,G=u.loadPath(z)}catch(t){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+z+'" could not be automatically loaded. A fallback will be used instead.');continue}}O.extend(G)}d.translations=O}else{var F=u.loadPath(this.defaults.amdLanguageBase+"en"),R=new u(d.language);R.extend(F),d.translations=R}return d},M.prototype.reset=function(){function e(t){function e(t){return d[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function n(i,r){if(""===t.trim(i.term))return r;if(r.children&&r.children.length>0){for(var o=t.extend(!0,{},r),s=r.children.length-1;s>=0;s--){var a=r.children[s],l=n(i,a);null==l&&o.children.splice(s,1)}return o.children.length>0?o:n(i,o)}var c=e(r.text).toUpperCase(),u=e(i.term).toUpperCase();return c.indexOf(u)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:S,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},M.prototype.set=function(e,n){var i=t.camelCase(e),r={};r[i]=n;var o=c._convertData(r);t.extend(this.defaults,o)};var I=new M;return I}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var o=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var r={};r=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var o=e.extend(!0,{},r);o=i._convertData(o);for(var s in o)e.inArray(s,n)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],o[s]):this.options[s]=o[s]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var r=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),r.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(t,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4),e=e.replace(/(:|\.|\[|\]|,)/g,""),e="select2-"+e},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;a<l;a+=1){var c=s[a].replace(/\s/g,""),u=c.match(n);if(null!==u&&u.length>=1)return u[1]}return null}return e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=n.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,r){t.inArray(i,n)===-1&&e.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype.trigger=function(t,e){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var o=i[t],s={prevented:!1,name:t,args:e};if(n.call(this,o,s),s.prevented)return void(e.prevented=!0)}n.call(this,t,e)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},r}),e.define("select2/compat/utils",["jquery"],function(t){function e(e,n,i){var r,o,s=[];r=t.trim(e.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&s.push(this)})),r=t.trim(n.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(o=i(this),null!=o&&s.push(o))})),e.attr("class",s.join(" "))}return{syncCssClasses:e}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(t,e){function n(){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("containerCssClass")||"";t.isFunction(o)&&(o=o(this.$element));var s=this.options.get("adaptContainerCssClass");if(s=s||n,o.indexOf(":all:")!==-1){o=o.replace(":all:","");var a=s;s=function(t){var e=a(t);return null!=e?e+" "+t:t}}var l=this.options.get("containerCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,s),r.css(l),r.addClass(o),r},i}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(t,e){function n(){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("dropdownCssClass")||"";t.isFunction(o)&&(o=o(this.$element));var s=this.options.get("adaptDropdownCssClass");if(s=s||n,o.indexOf(":all:")!==-1){o=o.replace(":all:","");var a=s;s=function(t){var e=a(t);return null!=e?e+" "+t:t}}var l=this.options.get("dropdownCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,s),r.css(l),r.addClass(o),r},i}),e.define("select2/compat/initSelection",["jquery"],function(t){function e(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,t.call(this,e,n)}return e.prototype.current=function(e,n){var i=this;return this._isInitialized?void e.call(this,n):void this.initSelection.call(null,this.$element,function(e){i._isInitialized=!0,t.isArray(e)||(e=[e]),n(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(t){function e(t,e,n){
this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===e.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,n)}return e.prototype.current=function(e,n){function i(e,n){var r=[];return e.selected||t.inArray(e.id,n)!==-1?(e.selected=!0,r.push(e)):e.selected=!1,e.children&&r.push.apply(r,i(e.children,n)),r}for(var r=[],o=0;o<this._currentData.length;o++){var s=this._currentData[o];r.push.apply(r,i(s,this.$element.val().split(this._valueSeparator)))}n(r)},e.prototype.select=function(e,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(e){t.map(e,function(t){t.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},e.prototype.unselect=function(t,e){var n=this;e.selected=!1,this.current(function(t){for(var i=[],r=0;r<t.length;r++){var o=t[r];e.id!=o.id&&i.push(o.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("change")})},e.prototype.query=function(t,e,n){for(var i=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r],s=this.matches(e,o);null!==s&&i.push(s)}n({results:i})},e.prototype.addOptions=function(e,n){var i=t.map(n,function(e){return t.data(e[0],"data")});this._currentData.push.apply(this._currentData,i)},e}),e.define("select2/compat/matcher",["jquery"],function(t){function e(e){function n(n,i){var r=t.extend(!0,{},i);if(null==n.term||""===t.trim(n.term))return r;if(i.children){for(var o=i.children.length-1;o>=0;o--){var s=i.children[o],a=e(n.term,s.text,s);a||r.children.splice(o,1)}if(r.children.length>0)return r}return e(n.term,i.text,i)?r:null}return n}return e}),e.define("select2/compat/query",[],function(){function t(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.callback=n;var i=this.options.get("query");i.call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,n){t.call(this,e,n)}return t.prototype.position=function(t,e,n){var i=n.find(".dropdown-wrapper");i.append(e),e.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(i.join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(i.join(" "),function(t){t.stopPropagation()})},t}),function(n){"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(t)}(function(t){function e(e){var s=e||window.event,a=l.call(arguments,1),c=0,d=0,h=0,p=0,f=0,g=0;if(e=t.event.fix(s),e.type="mousewheel","detail"in s&&(h=s.detail*-1),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(d=s.wheelDeltaX*-1),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(d=h*-1,h=0),c=0===h?d:h,"deltaY"in s&&(h=s.deltaY*-1,c=h),"deltaX"in s&&(d=s.deltaX,0===h&&(c=d*-1)),0!==h||0!==d){if(1===s.deltaMode){var m=t.data(this,"mousewheel-line-height");c*=m,h*=m,d*=m}else if(2===s.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,h*=v,d*=v}if(p=Math.max(Math.abs(h),Math.abs(d)),(!o||p<o)&&(o=p,i(s,p)&&(o/=40)),i(s,p)&&(c/=40,d/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/o),d=Math[d>=1?"floor":"ceil"](d/o),h=Math[h>=1?"floor":"ceil"](h/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,g=e.clientY-y.top}return e.deltaX=d,e.deltaY=h,e.deltaFactor=o,e.offsetX=f,e.offsetY=g,e.deltaMode=0,a.unshift(e,c,d,h),r&&clearTimeout(r),r=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function n(){o=null}function i(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var r,o,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=s.length;c;)t.event.fixHooks[s[--c]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,n,i){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i;return this.each(function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2.");var r=Array.prototype.slice.call(arguments,1);i=n[e].apply(n,r)}),t.inArray(e,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var t=jQuery.fn.select2.amd;return t.define("select2/i18n/zh-CN",[],function(){return{errorLoading:function(){return"\u65e0\u6cd5\u8f7d\u5165\u7ed3\u679c\u3002"},inputTooLong:function(t){var e=t.input.length-t.maximum,n="\u8bf7\u5220\u9664"+e+"\u4e2a\u5b57\u7b26";return n},inputTooShort:function(t){var e=t.minimum-t.input.length,n="\u8bf7\u518d\u8f93\u5165\u81f3\u5c11"+e+"\u4e2a\u5b57\u7b26";return n},loadingMore:function(){return"\u8f7d\u5165\u66f4\u591a\u7ed3\u679c\u2026"},maximumSelected:function(t){var e="\u6700\u591a\u53ea\u80fd\u9009\u62e9"+t.maximum+"\u4e2a\u9879\u76ee";return e},noResults:function(){return"\u672a\u627e\u5230\u7ed3\u679c"},searching:function(){return"\u641c\u7d22\u4e2d\u2026"}}}),{define:t.define,require:t.require}}(),function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var t=jQuery.fn.select2.amd;return t.define("select2/i18n/zh-TW",[],function(){return{inputTooLong:function(t){var e=t.input.length-t.maximum,n="\u8acb\u522a\u6389"+e+"\u500b\u5b57\u5143";return n},inputTooShort:function(t){var e=t.minimum-t.input.length,n="\u8acb\u518d\u8f38\u5165"+e+"\u500b\u5b57\u5143";return n},loadingMore:function(){return"\u8f09\u5165\u4e2d\u2026"},maximumSelected:function(t){var e="\u4f60\u53ea\u80fd\u9078\u64c7\u6700\u591a"+t.maximum+"\u9805";return e},noResults:function(){return"\u6c92\u6709\u627e\u5230\u76f8\u7b26\u7684\u9805\u76ee"},searching:function(){return"\u641c\u5c0b\u4e2d\u2026"}}}),{define:t.define,require:t.require}}(),function(){var t;$(".select2-search__field").livequery(function(){if($(this).addClass("stop-immed-pp"),GD.isMobile)return $(this).on("click",function(){return $(this).focus()})}),$(".need-select2:visible").livequery(function(){var t;return t={language:String.locale},$(this).data("overflow-hidden")&&(t.dropdownCssClass="overflow-hidden"),$(this).data("ajax--url")&&(t.ajax={delay:250,cache:!0}),$(this).select2(t)}),t=function(t,e){return 0===e.indexOf(t)||0===e.indexOf(t.match(/.{1,4}/g).join(" "))},$(".need-select2-manual:visible").livequery(function(){var e;return e={language:String.locale},$(this).data("overflow-hidden")&&(e.dropdownCssClass="overflow-hidden"),$(this).data("ajax--url")&&(e.ajax={delay:250,cache:!0}),$.fn.select2.amd.require(["select2/compat/matcher"],function(n){return function(i){return $(n).siblings("b.dropdown-bg").remove().end().siblings("i.dropdown-trigger").remove(),e.matcher=i(t),$(n).select2(e)}}(this))})}.call(this),function(){var t;window.GD||(window.GD={}),GD.switcheryMainColor="#44DB5E",GD.adaptDevice=function(t){var e;return e=GD.isMobile?"mlarge":"xlarge",t?""+t+e:e},GD.addRetinaSuffix=function(t,e){var n;return n=GD.isMobile||!GD.isRetina()?"":"Retina",t+"@"+e+n},GD.adaptRetina=function(){var t,e,n;if(e=$(".need-adapt-retina"),e.length)return t=GD.adaptDevice(e.data("img-prefix")),n=GD.addRetinaSuffix(e.data("img-url"),t),e.attr("src",n)},GD.adaptVerticalPoistion=function(t){var e;return e=($(window).height()-t.height())/2,t.css({top:e})},GD.focusToEnd=function(t){var e;return e=t.val(),""===e||/\n$/.test(e)||(e+="\n"),t.focus().val("").val(e)},GD.writeContentToIframe=function(t,e){var n;return n=$(t)[0].contentWindow.document,n.open(),n.write(e),n.close()},GD.isTextOverflow=function(t){var e;return e=t[0],!!e&&e.scrollWidth>e.offsetWidth},GD.helpDocumentQuestionMark=function(t){var e;return e=GD.helpDocumentJson&&GD.helpDocumentJson[t]||{},"<i class='help-document-tooltip gd-icon-help-circle-o tooltipstered' data-title='"+e.title+"' data-content='"+e.content+"' data-hyperlink-text='"+e.hyperlink_text+"' data-hyperlink-text-url='"+e.hyperlink_text_url+"' data-id='"+t+"' title='"+e.title+"'></i>"},GD.showTooltipErrorIfHave=function(t,e){if(e)return t.parent().is(".gd-input-prepend, .gd-input-append")?t.parent().addClass("has-error"):t.wrap("<div class='has-error'>"),t.gdCustomTooltip({content:"<div class='error'><i class='gd-icon-times-circle'></i> "+e+"</div>"}).tooltipster("show")},GD.clearTooltipError=function(t){if(t.parent(".gd-input-prepend, .gd-input-append").is(".has-error")?t.parent().removeClass("has-error"):t.parent().is(".has-error")&&t.unwrap(),t.hasClass("tooltipstered"))return t.tooltipster("destroy")},GD.showTooltipFlashMessage=function(t,e,n,i){var r;return null==i&&(i="bottom"),r=function(){switch(e){case"success":return"<div class='success'><i class='gd-icon-check-circle'></i> "+n+"</div>";case"error":return"<div class='error'><i class='gd-icon-times-circle'></i> "+n+"</div>";default:return n}}(),t.hasClass("tooltipstered")&&t.tooltipster("destroy"),t.gdCustomTooltip({content:r,position:i,timer:2e3}).tooltipster("show")},GD.showErrorMessageBelow=function(t,e){var n;if(t&&e)return n=$("<div class='error-message'>"+e+"</div>"),t.parent().is(".gd-input-prepend, .gd-input-append")&&(t=t.parent()),t.wrap("<div class='has-error'>"),t.after(n)},GD.clearErrorMessageBelow=function(t){if(t)return t.parent().is(".gd-input-prepend, .gd-input-append")&&(t=t.parent()),t.parent().is(".has-error")?(t.parent().find(".error-message").remove(),t.unwrap()):void 0},GD.showErrorMessageBesides=function(t,e,n,i){var r;if(null==n&&(n=!1),null==i&&(i=!1),r=i?"":"<i class='gd-icon-times-circle'></i>",0===$(t).find(".inline-error-message").length&&$(t).append("<div class='inline-error-message'>"+r+e+"</div>"),!n)return setTimeout(function(){return $(t).find(".inline-error-message").fadeOut().remove()},3e3)},GD.removeErrorMessageBesides=function(t){return $(t).find(".inline-error-message").fadeOut().remove()},GD.initClipboard=function(t){var e;return e=function(){return GD.showFlashNotification("\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u76f4\u63a5\u590d\u5236\uff0c\u8bf7\u624b\u52a8\u590d\u5236\uff01","danger")},$(t).mouseenter(function(){var e;if(!$(t).data("clipboardInitialied")&&!$(t).is(".disabled"))return e=new Clipboard(t),$(t).data("clipboardInitialied",!0),e.on("success",function(t){return GD.showFlashNotification($(t.trigger).data("message")||"\u590d\u5236\u6210\u529f")}),e.on("error",function(){var e;return e=GD.isMac()?"\u4f7f\u7528\u2318-C\u590d\u5236":"\u4f7f\u7528Ctrl-C\u590d\u5236",$(t).hasClass("tooltipstered")?$(t).tooltipster("content",e):$(t).gdClickTooltip({content:e,theme:"gd-tooltip-mini"}).tooltipster("show")})})},GD.disableBtn=function(t){var e;if(e=$(t),e.length>0&&!e.hasClass("disabled"))return e.data("disabled-with")&&e.data("disable-with",e.data("disabled-with")),GD.disableElement(e)},GD.enableBtn=function(t){var e;if(e=$(t),e.length>0&&e.hasClass("disabled"))return e.removeClass("disabled"),$.rails.enableElement(e)},GD.disableElement=function(t){if(t.length)return $.rails.disableElement(t),t.addClass("disabled")},GD.enableElement=function(t){if(t.length)return $.rails.enableElement(t),t.removeClass("disabled disabled-with-cursor-auto")},GD.syncHeight=function(t,e){return e.css({height:t.outerHeight()})},GD.updataUploadHeaderImagePreview=function(t,e){return t.find("img").length?t.find("img").replaceWith(e):e?t.prepend(e):void 0},t=function(t,e){var n;return n={showInput:!0,showButtons:!1,showAlpha:!0,containerClassName:"gd-spectrum-container",replacerClassName:"gd-spectrum-replacer",preferredFormat:"rgb",move:function(e){return t.val(e).trigger("change")}},t.spectrum($.extend(n,null!=e?e:{}))},GD.initSpectrums=function(e,n){var i,r,o,s,a;for(null==n&&(n=null),s=e.find("[data-role=color-picker]"),a=[],r=0,o=s.length;r<o;r++)i=s[r],a.push(t($(i),n));return a},$(document).on("focusin",".sp-container .sp-input",function(t){return t.stopImmediatePropagation()}),GD.updateModalHeight=function(t,e,n,i){var r,o,s,a,l;if(null==e&&(e=".modal-body"),null==n&&(n=null),null==i&&(i=null),r=$(t).find(e),0!==r.length)return n||(n=$(t).find(".modal-header").outerHeight()+(null!=(l=$(t).find(".modal-footer").outerHeight())?l:0)),s=o=.8*$(window).height()-n,a=$(t).find(".modal-dialog"),r.get(0).scrollHeight>o?($(a).css({top:"1%"}),s=.9*$(window).height()-n):$(a).css({top:"10%"}),r.css({"max-height":s+"px"}),i?i(s):void 0},GD.updateSubmitBtn=function(){var t,e,n,i,r;return i=$(".submit-field input.submit, .entry-show .actions [data-role='submit']"),r=null!=(e=i.data("fileUploading"))?e:0,r<0&&i.data("fileUploading",0),t=null!=(n=r>0||i.data("no-goods-selected")||i.data("weixin-openid-fetching"))&&n,i.attr("disabled",t)},GD.showConfirmBox=function(t,e,n){var i;return null==n&&(n={}),i="<div id='gd_confirm_modal' class='modal light' tabindex='-1' role='dialog' hidden='true'"+(n.staticBackdrop?" data-backdrop=static":void 0)+">\n  <div class='modal-dialog modal-sm'>\n    <div class='modal-content'>\n      <div class='modal-header'><h4 class=\"modal-title\">"+t+"</h4></div>\n      <div class='modal-body clearfix'> "+e+" </div>\n      <div class='modal-footer'>\n        <a data-role='ok' class='gd-btn gd-btn-primary' href='javascript:void(0)'>"+(n.successText||"\u786e\u5b9a")+"</a>\n        <a data-dismiss='modal' class='gd-btn gd-btn-info' href='javascript:void(0)'>"+(n.cancelText||"\u53d6\u6d88")+"</a>\n      </div>\n    </div>\n  </div>\n</div>",$("#gd_confirm_modal").remove(),$("body").append(i),$("#gd_confirm_modal").modal("show"),$("#gd_confirm_modal [data-role=ok]").one("click",function(){return $(this).closest(".modal").modal("hide"),"function"==typeof n.successCallback?n.successCallback():void 0}),$("#gd_confirm_modal [data-dismiss=modal]").one("click",function(){return"function"==typeof n.cancelCallback?n.cancelCallback():void 0})},GD.updateRadioBtnGroupStatus=function(t){var e;return e=t.is(".gd-btn")?t:t.closest(".gd-btn"),e.siblings(".gd-btn.selected").removeClass("selected"),e.addClass("selected")},GD.turbolinksReloadWithCurrentPosition=function(){return Turbolinks.enableTransitionCache(!0),Turbolinks.visit(window.location.href),Turbolinks.enableTransitionCache(!1)},GD.insertFieldsBaseTooltip=function(t,e){return null==e&&(e=null),$(t).gdClickTooltip({contentCloning:!1,autoClose:!1,theme:"field-placeholder-selector gd-tooltip-menu-over",content:$(t).next(".gd-hide").find(".field-placeholder-insertion"),functionReady:function(t){if(setTimeout(function(){return $(document).one("click","*:not(.tooltipster-content)",function(){return t.tooltipster("hide")})},100),e)return e()},functionAfter:function(){return $(document).off("click","*:not(.tooltipster-content)")}})},GD.bindKeyNav=function(t,e){return null==e&&(e={}),$(document).one("page:fetch",function(){return $(document).off("keydown.nav")}),$(document).on("keydown.nav",function(n){var i,r;if(!$("#lightbox").is(":visible")&&!$(n.target).is("input:visible:not(:submit), textarea, select")&&(r=t?$(t).find(".nav-arrows a"):$(".nav-arrows a"),2===r.length&&(i=function(){switch(n.keyCode){case 37:return r.first();case 39:return r.last();default:return null}}(),i&&i.is(":not(.disabled)"))))return e.target?(e.beforeSend&&e.beforeSend(),$(e.target).load(i.attr("href"),e.afterSend)):Turbolinks.visit(i.attr("href"))})},_.templateSettings={evaluate:/\[\[(.+?)\]\]/g,interpolate:/\{\{(.+?)\}\}/g,escape:/\{\{-(.+?)\}\}/g},$(document).on("page:load ready ajax:complete",function(){var t,e,n,i,r;if(t=$("a[data-role=copy]"),0!==t.length){for(i=[],e=0,n=t.length;e<n;e++)r=t[e],i.push(GD.initClipboard(r));return i}}),$(document).on("page:load ready ajax:complete",function(){return $(".radio-card input[checked=checked]").closest(".radio-card").addClass("active")}),$(document).on("change",".radio-card input",function(){var t;return t=$("[name='"+$(this).attr("name")+"']"),t.closest(".radio-card.active").removeClass("active"),t.filter(":checked").closest(".radio-card").addClass("active")}),$(document).on("click","a[data-disabled-with]",function(){return GD.disableBtn($(this))}),$(document).on("click",".search-box .search-icon",function(){return $(this).siblings("input[type=search]").focus()}),$(document).on("change",".search-box input[type=search]",function(){var t;return t=!!$.trim($(this).val()),$(this).toggleClass("has-value",t)}),$(document).on("click",".gd-btn-radio-group .gd-btn",function(){return GD.updateRadioBtnGroupStatus($(this))}),$(document).on("click","a.disabled, a.prevent-default",function(t){return t.preventDefault()}),$(document).on("click","#switch_to_mobile",function(){return $.removeCookie("platform",{path:"/"})}),$(document).on("change",".change-submit",function(){if(!$(this).data("need-upgrade"))return $(this).closest("form").submit()}),$(document).on("ajax:complete","form.need-ajax-flash",function(t,e,n){return"success"===n?GD.showFlashNotification($(this).data("success-flash")||"\u8bbe\u7f6e\u4fdd\u5b58\u6210\u529f"):GD.showFlashNotification($(this).data("error-flash")||"\u8bbe\u7f6e\u4fdd\u5b58\u5931\u8d25","danger")}),$(".need-fixed-column:visible").livequery(function(){return $(this).fixedColumn()}),$(".need-drop-select").livequery(function(){return $(this).dropselect({clear:!1,icons:!1,filter:{placeholder:"",noresult:l("%no_result")}})}),$(".need-count-down").livequery(function(){var t,e,n,i;return t=$(this),i=t.data("second")||5,n=t.attr("href"),e=t.data("basetext")||t.text(),GD.countDownRedirect(t,n,i,e)}),$(document).on("focusin","input.stop-immed-pp",function(t){return t.stopImmediatePropagation()}),GD.triggerShowModal=function(){var t,e;if(e=url("?modal_trigger_id"))return t=$("#"+decodeURIComponent(e)),t.livequery(function(){return t.trigger("click")})},GD.shakeElement=function(t){return t.addClass("gd-animated gd-animation-shake"),setTimeout(function(){return t.removeClass("gd-animated gd-animation-shake")},500)},$(document).on("page:load ready",function(){return GD.isMobile=$(".mobile-device").length>0,GD.isPhone=$(".phone-device").length>0,setTimeout(GD.triggerShowModal,100),GD.adaptRetina()}),$("[data-feature-name]").livequery(function(){var t,e,n,i;if(t=$(this).data("feature-name").underscore(),$(this).is(".paid-feature")&&0===$(this).next(".gd-btn-paid-feature").length&&(n=$(this).data("paid-feature-label")||"\u4ed8\u8d39\u529f\u80fd",i=$(this).data("remote-modal"),e=$(this).data("modal-params"),$(this).after(" <a class='gd-btn gd-btn-paid-feature' data-modal-params='"+JSON.stringify(e)+"' data-target='#paid_feature_"+t+"_modal' data-remote-modal='"+i+"' data-toggle='modal'>"+n+"</a>")),$(this).data("need-upgrade"))return $(this).attr({"data-toggle":"modal","data-target":"#paid_feature_"+t+"_modal"})})}.call(this),function(){!function(t){var e;return e={qrcodeSize:[{label:"\u5c0f\u53f7",size:256},{label:"\u4e2d\u53f7",size:512},{label:"\u5927\u53f7",size:1024}],size:140,render:"image",fileName:"\u4e8c\u7ef4\u7801",showDownloads:!0},t.fn.gdQrCodeTooltip=function(n){var i;return i=t.extend({},e,n||{}),this.each(function(){return t(this).gdHoverTooltip({content:"<div></div>",minWidth:150,functionBefore:function(t,e){var n;if(n=t.data(),n.text)return e();throw"\u6ca1\u6709\u4f20\u5165\u4e8c\u7ef4\u7801\u6587\u672c"},functionReady:function(e){var n,r;return r=t("<div>"),r.qrcode(t.extend({},i,{text:e.data("text")})),i.showDownloads&&(n=t('<div class="qrcode-download-list"></div>').appendTo(r),_.each(i.qrcodeSize,function(r){var o,s;return o=t("<div>"),o.qrcode(t.extend({},i,{text:e.data("text"),render:"canvas",size:r.size,background:"#FFF"})),s=o.find("canvas")[0].toDataURL("image/png"),t("<a target='_blank' download='"+i.fileName+"_"+r.size+"'>"+r.label+"</a>").attr({href:s}).appendTo(n)})),e.tooltipster("content",r)}})})}}(jQuery)}.call(this),function(){window.GD||(window.GD={}),$(function(){var t,e;return e="gd-tooltip-light",t=function(t,n,i){var r,o,s,a;return r={position:"bottom",theme:e,delay:0,speed:10,contentAsHTML:!0,interactive:!0,interactiveTolerance:0},i.theme&&(i.theme=e+" "+i.theme),a=function(t,e){var n;if(e.one("click","[data-dismiss=tooltipster]",function(){return t.tooltipster("hide")}),e.on("click",'[data-remote-modal="true"]',GD.triggerLoadRemoteModal),e.on("click change",".with-impact-on-tooltip-size",function(){return setTimeout(function(){return t.tooltipster("reposition")},i.repositionDelay||5)}),e.find(".tooltipster-content").css({maxHeight:.9*$(window).height()}),i.backdrop===!0&&(n=$('<div class="gd-tooltip-backdrop gd-hide"></div>'),$(e).after(n),n.fadeIn(300,"linear")),t.addClass("active"),"function"==typeof i.functionReady)return i.functionReady(t,e)},s=function(t,e){var n;if(0===$(".tooltipster-base").length&&(n=$(".gd-tooltip-backdrop"),n.fadeOut(300,"linear",function(){return n.remove()})),t.data("tooltipster-ns")&&"shown"!==t.tooltipster("status")&&t.removeClass("active"),"function"==typeof i.functionAfter)return i.functionAfter(t,e)},o=$.extend(r,n,i,{functionReady:a,functionAfter:s}),t.each(function(){return $(this).tooltipster(o)})},$.fn.gdHoverTooltip=function(e){var n;return null==e&&(e={}),n={trigger:"hover",interactiveTolerance:500},t(this,n,e)},$.fn.gdClickTooltip=function(e){var n;return null==e&&(e={}),n={trigger:"click"},t(this,n,e)},$.fn.gdCustomTooltip=function(e){var n;return null==e&&(e={}),n={trigger:"custom"},t(this,n,e)},$(".with-tooltip").livequery(function(){return $(this).gdHoverTooltip({multiple:!0,position:$(this).data("tooltip-position")||"bottom",offsetY:$(this).data("tooltip-offset-y")||0,interactiveTolerance:$(this).data("interactive-tolerance")||0,contentAsHTML:!0,maxWidth:$(this).data("tooltip-max-width")||null,theme:$(this).data("tooltip-theme")||"gd-tooltip-mini",content:$(this).attr("title")||$(this).data("title"),functionAfter:function(t){return function(){if($(t).data("need-reset-after-hide"))return $(t).tooltipster("update",$(t).attr("title")||$(t).data("title"))}}(this)})}),$("[data-toggle=tooltipster]").livequery(function(){return $(this).click(function(){return $(".tooltipstered").not(this).tooltipster("hide")})}),GD.tooltipInitialized=function(t){return t.hasClass("tooltipstered")}})}.call(this),function(){var t;GD.enhanceDateField=function(t){var e,n,i;if(!$("body").is(".mobile-device"))return e=t.find("input[type=date]").addClass("transformed-date-input"),e.each(function(){var t;return t=$(this).val(),$(this).attr({type:"text"}).val(t)}),n=e.css("display"),i={},n&&(i.display=n),e.closest(".gd-input-container").addClass("gd-input-date").css(i)},t=function(){function t(t,e){var n;n={language:String.locale||"zh-CN",format:"yyyy-mm-dd",autoclose:!0,orientation:"auto left",todayHighlight:!0},e=$.extend(n,e||{}),$(t).datepicker(e).on("show hide",function(t){return t.stopPropagation()}),$(t).siblings(".gd-input-icon").click(function(){if(!$(t).prop("readonly"))return $(t).focus()})}return t}(),GD.initDatePicker=function(e,n){var i,r,o,s,a;for(null==n&&(n=null),GD.enhanceDateField(e),s=e.find(".transformed-date-input"),a=[],r=0,o=s.length;r<o;r++)i=s[r],a.push(new t(i,n));return a},$(function(){return $(document).on("ready page:load ajax:complete",function(){if(!($(".dashboard").length>0))return GD.initDatePicker($(document))})})}.call(this),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.GD.lightbox=e(t.jQuery)}(this,function(t){function e(e){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=t.extend({},this.constructor.defaults),this.option(e)}return e.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:500,fitImagesInViewport:!0,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1},e.prototype.option=function(e){t.extend(this.options,e)},e.prototype.imageCountLabel=function(t,e){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,e)},e.prototype.init=function(){this.enable(),this.build()},e.prototype.enable=function(){var e=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(n){return e.start(t(n.currentTarget)),!1})},e.prototype.build=function(){var e=this;t('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return e.end(),!1}),this.$lightbox.hide().on("click",function(n){return"lightbox"===t(n.target).attr("id")&&e.end(),!1}),this.$outerContainer.on("click",function(n){return"lightbox"===t(n.target).attr("id")&&e.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===e.currentImageIndex?e.changeImage(e.album.length-1):e.changeImage(e.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return e.currentImageIndex===e.album.length-1?e.changeImage(0):e.changeImage(e.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return e.end(),!1})},e.prototype.start=function(e){function n(t){i.album.push({link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var i=this,r=t(window);r.on("resize",t.proxy(this.sizeOverlay,this)),t("/*select, */object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var o,s=0,a=e.attr("data-lightbox");if(a){o=t(e.prop("tagName")+'[data-lightbox="'+a+'"]');for(var l=0;l<o.length;l=++l)n(t(o[l])),o[l]===e[0]&&(s=l)}else if("lightbox"===e.attr("rel"))n(e);else{o=t(e.prop("tagName")+'[rel="'+e.attr("rel")+'"]');for(var c=0;c<o.length;c=++c)n(t(o[c])),o[c]===e[0]&&(s=c)}var u=r.scrollTop()+this.options.positionFromTop,d=r.scrollLeft();this.$lightbox.css({top:u+"px",left:d+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(s)},e.prototype.changeImage=function(e){var n=this;this.disableKeyboardNav();var i=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var r=new Image;r.onload=function(){var o,s,a,l,c,u,d;i.attr("src",n.album[e].link),o=t(r),i.width(r.width),i.height(r.height),n.options.fitImagesInViewport&&(d=t(window).width(),u=t(window).height(),c=d-n.containerLeftPadding-n.containerRightPadding-20,l=u-n.containerTopPadding-n.containerBottomPadding-120,n.options.maxWidth&&n.options.maxWidth<c&&(c=n.options.maxWidth),n.options.maxHeight&&n.options.maxHeight<c&&(l=n.options.maxHeight),(r.width>c||r.height>l)&&(r.width/c>r.height/l?(a=c,s=parseInt(r.height/(r.width/a),10),i.width(a),i.height(s)):(s=l,a=parseInt(r.width/(r.height/s),10),i.width(a),i.height(s)))),n.sizeContainer(i.width(),i.height())},r.src=this.album[e].link,this.currentImageIndex=e},e.prototype.sizeOverlay=function(){this.$overlay.width(t(window).width()).height(t(document).height())},e.prototype.sizeContainer=function(t,e){function n(){i.$lightbox.find(".lb-dataContainer").width(s),i.$lightbox.find(".lb-prevLink").height(a),i.$lightbox.find(".lb-nextLink").height(a),i.showImage()}var i=this,r=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),s=t+this.containerLeftPadding+this.containerRightPadding,a=e+this.containerTopPadding+this.containerBottomPadding;r!==s||o!==a?this.$outerContainer.animate({width:s,height:a},this.options.resizeDuration,"swing",function(){n()}):n()},e.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},e.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(t){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},e.prototype.updateDetails=function(){var e=this;if("undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(){void 0!==t(this).attr("target")?window.open(t(this).attr("href"),t(this).attr("target")):location.href=t(this).attr("href")}),this.album.length>1&&this.options.showImageNumberLabel){var n=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(n).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return e.sizeOverlay()})},e.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var e=new Image;e.src=this.album[this.currentImageIndex-1].link;
}},e.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},e.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},e.prototype.keyboardAction=function(t){var e=27,n=37,i=39,r=t.keyCode,o=String.fromCharCode(r).toLowerCase();r===e||o.match(/x|o|c/)?this.end():"p"===o||r===n?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):"n"!==o&&r!==i||(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},e.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),t("select, object, embed").css({visibility:"visible"})},new e}),function(t,e,n,i){"use strict";function r(t,e,n){return setTimeout(u(t,n),e)}function o(t,e,n){return!!Array.isArray(t)&&(s(t,n[e],n),!0)}function s(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function a(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t}function l(t,e){return a(t,e,!0)}function c(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&a(i,n)}function u(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==ut?t.apply(e?e[0]||i:i,e):t}function h(t,e){return t===i?e:t}function p(t,e,n){s(v(e),function(e){t.addEventListener(e,n,!1)})}function f(t,e,n){s(v(e),function(e){t.removeEventListener(e,n,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function y(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function b(t){return Array.prototype.slice.call(t,0)}function w(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];y(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function _(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),s=0;s<lt.length;){if(n=lt[s],r=n?n+o:e,r in t)return r;s++}return i}function x(){return ft++}function C(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function D(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&n.handler(e)},this.init()}function $(t){var e,n=t.options.inputClass;return new(e=n?n:vt?G:yt?q:mt?U:z)(t,k)}function k(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&Dt&&i-r===0,s=e&(kt|Tt)&&i-r===0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,T(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function T(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=I(e)),r>1&&!n.firstMultiple?n.firstMultiple=I(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=e.center=A(i);e.timeStamp=pt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=O(a,l),e.distance=N(a,l),S(n,e),e.offsetDirection=P(e.deltaX,e.deltaY),e.scale=s?L(s.pointers,i):1,e.rotation=s?j(s.pointers,i):0,M(n,e);var c=t.element;g(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function S(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Dt&&o.eventType!==kt||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function M(t,e){var n,r,o,s,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=Tt&&(l>Ct||a.velocity===i)){var c=a.deltaX-e.deltaX,u=a.deltaY-e.deltaY,d=E(l,c,u);r=d.x,o=d.y,n=ht(d.x)>ht(d.y)?d.x:d.y,s=P(c,u),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=s}function I(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:dt(t.pointers[n].clientX),clientY:dt(t.pointers[n].clientY)},n++;return{timeStamp:pt(),pointers:e,center:A(e),deltaX:t.deltaX,deltaY:t.deltaY}}function A(t){var e=t.length;if(1===e)return{x:dt(t[0].clientX),y:dt(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:dt(n/e),y:dt(i/e)}}function E(t,e,n){return{x:e/t||0,y:n/t||0}}function P(t,e){return t===e?St:ht(t)>=ht(e)?t>0?Mt:It:e>0?At:Et}function N(t,e,n){n||(n=jt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function O(t,e,n){n||(n=jt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function j(t,e){return O(e[1],e[0],Lt)-O(t[1],t[0],Lt)}function L(t,e){return N(e[0],e[1],Lt)/N(t[0],t[1],Lt)}function z(){this.evEl=Gt,this.evWin=Ft,this.allow=!0,this.pressed=!1,D.apply(this,arguments)}function G(){this.evEl=Ht,this.evWin=Ut,D.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function F(){this.evTarget=Wt,this.evWin=Yt,this.started=!1,D.apply(this,arguments)}function R(t,e){var n=b(t.touches),i=b(t.changedTouches);return e&(kt|Tt)&&(n=w(n.concat(i),"identifier",!0)),[n,i]}function q(){this.evTarget=Qt,this.targetIds={},D.apply(this,arguments)}function H(t,e){var n=b(t.touches),i=this.targetIds;if(e&(Dt|$t)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=b(t.changedTouches),a=[],l=this.target;if(o=n.filter(function(t){return g(t.target,l)}),e===Dt)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(kt|Tt)&&delete i[s[r].identifier],r++;return a.length?[w(o.concat(a),"identifier",!0),a]:void 0}function U(){D.apply(this,arguments);var t=u(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new z(this.manager,t)}function B(t,e){this.manager=t,this.set(e)}function W(t){if(m(t,ee))return ee;var e=m(t,ne),n=m(t,ie);return e&&n?ne+" "+ie:e||n?e?ne:ie:m(t,te)?te:Jt}function Y(t){this.id=x(),this.manager=null,this.options=l(t||{},this.defaults),this.options.enable=h(this.options.enable,!0),this.state=re,this.simultaneous={},this.requireFail=[]}function V(t){return t&ce?"cancel":t&ae?"end":t&se?"move":t&oe?"start":""}function Q(t){return t==Et?"down":t==At?"up":t==Mt?"left":t==It?"right":""}function X(t,e){var n=e.manager;return n?n.get(t):t}function Z(){Y.apply(this,arguments)}function K(){Z.apply(this,arguments),this.pX=null,this.pY=null}function J(){Z.apply(this,arguments)}function tt(){Y.apply(this,arguments),this._timer=null,this._input=null}function et(){Z.apply(this,arguments)}function nt(){Z.apply(this,arguments)}function it(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function rt(t,e){return e=e||{},e.recognizers=h(e.recognizers,rt.defaults.preset),new ot(t,e)}function ot(t,e){e=e||{},this.options=l(e,rt.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=$(this),this.touchAction=new B(this,this.options.touchAction),st(this,!0),s(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function st(t,e){var n=t.element;s(t.options.cssProps,function(t,i){n.style[_(n.style,i)]=e?t:""})}function at(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var lt=["","webkit","moz","MS","ms","o"],ct=e.createElement("div"),ut="function",dt=Math.round,ht=Math.abs,pt=Date.now,ft=1,gt=/mobile|tablet|ip(ad|hone|od)|android/i,mt="ontouchstart"in t,vt=_(t,"PointerEvent")!==i,yt=mt&&gt.test(navigator.userAgent),bt="touch",wt="pen",_t="mouse",xt="kinect",Ct=25,Dt=1,$t=2,kt=4,Tt=8,St=1,Mt=2,It=4,At=8,Et=16,Pt=Mt|It,Nt=At|Et,Ot=Pt|Nt,jt=["x","y"],Lt=["clientX","clientY"];D.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(C(this.element),this.evWin,this.domHandler)}};var zt={mousedown:Dt,mousemove:$t,mouseup:kt},Gt="mousedown",Ft="mousemove mouseup";c(z,D,{handler:function(t){var e=zt[t.type];e&Dt&&0===t.button&&(this.pressed=!0),e&$t&&1!==t.which&&(e=kt),this.pressed&&this.allow&&(e&kt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:_t,srcEvent:t}))}});var Rt={pointerdown:Dt,pointermove:$t,pointerup:kt,pointercancel:Tt,pointerout:Tt},qt={2:bt,3:wt,4:_t,5:xt},Ht="pointerdown",Ut="pointermove pointerup pointercancel";t.MSPointerEvent&&(Ht="MSPointerDown",Ut="MSPointerMove MSPointerUp MSPointerCancel"),c(G,D,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Rt[i],o=qt[t.pointerType]||t.pointerType,s=o==bt,a=y(e,t.pointerId,"pointerId");r&Dt&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(kt|Tt)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var Bt={touchstart:Dt,touchmove:$t,touchend:kt,touchcancel:Tt},Wt="touchstart",Yt="touchstart touchmove touchend touchcancel";c(F,D,{handler:function(t){var e=Bt[t.type];if(e===Dt&&(this.started=!0),this.started){var n=R.call(this,t,e);e&(kt|Tt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:bt,srcEvent:t})}}});var Vt={touchstart:Dt,touchmove:$t,touchend:kt,touchcancel:Tt},Qt="touchstart touchmove touchend touchcancel";c(q,D,{handler:function(t){var e=Vt[t.type],n=H.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:bt,srcEvent:t})}}),c(U,D,{handler:function(t,e,n){var i=n.pointerType==bt,r=n.pointerType==_t;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(kt|Tt)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Xt=_(ct.style,"touchAction"),Zt=Xt!==i,Kt="compute",Jt="auto",te="manipulation",ee="none",ne="pan-x",ie="pan-y";B.prototype={set:function(t){t==Kt&&(t=this.compute()),Zt&&(this.manager.element.style[Xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),W(t.join(" "))},preventDefaults:function(t){if(!Zt){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=m(i,ee),o=m(i,ie),s=m(i,ne);return r||o&&n&Pt||s&&n&Nt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var re=1,oe=2,se=4,ae=8,le=ae,ce=16,ue=32;Y.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=X(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=X(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=X(t,this),y(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=X(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?V(i):""),t)}var n=this,i=this.state;i<ae&&e(!0),e(),i>=ae&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ue)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ue|re)))return!1;t++}return!0},recognize:function(t){var e=a({},t);return d(this.options.enable,[this,e])?(this.state&(le|ce|ue)&&(this.state=re),this.state=this.process(e),void(this.state&(oe|se|ae|ce)&&this.tryEmit(e))):(this.reset(),void(this.state=ue))},process:function(){},getTouchAction:function(){},reset:function(){}},c(Z,Y,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(oe|se),r=this.attrTest(t);return i&&(n&Tt||!r)?e|ce:i||r?n&kt?e|ae:e&oe?e|se:oe:ue}}),c(K,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ot},getTouchAction:function(){var t=this.options.direction,e=[];return t&Pt&&e.push(ie),t&Nt&&e.push(ne),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&Pt?(r=0===o?St:o<0?Mt:It,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?St:s<0?At:Et,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return Z.prototype.attrTest.call(this,t)&&(this.state&oe||!(this.state&oe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Q(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),c(J,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&oe)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),c(tt,Y,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Jt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(kt|Tt)&&!o)this.reset();else if(t.eventType&Dt)this.reset(),this._timer=r(function(){this.state=le,this.tryEmit()},e.time,this);else if(t.eventType&kt)return le;return ue},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===le&&(t&&t.eventType&kt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=pt(),this.manager.emit(this.options.event,this._input)))}}),c(et,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&oe)}}),c(nt,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Pt|Nt,pointers:1},getTouchAction:function(){return K.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Pt|Nt)?e=t.velocity:n&Pt?e=t.velocityX:n&Nt&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&ht(e)>this.options.velocity&&t.eventType&kt},emit:function(t){var e=Q(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),c(it,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[te]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Dt&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=kt)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||N(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=r(function(){this.state=le,this.tryEmit()},e.interval,this),oe):le}return ue},failTimeout:function(){return this._timer=r(function(){this.state=ue},this.options.interval,this),ue},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==le&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),rt.VERSION="2.0.4",rt.defaults={domEvents:!1,touchAction:Kt,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[J,{enable:!1},["rotate"]],[nt,{direction:Pt}],[K,{direction:Pt},["swipe"]],[it],[it,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var de=1,he=2;ot.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?he:de},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&le)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],e.stopped===he||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(oe|se|ae)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Y)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return s(v(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return s(v(t),function(t){e?n[t].splice(y(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&at(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&st(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(rt,{INPUT_START:Dt,INPUT_MOVE:$t,INPUT_END:kt,INPUT_CANCEL:Tt,STATE_POSSIBLE:re,STATE_BEGAN:oe,STATE_CHANGED:se,STATE_ENDED:ae,STATE_RECOGNIZED:le,STATE_CANCELLED:ce,STATE_FAILED:ue,DIRECTION_NONE:St,DIRECTION_LEFT:Mt,DIRECTION_RIGHT:It,DIRECTION_UP:At,DIRECTION_DOWN:Et,DIRECTION_HORIZONTAL:Pt,DIRECTION_VERTICAL:Nt,DIRECTION_ALL:Ot,Manager:ot,Input:D,TouchAction:B,TouchInput:q,MouseInput:z,PointerEventInput:G,TouchMouseInput:U,SingleTouchInput:F,Recognizer:Y,AttrRecognizer:Z,Tap:it,Pan:K,Swipe:nt,Pinch:J,Rotate:et,Press:tt,on:p,off:f,each:s,merge:l,extend:a,inherit:c,bindFn:u,prefixed:_}),typeof define==ut&&define.amd?define(function(){return rt}):"undefined"!=typeof module&&module.exports?module.exports=rt:t[n]=rt}(window,document,"Hammer"),function(){GD.lightbox.option({fadeDuration:200,resizeDuration:100}),GD.initLightbox=function(){return $(".lightbox-image-link").each(function(){var t,e;if(t=$(this).find(".image-loading"),e=t.data("url"))return $(this).append("<img src="+e+" class='hide'>"),$(this).find("img").load(function(){return $(this).removeClass("hide"),t.remove()})}),0===$("#lightboxOverlay").length?GD.lightbox.init():GD.lightbox.enable()},$(document).on("page:load ready",function(){return GD.initLightbox()}),$(document).on("read page:load",function(){return $(".mobile-device #lightbox").livequery(function(){var t,e,n;return t=new Hammer.Manager($(".lb-container")[0],{recognizers:[[Hammer.Pinch,{enable:!0}],[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]]}),e=1,n=function(t){return $(".lb-container .lb-image").css({transform:"scale("+t+", "+t+")"})},t.on("swiperight",function(){var t;return t=GD.lightbox.currentImageIndex,0!==t&&GD.lightbox.changeImage(t-1),e=1,n(e)}),t.on("swipeleft",function(){var t;return t=GD.lightbox.currentImageIndex,t!==GD.lightbox.album.length-1&&GD.lightbox.changeImage(t+1),e=1,n(e)}),t.on("pinch",function(t){return n(Math.max(1,Math.min(e*t.scale,10)))}),t.on("pinchend",function(t){return e=Math.max(1,Math.min(e*t.scale,10)),n(e)})})})}.call(this),function(){var t;t={render:"image",size:128},$(".with-qrcode").livequery(function(){var e;return e=$.extend({},t,$(this).data()||{}),$(this).qrcode(e)}),$(".with-qrcode-tooltip").livequery(function(){return $(this).on("change:qrcode",function(){var e;return e=$.extend({},t,$(this).data()||{}),$(this).gdQrCodeTooltip(e)}),$(this).trigger("change:qrcode")})}.call(this),function(){window.GD||(window.GD={}),GD.REGEXP={email:/^(|(([A-Za-z0-9]+_+)|([A-Za-z0-9]+\-+)|([A-Za-z0-9]+\.+)|([A-Za-z0-9]+\++))*[A-Za-z0-9_]+@((\w+\-+)|(\w+\.))*\w{1,63}\.[a-zA-Z]{2,6})$/i,link:/^(http:|https:)\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/,mobile:/^(13\d|14[5,7]|15[0-3,5-9]|17[0135678]|18\d)\d{8}$/,nickname:/^[a-zA-Z0-9_\u4e00-\u9fa5]+$/,provinceSuffix:/\u58ee\u65cf\u81ea\u6cbb\u533a|\u56de\u65cf\u81ea\u6cbb\u533a|\u7ef4\u543e\u5c14\u81ea\u6cbb\u533a|\u7279\u522b\u884c\u653f\u533a|\u7701|\u5e02|\u81ea\u6cbb\u533a$/i,telProtocol:/^tel:/}}.call(this),function(){$&&$.validator&&($.validator.addMethod("gdPhone",function(t,e){return this.optional(e)||GD.REGEXP.mobile.test(t)},"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5927\u9646\u624b\u673a\u53f7"),$.validator.addMethod("gdEmailOrMobileNo",function(t,e){return this.optional(e)||GD.REGEXP.mobile.test(t)||GD.REGEXP.email.test(t)},"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u621611\u4f4d\u624b\u673a\u53f7"),$.validator.addMethod("conditionRequired",$.validator.methods.required,"\u8bf7\u9009\u62e9\u6761\u4ef6"),$.validator.addMethod("gdEmail",function(t,e){return this.optional(e)||GD.REGEXP.email.test(t)},"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u90ae\u7bb1"),$.validator.addMethod("gdNickname",function(t,e){return this.optional(e)||GD.REGEXP.nickname.test(t)},"\u6635\u79f0\u4ec5\u652f\u6301\u4e2d\u82f1\u6587\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf"),$.validator.addMethod("gdResult",function(t,e){var n,i,r,o,s,a,l,c;return o=$(e).closest("[data-field-combinations]"),n=o.find(".field-combination-container:not(.gd-hide)"),i=$(e).closest(".field-combination-container"),a=i.find("select").map(function(){return $(this).val()}).toArray(),c=n.index(i),r=n.slice(0,c),s=_.compact(a),_.uniq(s).length!==s.length?(l=[],_.uniq(s).forEach(function(t){return s.splice(s.indexOf(t),1)}),l=s,!l.some(function(e){return e===t})):this.optional(e)||r.toArray().every(function(t){var e;return e=$(t).find("select").map(function(){return $(this).val()}).toArray(),e.sort().toString()!==a.sort().toString()})},"\u67e5\u8be2\u6761\u4ef6\u91cd\u590d\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9"),$.validator.addClassRules("gdresult-customer-validation",{conditionRequired:!0,gdResult:!0}))}.call(this),function(){window.GD||(window.GD={}),GD.initWeixinLogin=function(t){if(t.length>0&&"undefined"!=typeof WxLogin&&null!==WxLogin&&t.data("redirect-uri"))return new WxLogin({id:"weixin_login",appid:t.data("appid"),scope:"snsapi_login,snsapi_userinfo",redirect_uri:t.data("redirect-uri"),state:t.data("state"),href:t.data("css-href")})}}.call(this),function(){var t;t=function(){return GD.initWeixinLogin($(".social-account.account-weixin")),$("#weixin_login_section").children(".back").data("session-type",$(".login-panel").is(":visible")?"login":"signup"),$(".login-switcher, .login-panel, .signup-panel").hide(),$("#weixin_login_section").show()},$(document).on("page:load ready",function(){if(!$(".social-account.account-weixin").data("redirect-to"))return"weixin"===url("#")&&t(),0!==$(".social-account.account-new-weixin").length&&null!=GD.currentSessionId&&(GD.channel=GD.pusher.subscribe("session_user_"+GD.currentSessionId),GD.channel.bind("wx_qrcode_done",function(t){return null!=t.message.bind_done?($("#weixin_user_sign_form input.uid").val(t.message.uid),$("#weixin_user_sign_form input.token").val(t.message.token),$("#weixin_user_sign_form").submit()):$(".weixin-status-text").empty().text("\u8be5\u5fae\u4fe1\u53f7\u5df2\u88ab\u5360\u7528,\u8bf7\u66f4\u6362\u5fae\u4fe1\u53f7").addClass("error").show()})),$(".social-account.account-weixin").on("click",function(){var e;return e=$(this).data("redirect-to"),e?window.location=e:t()}),$("#weixin_login_section").on("click","> .back",function(){return $("#weixin_login_section").hide(),"login"===$(this).data("session-type")?($(".login-panel, .login-switcher:first").show(),$(".signup-panel").hide()):($(".login-panel, .login-switcher + .login-switcher").hide(),$(".signup-panel").show())})})}.call(this),function(){var t;window.GD||(window.GD={}),t={minlength:"\u8bf7\u8f93\u5165\u81f3\u5c116\u4f4d\u5bc6\u7801",required:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},GD.identityValidate=function(t,e){var n,i,r;return n=$(t).find(".identity-validate-container"),r={ignore:".ignore-validate",errorClass:"validate-invalid",validClass:"validate-valid",onkeyup:!1,focusInvalid:!1,errorLabelContainer:n,submitHandler:function(t){return $(t).find("button:submit").prop("disabled",!0),t.submit()},highlight:function(t){return $(t).addClass("has-error").removeClass("has-success")},unhighlight:function(t){return $(t).addClass("has-success").removeClass("has-error")},onclick:function(t){if("remember_me"!==$(t).attr("id"))return $(t).closest("form").find("button:submit").prop("disabled",!t.checked)},rules:e.rules,messages:e.messages},$(t).on("focus","input",function(){var t,e;if(e=$(this).attr("id"),t=n.find("#"+e+"-error").remove(),$("#"+e).removeClass("has-error"),!n.children().length)return n.hide()}),e.validateOptions&&_.extend(r,e.validateOptions),i=t.validate(r)},$(document).on("page:load ready",function(){var e,n,i,r,o,s,a,l,c,u,d;if(e=$("#new_identity"),n=$("#reset_password"),e.length&&(i=e),n.length&&(i=n),i)return u=!!i.hasClass("retrieve-password"),c=i.data("check-presence-url"),s={retrieve_password:u,identity:{email_or_mobile_no:$(this).parent().find("#identity_email_or_mobile_no").val()}},a={retrieve_password:u,identity:{email:$(this).parent().find("#identity_email").val()}},l=u?"\u8d26\u53f7\u5c1a\u672a\u6ce8\u518c":"\u90ae\u7bb1\u5df2\u88ab\u5360\u7528",o={required:u?"\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a":"\u90ae\u7bb1\u6216\u8005\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a",remote:u?"\u8d26\u53f7\u5c1a\u672a\u6ce8\u518c":"\u90ae\u7bb1\u6216\u8005\u624b\u673a\u53f7\u5df2\u88ab\u5360\u7528"},d={rules:{"identity[email_or_mobile_no]":{required:!0,gdEmailOrMobileNo:!0,remote:{url:c,data:s}},"identity[password]":{required:!0,minlength:6},"identity[email]":{required:!0,gdEmail:!0,remote:{url:c,data:a}},"identity[nick_name]":{gdNickname:!0,rangelength:[2,20],remote:c},"identity[mobile_no]":{required:!0,remote:c,gdPhone:!0},_rucaptcha:{required:!0,remote:{url:"/captcha/verify",complete:function(t){if("true"===t.responseText)return $(this).find(".send-verification-sms-code").removeClass("disabled")}}},sms_verification_code:{required:!0},terms_agreed:{required:!0}},messages:{"identity[email_or_mobile_no]":o,"identity[nick_name]":{remote:"\u6635\u79f0\u5df2\u88ab\u5360\u7528",rangelength:"\u6635\u79f0\u957f\u5ea6\u5e94\u57282~20\u4e2a\u5b57\u4e4b\u95f4"},"identity[email]":{required:"\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a",email:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u90ae\u7bb1",remote:l},"identity[password]":t,"identity[mobile_no]":{remote:"\u624b\u673a\u53f7\u5df2\u88ab\u5360\u7528",mobile_no:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",required:"\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a"},_rucaptcha:{remote:"\u9a8c\u8bc1\u7801\u6709\u8bef",required:"\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a"},sms_verification_code:{required:"\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a"}}},r=GD.identityValidate(i,d),i.on("mousedown",function(t){if($(t.target).is(".switch-signup-type"))return r.resetForm()})}),$(document).on("ready page:load",function(){var e,n,i;if(e=$("#login_form"),e.length)return n=e.hasClass("can-login-with-mobile"),i={rules:{auth_key:{required:!0,gdEmailOrMobileNo:n,gdEmail:!n},password:{required:!0}},messages:{auth_key:{required:n?"\u90ae\u7bb1\u6216\u8005\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a":"\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a"},password:t}},GD.identityValidate(e,i)}),$(document).on("ready page:load",function(){var e,n;if(e=$("#confirm_reset_password_form"),e.length)return n={rules:{"identity[password]":{required:!0,minlength:6},"identity[password_confirmation]":{required:!0,minlength:6}},messages:{"identity[password]":t,"identity[password_confirmation]":{required:"\u786e\u8ba4\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",minlength:"\u786e\u8ba4\u5bc6\u7801\u4e0d\u80fd\u5c0f\u4e8e6\u4f4d"}}},GD.identityValidate(e,n)}),$(document).on("page:load ready",function(){var t,e,n;if(e=$("#verify_sms_code_form"),e.length)return n={validateOptions:{onkeyup:function(){return e.find(".identity-validate-container").empty().hide()}},rules:{sms_verification_code:{required:!0}},messages:{sms_verification_code:{required:"\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a"}}},t=GD.identityValidate(e,n)})}.call(this),function(){$(document).on("page:load ready",function(){var t,e;if(t=$(".identity-code-verify-form, #reset_password, #verify_sms_code_form"),t.length)return e=function(e,n){var i;if(null==e&&(e=0),null==n&&(n=!0),i=t.find(".sms-verification .send-verification-sms-code"),GD.countDown(i,e||i.data("cool-time")),!n)return i.parents().find(".validate-invalid").hide()},t.on("click",".sms-verification .send-verification-sms-code",function(n){var i,r,o,s;if(r=$(n.target),!r.hasClass("disabled"))return o=t.find(".helper-error-message-container"),o.hide(),i=r.closest("form").find("#identity_mobile_no"),s=t.find(".reset-mobile-no").length,$.ajax({url:r.data("url"),type:"patch",data:{identity:{mobile_no:i.val()}}}).done(function(t){return e(t.cooling_time,!1)}).fail(function(t){var n;return GD.enableBtn(r),e(null!=(n=t.responseJSON)?n.cooling_time:void 0,!1)})}),e()})}.call(this),function(){$(document).on("page:load ready",function(){var t;if(t=$(".signup-panel"),t.length)return t.on("click",".switch-signup-type",function(){var e,n,i,r,o;return i=$(this).data("current-type"),r="mobile_no"===i,t.find("input").removeClass("has-error"),t.find(".identity-validate-container").empty().hide(),e=t.find(".field[data-signup-type='email']"),n=t.find(".field[data-signup-type='mobile_no']"),e.find("input").val(),n.find("input").val(),r?(e.show().find("input").removeClass("ignore-validate"),n.hide().find("input").addClass("ignore-validate")):(e.hide().find("input").addClass("ignore-validate"),n.show().find("input").removeClass("ignore-validate")),o=r?"email":"mobile_no",t.find("form #signup_type").val(o),t.find("form").validate().resetForm()})})}.call(this),function(){$(document).on("ready page:load",function(){var t,e,n,i,r,o;for(o=$(".password-reset-page, .signup-verify-page").find(".auto-redirect"),i=0,r=o.length;i<r;i++)n=o[i],t=$(n),GD.countDownRedirect(t,t.attr("href"),10,t.text());if($(".verify-panel form input:submit").on("click",function(){return GD.countDown($(this),60,$(this).val()),$(this).closest("form").submit()}),0!==$(".login-box").length)return e=$("#captcha_container").closest("form").find(".identity-validate-container"),GD.visualCaptcha("zh_cn",function(t){if(t.result||GD.shakeElement($(".login-page .center-container, .password-reset-page .center-container")),e.find(".alert-captcha-alert").remove(),!e.children().length)return e.empty().hide()}),$(".login-box").on("click",".invitation",function(){return $(".login-box").find("form .identity-validate-container").empty().hide(),$(".login-box").find("form :input:not([type=hidden])").val(""),$(".login-box .alert").hide(),$("#weixin_login_section").hide(),$(".login-box").find(".login-panel, .signup-panel").hide(),$("."+$(this).data("for")).stop().fadeIn(),$(".login-box .login-switcher").toggle(),$(".login-box").find(".has-error").removeClass("has-error")}),$(".login-box").on("click",".social-login [data-role=toggle_social_login]",function(){if($(".login-box .social-login-container").slideDown("fast"),$(".site.phone-device").length>0)return $(".login-box .social-login").removeClass("absolute-bottom"),$("html, body").animate({scrollTop:$(window).height()},"slow")}),$(".login-box").on("click",".login-switcher a",function(){return $(".login-box").find(".has-error").removeClass("has-error"),$(".login-box").find("form").validate().resetForm()})})}.call(this),_.templateSettings={evaluate:/\[\[(.+?)\]\]/g,interpolate:/\{\{(.+?)\}\}/g,escape:/\{\{-(.+?)\}\}/g},String.toLocaleString({en:{"%no_result":"No results found",
"%rechoose":"rechoose","%delete":"delete","%warn_system_file":"system file is not allowed","%attachment_media_type_support":"support: ","%warn_exec_file":"EXE/BAT format file is not allowed","%file_name_too_long":"file name is too long","%warn_oversize":"file size is over {{maxSize}}","%warn_invalid_filetype":"file type is not allowed","%warn_wrong_mobile_number":"<i class='gd-icon-times-circle'></i> please enter correct mobile number of mainland China","%total":"total: ","%download":"download","%sold_out":"sold out","%select_spec":"Please select {{labels}} first","%common_separator":", ","%send_sms_verification":"Send Code","%resend":"resend SMS","%second":"s","%sendingSMS":"sending SMS","%warn_geo_cannot_get_location":"Can't get your location!","%warn_geo_permission_denied":"You denied the request for Geolocation.","%warn_geo_position_unavailable":"Location information is unavailable.","%warn_geo_timeout":"The request to get your location timed out.","%warn_geo_unknown_error":"An unknown error occurred.","%geo_coord":"Longitude:{{long}},Latitude:{{lat}}","%geo_long":"Longitude:{{long}}","%geo_lat":"Latitude:{{lat}}","%geo_address":"{{address}}","%geo_choose":"Choose location","%geo_locate":"Get current location","%geo_locating":"Locating...","%geo_no_address":"No address information. ","%select_prompt":"Please select","%no_geo_data":"There is no data for this field currently.","%bracket":" ({{content}})","%upload_failed":"Because your network is unstable, please try again.","%upload_failed_400":"failed, changed to standard mode, please try again","%upload_failed_401":"failed, please refresh page and try again","%uploading":"Uploading...","%upload_done":"Uploading finished!","%max_file_quantity":"File quantity is over {{maxFileQuantity}}","%page_number":"Page {{currentPage}}/{{totalPage}}","%presence_error":"{{label}} is required","%mobile_verification_error":"{{label}}'s verification code is required","%white_list_limit_error":"{{label}} [{{fieldValue}}] is not allowed to submit","%format_error":"format is wrong","%email_format_error":"Please enter a valid email address, such as support@jinshuju.net","%name":"Name","%email":"Email","%contact_number":"Phone"},"zh-CN":{"%no_result":"\u6ca1\u6709\u5339\u914d\u7684\u641c\u7d22\u7ed3\u679c","%rechoose":"\u8bf7\u91cd\u65b0\u9009\u62e9","%delete":"\u522a\u9664","%warn_system_file":"\u7981\u6b62\u4e0a\u4f20\u7cfb\u7edf\u6587\u4ef6","%attachment_media_type_support":"\u4ec5\u652f\u6301\uff1a","%warn_exec_file":"\u7981\u6b62\u4e0a\u4f20EXE\u3001BAT\u683c\u5f0f\u7684\u6587\u4ef6","%file_name_too_long":"\u6587\u4ef6\u540d\u8fc7\u957f","%warn_oversize":"\u6587\u4ef6\u8d85\u8fc7\u4e86{{maxSize}}","%warn_excelx_oversize":".xlsx\u6587\u4ef6\u8d85\u8fc7\u4e86{{maxExcelxSize}}","%warn_invalid_filetype":"\u8be5\u7c7b\u578b\u6587\u4ef6\u4e0d\u5141\u8bb8\u4e0a\u4f20","%warn_wrong_mobile_number":"<i class='gd-icon-times-circle'></i> \u8bf7\u8f93\u5165\u6b63\u786e\u7684\u4e2d\u56fd\u5927\u9646\u624b\u673a\u53f7\u7801","%total":"\u5408\u8ba1\uff1a","%download":"\u4e0b\u8f7d","%sold_out":"\u5df2\u552e\u7a7a","%select_spec":"\u8bf7\u5148\u9009\u62e9{{labels}}","%common_separator":"\u3001","%send_sms_verification":"\u53d1\u9001\u9a8c\u8bc1\u77ed\u4fe1","%resend":"\u91cd\u65b0\u53d1\u9001","%second":"\u79d2","%sendingSMS":"\u6b63\u5728\u53d1\u9001\u77ed\u4fe1","%warn_geo_cannot_get_location":"\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01","%warn_geo_permission_denied":"\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u8bf7\u6253\u5f00\u6d4f\u89c8\u5668\u7684\u4f4d\u7f6e\u5171\u4eab\u6743\u9650","%warn_geo_position_unavailable":"\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u4f4d\u7f6e\u4fe1\u606f\u4e0d\u53ef\u7528","%warn_geo_timeout":"\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u83b7\u53d6\u7ecf\u7eac\u5ea6\u8d85\u65f6","%warn_geo_unknown_error":"\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u672a\u77e5\u9519\u8bef","%geo_coord":"\u7ecf\u5ea6:{{long}}\uff0c\u7eac\u5ea6:{{lat}}","%geo_long":"\u7ecf\u5ea6:{{long}}","%geo_lat":"\u7eac\u5ea6:{{lat}}","%geo_address":"{{address}}","%geo_choose":"\u83b7\u53d6\u5730\u7406\u4f4d\u7f6e","%geo_locate":"\u83b7\u53d6\u5f53\u524d\u4f4d\u7f6e","%geo_locating":"\u83b7\u53d6\u4f4d\u7f6e\u4e2d...","%geo_no_address":"\u65e0\u6cd5\u83b7\u53d6\u5730\u5740\u3002","%select_prompt":"\u8bf7\u9009\u62e9","%no_geo_data":"\u8be5\u5730\u7406\u4f4d\u7f6e\u5b57\u6bb5\u6682\u65e0\u6570\u636e\u3002","%bracket":"({{content}})","%upload_failed":"\u56e0\u60a8\u7f51\u7edc\u4e0d\u7a33\u5b9a\uff0c\u8bf7\u91cd\u65b0\u4e0a\u4f20\u6587\u4ef6\u3002","%upload_failed_400":"\u8be5\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u6781\u901f\u4e0a\u4f20\u6a21\u5f0f\uff0c\u73b0\u5df2\u8c03\u6574\u4e3a\u4f20\u7edf\u6a21\u5f0f\u3002\u8bf7\u9009\u62e9\u6587\u4ef6\u91cd\u65b0\u4e0a\u4f20\u3002","%upload_failed_401":"\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u9875\u9762\uff0c\u5e76\u57281\u5c0f\u65f6\u5185\u91cd\u65b0\u4e0a\u4f20","%uploading":"\u4e0a\u4f20\u4e2d...","%upload_done":"\u4e0a\u4f20\u6210\u529f\uff01","%max_file_quantity":"\u6700\u591a\u53ea\u80fd\u4e0a\u4f20{{maxFileQuantity}}\u4e2a\u6587\u4ef6","%page_number":"\u7b2c{{currentPage}}\u9875/\u5171{{totalPage}}\u9875","%presence_error":"\u8bf7\u586b\u5199{{label}}","%mobile_verification_error":"\u8bf7\u586b\u5199{{label}}\u9a8c\u8bc1\u7801","%white_list_limit_error":"{{label}} [{{fieldValue}}] \u4e0d\u80fd\u63d0\u4ea4","%format_error":"\u683c\u5f0f\u4e0d\u5bf9","%email_format_error":"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u5730\u5740\uff0c\u5982support@jinshuju.net","%name":"\u59d3\u540d","%email":"\u8054\u7cfb\u90ae\u7bb1","%contact_number":"\u8054\u7cfb\u7535\u8bdd"},"zh-TW":{"%no_result":"\u6c92\u6709\u5339\u914d\u7684\u641c\u7d22\u7d50\u679c","%rechoose":"\u8acb\u91cd\u65b0\u9078\u64c7","%delete":"\u522a\u9664","%warn_system_file":"\u7981\u6b62\u4e0a\u50b3\u7cfb\u7d71\u6a94\u6848","%attachment_media_type_support":"\u50c5\u652f\u6301\uff1a","%warn_exec_file":"\u7981\u6b62\u4e0a\u50b3EXE\u3001BAT\u683c\u5f0f\u7684\u6a94\u6848","%file_name_too_long":"\u6a94\u6848\u540d\u904e\u9577","%warn_oversize":"\u6a94\u6848\u8d85\u904e\u4e86{{maxSize}}","%warn_invalid_filetype":"\u8a72\u6a94\u6848\u985e\u578b\u4e0d\u5141\u8a31\u4e0a\u50b3","%warn_wrong_mobile_number":"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u4e2d\u570b\u5927\u9678\u624b\u6a5f\u865f\u78bc","%total":"\u5408\u8a08\uff1a","%download":"\u4e0b\u8f09","%sold_out":"\u5df2\u552e\u7f44","%select_spec":"\u8acb\u5148\u9078\u64c7{{labels}}","%common_separator":"\u3001","%send_sms_verification":"\u767c\u9001\u9a57\u8b49\u7c21\u8a0a","%resend":"\u91cd\u65b0\u767c\u9001","%second":"\u79d2","%sendingSMS":"\u6b63\u5728\u767c\u9001\u7c21\u8a0a","%warn_geo_cannot_get_location":"\u7121\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01","%warn_geo_permission_denied":"\u7121\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u8acb\u6253\u958b\u700f\u89bd\u5668\u7684\u4f4d\u7f6e\u5171\u7528\u8a31\u53ef\u6b0a","%warn_geo_position_unavailable":"\u7121\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u4f4d\u7f6e\u8cc7\u8a0a\u4e0d\u53ef\u7528","%warn_geo_timeout":"\u7121\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u7372\u53d6\u7d93\u7def\u5ea6\u8d85\u6642","%warn_geo_unknown_error":"\u7121\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u672a\u77e5\u932f\u8aa4","%geo_coord":"\u7d93\u5ea6:{{long}}\uff0c\u7def\u5ea6:{{lat}}","%geo_address":"{{address}}","%geo_choose":"\u7372\u53d6\u5730\u7406\u4f4d\u7f6e","%geo_locate":"\u7372\u53d6\u7576\u524d\u4f4d\u7f6e","%geo_locating":"\u7372\u53d6\u4f4d\u7f6e\u4e2d...","%geo_no_address":"\u7121\u6cd5\u7372\u53d6\u5730\u5740\u3002","%select_prompt":"\u8acb\u9078\u64c7","%no_geo_data":"\u8a72\u5730\u7406\u4f4d\u7f6e\u5b57\u6bb5\u66ab\u7121\u6578\u64da\u3002","%bracket":"\uff08{{content}}\uff09","%upload_failed":"\u56e0\u60a8\u7db2\u7d61\u4e0d\u7a69\u5b9a\uff0c\u8acb\u91cd\u65b0\u4e0a\u50b3\u6587\u4ef6\u3002","%upload_failed_400":"\u8a72\u700f\u89bd\u5668\u4e0d\u652f\u63f4\u6975\u901f\u4e0a\u50b3\u6a21\u5f0f\uff0c\u73fe\u5df2\u8abf\u6574\u70ba\u50b3\u7d71\u6a21\u5f0f\u3002\u8acb\u9078\u64c7\u6a94\u6848\u91cd\u65b0\u4e0a\u50b3\u3002","%upload_failed_401":"\u4e0a\u50b3\u5931\u6557\uff0c\u8acb\u5237\u65b0\u9801\u9762\uff0c\u4e26\u57281\u5c0f\u6642\u5167\u91cd\u65b0\u4e0a\u50b3","%uploading":"\u4e0a\u50b3\u4e2d...","%upload_done":"\u4e0a\u50b3\u6210\u529f\uff01","%max_file_quantity":"\u6700\u591a\u53ea\u80fd\u4e0a\u50b3{{maxFileQuantity}}\u500b\u6a94\u6848","%page_number":"\u7b2c{{currentPage}}\u9801/\u5171{{totalPage}}\u9801","%presence_error":"\u8acb\u586b\u5beb{{label}}","%mobile_verification_error":"\u8acb\u586b\u5beb{{label}}\u9a57\u8b49\u78bc","%white_list_limit_error":"{{label}} [{{fieldValue}}] \u4e0d\u80fd\u63d0\u4ea4","%format_error":"\u683c\u5f0f\u4e0d\u5c0d","%email_format_error":"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u96fb\u90f5\u5730\u5740\uff0c\u5982support@jinshuju.net","%name":"\u59d3\u540d","%email":"\u806f\u7e6b\u90f5\u7bb1","%contact_number":"\u806f\u7e6b\u96fb\u8a71"}});var l=function(t,e){return null==e&&(e={}),_.template(t.toLocaleString())(e)};if(String.locale="zh-CN",function(){GD.transformAttachment=function(){var t;if(t=".fields .field-attachment-field",GD.isOpenInWeiXin()&&$(t).length)return $(t+" .attachment-field > .jquery-file-upload-file-input").removeAttr("accept")}}.call(this),function(){GD.transformCheckbox=function(t){return t.find("input[type=checkbox]:not(.no-need-transform):not(.field-transformed)").addClass("field-transformed").wrap(function(){return"<div class='check-box-wrapper'></div>"}).after("<i class='selected-icon'></i>")}}.call(this),function(){GD.transformDropdown=function(t){return t.find("select:not(.field-transformed):not(.need-select2)").addClass("field-transformed").wrap(function(){var t;return t="",$(this).data("has-error")&&(t+=" field-with-errors"),$(this).hasClass("hide")&&(t+=" hide"),_.contains(["province","city","district"],$(this).data("role"))&&(t+=" "+$(this).data("role")+"-select-wrapper"),"<div class='dropdown-wrapper"+t+"'></div>"}).after("<b class='dropdown-bg'></b><i class='dropdown-trigger'></i>")}}.call(this),function(){GD.enhanceInputField=function(t){var e,n,i,r,o,s,a;for(s=t.find("input.input-with-icon:not(.enhanced-input)"),a=[],n=0,o=s.length;n<o;n++)r=s[n],e=$(r),i=e.data("icon"),a.push(e.addClass("enhanced-input").wrap("<div class='gd-input-container'></div>").after("<i class='gd-input-icon "+i+"'></i>"));return a}}.call(this),function(){GD.enhanceLikertAndMatrixField=function(t){var e,n,i,r,o;if(!t.hasClass("preview-container")){for(t.find('.field-likert-field:not(".horizontal-display") table, .field-matrix-field table').addClass("tablesaw tablesaw-stack").attr("data-tablesaw-mode","stack"),t.find(".horizontal-display table").fixedColumn(),t.trigger("enhance.tablesaw"),i=t.find(".field-matrix-field input"),r=[],e=0,n=i.length;e<n;e++)o=i[e],r.push($(o).css({minHeight:$(o).closest("td").height()}));return r}}}.call(this),function(){GD.transformRadioButton=function(t){return t.find("input[type=radio]:not(.no-need-transform):not(.field-transformed)").addClass("field-transformed").wrap(function(){return"<div class='radio-button-wrapper'></div>"}).after("<i class='selected-icon'></i>")}}.call(this),function(){GD.transformTelephone=function(t){var e,n,i,r,o;for(r=t.find("input.input-with-icon[data-icon='gd-icon-telephone']"),o=[],e=0,i=r.length;e<i;e++)n=r[e],o.push($(n).attr({type:"text"}));return o}}.call(this),function(){GD.transformAllFields=function(t){if(null==t&&(t=$(".entry-container, .preview-container")),0!==t.length)return GD.isIE()||GD.transformRadioButton(t),GD.isIE()||GD.transformCheckbox(t),GD.isIE()||GD.transformDropdown(t),GD.isIE()||GD.transformTelephone(t),GD.enhanceLikertAndMatrixField(t),GD.transformAttachment(),GD.enhanceInputField(t)},$(document).on("ready page:load ajax:complete",function(){if(!($(".dashboard").length>0))return GD.transformAllFields()})}.call(this),function(){window.GD||(window.GD={}),GD.resetGeoFieldChooser=function(t){if(GD.enableBtn(t.find(".geo-field-chooser, .current-location-btn")),t.find(".geo-field-chooser span").text(l("%geo_choose")),t.hasClass("mobile"))return t.find(".gd-btn.geo-field-chooser").val(l("%geo_locate"))},GD.Geo=function(){function t(t,e){this.$el=t,this.options=null!=e?e:{},this.options=$.extend({staticMap:!1,mobile:!1,localizable:!1},this.options),this.initMap(),this.options.staticMap||this.options.mobile&&!this.options.localizable||this.initMapEvent()}return t.prototype._noOverrideError=function(t){throw"can't find "+t+" in subclass"},t.prototype.initMap=function(){return this._initMap(this.$el.find(".map-container")[0])},t.prototype.getGeoMethod=function(t){return this.geoArray||(this.geoArray=this._geoArray()),this.geoArray[t]},t.prototype.onGetLocationSuccess=function(t,e){return this.updateMap(t,null,e)},t.prototype.onGetLocationFail=function(){return alert(l("%warn_geo_cannot_get_location")),GD.resetGeoFieldChooser(this.$el)},t.prototype._useNextGeoMethod=function(t){var e;if(e=this.getGeoMethod(this.geoIndex))return this.geoIndex++,e(t)},t.prototype.currentLocation=function(t){return null==t&&(t=null),t=null!=t?t:{},this.geoIndex=0,this._useNextGeoMethod(t)},t.prototype.updateMap=function(t,e,n){return null==e&&(e=null),null==n&&(n={}),this.mapObj&&this.setMarker(t,n.zoom),this.showAddress(t,e,n),this.$el.find(".geo-map-coord").html("<span>"+l("%geo_long",{"long":t.lng.toFixed(8)})+"</span>"),this.$el.find(".geo-map-coord").append("<span class='separator'>"+l("%common_separator")+"</span>"),this.$el.find(".geo-map-coord").append("<span>"+l("%geo_lat",{lat:t.lat.toFixed(8)})+"</span>"),this.$el.find("input[name$='[latitude]']").val(t.lat),this.$el.find("input[name$='[longitude]']").val(t.lng)},t.prototype._showAddress=function(t,e){if(this.$el.find(".geo-map-address").text(l("%geo_address",{address:t})),this.$el.find("input[name$='[address]']").val(t),e.onComplete)return e.onComplete()},t.prototype.showAddress=function(t,e,n){return null==e&&(e=null),null==n&&(n={}),e?this._showAddress(e,n):this._showAddressFromLocation(t,n)},t.prototype._initMap=function(){return this._noOverrideError("_initMap")},t.prototype.initMapEvent=function(){return this._noOverrideError("initMapEvent")},t.prototype._geoArray=function(){return this._noOverrideError("_geoArray")},t.prototype.setMarker=function(t,e){return null==e&&(e=null),this._noOverrideError("setMarker")},t.prototype._showAddressFromLocation=function(){return this._noOverrideError("_showAddressFromLocation")},t.prototype.searchLocation=function(){return this._noOverrideError("searchLocation")},t}()}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.GeoAutonavi=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype._initMap=function(t){var e;try{return this.mapObj=new AMap.Map(t,{lang:String.locale})}catch(t){return e=t,console.log(e)}finally{this.mapObj.plugin("AMap.ToolBar",function(t){return function(){var e;return e=t.options.localizable&&t.options.mobile?{offset:new AMap.Pixel(2,65)}:{direction:!1,offset:new AMap.Pixel((-10),5)},t.mapObj.addControl(new AMap.ToolBar(e))}}(this))}},n.prototype.initMapEvent=function(){return AMap.event.addListener(this.mapObj,"click",function(t){return function(e){return t.updateMap(e.lnglat)}}(this))},n.prototype._geoArray=function(){var t,e;return t=function(t){return function(e){var n,i;return i=function(n){return t.onGetLocationSuccess(n.position,e)},n=function(n){if(null==n&&(n=null),!t._useNextGeoMethod(e)){if(n)switch(n.info){case"PERMISSION_DENIED":alert(l("%warn_geo_permission_denied"));break;case"POSITION_UNAVAILBLE":alert(l("%warn_geo_position_unavailable"));break;case"TIMEOUT":alert(l("%warn_geo_timeout"));break;default:alert(l("%warn_geo_unknown_error"))}return GD.resetGeoFieldChooser(t.$el)}},t.mapObj.plugin("AMap.Geolocation",function(){var e;return e=new AMap.Geolocation({timeout:5e3,showButton:!1,showCircle:!1,zoomToAccuracy:!0}),t.mapObj.addControl(e),AMap.event.addListener(e,"complete",i),AMap.event.addListener(e,"error",n),e.getCurrentPosition()})}}(this),e=function(t){return function(e){var n;return n=function(){if(!t._useNextGeoMethod(e))return t.onGetLocationFail()},t.mapObj.plugin("AMap.CitySearch",function(){var i;return i=new AMap.CitySearch,AMap.event.addListener(i,"complete",function(i){var r;return i&&i.city&&i.bounds?(r=i.city,t.$el.find(".geo-map-address").text(r),t.$el.find(".geo-map-coord").empty(),t.$el.find("input[name$='[address]']").val(r),t.mapObj.setBounds(i.bounds),e.onComplete?e.onComplete():void 0):n()}),AMap.event.addListener(i,"error",n),i.getLocalCity()})}}(this),[t,e]},n.prototype.setMarker=function(t,e){var n,i;return null==e&&(e=null),this.mapObj.clearMap(),i={map:this.mapObj,icon:"https://webapi.amap.com/images/marker_sprite.png",position:t},this.options.staticMap||this.options.mobile&&!this.options.localizable?new AMap.Marker(i):(n=new AMap.Marker($.extend(i,{draggable:!0,animation:"AMAP_ANIMATION_DROP",cursor:"move",raiseOnDrag:!0})),AMap.event.addListener(n,"dragend",function(t){return function(e){return t.updateMap(e.lnglat)}}(this))),this.mapObj.setZoomAndCenter(null!=e?e:16,t)},n.prototype._showAddressFromLocation=function(t,e){return this.mapObj.plugin("AMap.Geocoder",function(n){return function(){var i;return i=new AMap.Geocoder({radius:1e3,extensions:"all"}),AMap.event.addListener(i,"complete",function(t){var i;return i=t.regeocode.formattedAddress,n._showAddress(i,e)}),i.getAddress(t)}}(this))},n.prototype.searchLocation=function(t){return GD.disableBtn(this.$el.find(".map-search-btn")),AMap.service(["AMap.Geocoder"],function(e){return function(){var n;return n=new AMap.Geocoder,n.getLocation(t,function(t,n){var i,r,o;switch(t){case"complete":i=n.geocodes[0],i&&(r=i.level,o=function(){switch(r){case"\u7701":return 5;case"\u5e02":return 10;case"\u533a\u53bf":return 12;default:return 16}}(),e.updateMap(i.location,i.formattedAddress,{zoom:o}));break;case"no_data":alert(l("%geo_no_address"));break;default:alert(n)}return GD.enableBtn(e.$el.find(".map-search-btn"))})}}(this))},n}(GD.Geo)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.GeoGoogle=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype._initMap=function(t){var e;return e={zoom:4,mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}},this.mapObj=new google.maps.Map(t,e),this.marker=new google.maps.Marker({position:this.mapObj.getCenter(),map:this.mapObj,animation:google.maps.Animation.Drop,draggable:!this.options.staticMap})},n.prototype.initMapEvent=function(){return google.maps.event.addListener(this.mapObj,"click",function(t){return function(e){return t.updateMap(t._latLngFromGoogleLatLng(e.latLng))}}(this)),google.maps.event.addListener(this.marker,"dragend",function(t){return function(e){return t.updateMap(t._latLngFromGoogleLatLng(e.latLng))}}(this))},n.prototype._geoArray=function(){var t;return t=function(t){return function(e){var n,i;return i=function(n){var i;return i={lat:n.coords.latitude,lng:n.coords.longitude},t.onGetLocationSuccess(i,e)},n=function(n){if(null==n&&(n=null),!t._useNextGeoMethod(e)){if(n)switch(n.code){case n.PERMISSION_DENIED:alert(l("%warn_geo_permission_denied"));break;case n.POSITION_UNAVAILABLE:alert(l("%warn_geo_position_unavailable"));break;case n.TIMEOUT:alert(l("%warn_geo_timeout"));break;default:alert(l("%warn_geo_unknown_error"))}return GD.resetGeoFieldChooser(t.$el)}},navigator.geolocation?navigator.geolocation.getCurrentPosition(i,n,{timeout:5e3,maximumAge:0}):n()}}(this),[t]},n.prototype._googleLatLng=function(t){return new google.maps.LatLng(t.lat,t.lng)},n.prototype._latLngFromGoogleLatLng=function(t){return{lat:t.lat(),lng:t.lng()}},n.prototype.setMarker=function(t,e){var n;return null==e&&(e=null),n=this._googleLatLng(t),this.mapObj.setZoom(null!=e?e:16),this.mapObj.setCenter(n),this.marker.setPosition(n)},n.prototype._showAddressFromLocation=function(t,e){var n;return n=this._googleLatLng(t),(new google.maps.Geocoder).geocode({latLng:n},function(n){return function(i,r){var o;if(r===google.maps.GeocoderStatus.OK&&i[0]&&(o=$.trim(i[0].formatted_address.replace(/\u90ae\u653f\u7f16\u7801.*/,""))),o?(n.$el.find(".geo-map-address").text(l("%geo_address",{address:o})),n.$el.find("input[name$='[address]']").val(o)):n.$el.find(".geo-map-address").text(l("%geo_no_address")+l("%geo_coord",{"long":t.lng,lat:t.lat})),e.onComplete)return e.onComplete()}}(this))},n.prototype.searchLocation=function(t){return GD.disableBtn(this.$el.find(".map-search-btn")),(new google.maps.Geocoder).geocode({address:t},function(t){return function(e,n){return n===google.maps.GeocoderStatus.OK?t.updateMap(t._latLngFromGoogleLatLng(e[0].geometry.location)):alert(l("%geo_no_address")),GD.enableBtn(t.$el.find(".map-search-btn"))}}(this))},n}(GD.Geo)}.call(this),function(){var t;t=function(){function t(t,e,n){this.$container=t,this.useGoogle=null!=e&&e,this.staticMap=null!=n&&n,this.mobile=this.$container.closest(".mobile-device").length>0,this.localizable=this.$container.hasClass("localizable"),this.initialMap(),this.staticMap||this.initialEvents(),this.$container.data("geo-initialized",!0)}return t.prototype.initialMap=function(){return this.staticMap||GD.resetGeoFieldChooser(this.$container),this.initialExistedPosition()},t.prototype.ensureGeo=function(){if(void 0===this.geo)return this.useGoogle?this.geo=new GD.GeoGoogle(this.$container,{mobile:this.mobile,staticMap:this.staticMap}):this.geo=new GD.GeoAutonavi(this.$container,{mobile:this.mobile,staticMap:this.staticMap,localizable:this.localizable})},t.prototype.initialExistedPosition=function(){var t,e,n,i;return this.staticMap?(t=this.$container.find(".map-container"),n=t.data("latitude"),i=t.data("longitude"),e=t.data("address")):(n=this.$container.find("input[name$='[latitude]']").val(),i=this.$container.find("input[name$='[longitude]']").val(),e=this.$container.find("input[name$='[address]']").val()),this.setLocation(n,i,e)},t.prototype.setLocation=function(t,e,n){var i;return t&&e?(this.ensureGeo(),i=this.useGoogle?{lat:parseFloat(t),lng:parseFloat(e)}:new AMap.LngLat(parseFloat(e),parseFloat(t)),this.geo.updateMap(i,n)):n?(this.ensureGeo(),this.geo.searchLocation(n)):void 0},t.prototype.initialEvents=function(){return this.$container.find(".geo-field-chooser").click(function(t){return function(){return t.ensureGeo(),t.geo.currentLocation(),t.$container.find(".geo-map-container").show(),t.$container.find(".geo-field-chooser").hide(),GD.recalcFormHeight()}}(this)),this.$container.find(".clear-location-btn").click(function(t){return function(){return t.$container.find(".geo-field-chooser").css("display","inline-block"),t.$container.find(".geo-map-container").hide(),t.$container.find("input[name$='[latitude]']").val(""),t.$container.find("input[name$='[longitude]']").val(""),t.$container.find("input[name$='[address]']").val(""),GD.recalcFormHeight()}}(this)),this.$container.find(".map-search-btn").click(function(t){return function(){var e;if(e=t.$container.find(".map-search").val())return t.geo.searchLocation(e)}}(this)),this.$container.find(".current-location-btn").click(function(t){return function(){return t.ensureGeo(),t.geo.currentLocation({onComplete:function(){return GD.enableBtn(t.$container.find(".current-location-btn.disabled"))}})}}(this))},t}(),GD.initGeoView=function(e){var n,i,r,o,s;for(null==e&&(e=!1),o=$("[data-role=geo]"),s=[],i=0,r=o.length;i<r;i++)n=o[i],$(n).data("geo-initialized")?s.push(void 0):s.push(new t($(n),e));return s},GD.initStaticGeoView=function(e){var n,i,r,o,s;for(null==e&&(e=!1),o=$("[data-role=static-geomap]"),s=[],i=0,r=o.length;i<r;i++)n=o[i],s.push(new t($(n),e,(!0)));return s},$(document).on("keypress",".field-geo-field .map-search",function(t){if(13===t.keyCode)return $(this).closest(".geo-map-action").find(".map-search-btn").click()})}.call(this),function(){window.GD||(window.GD={}),$(function(){return GD.AddressSelector=function(){function t(t){var e;this.data=t,this.provinces=function(){var t;t=[];for(e in this.data)t.push(e);return t}.call(this)}return t.prototype.render=function(t,e,n,i,r,o){var s,a,l,c,u;for(null==i&&(i=""),null==r&&(r=""),null==o&&(o=""),t.html("<option value=''>- \u7701/\u81ea\u6cbb\u533a/\u76f4\u8f96\u5e02 -</option>"),u=this.provinces,s=0,a=u.length;s<a;s++)c=u[s],l=$("<option value='"+c+"'>"+c+"</option>"),c===i&&l.prop("selected",!0),t.append(l);return this.renderCityOptions(i,e,r),this.renderDistrictOptions(i,r,n,o),t.on("change",function(i){return function(){return i.renderCityOptions(t.val(),e),i.renderDistrictOptions(t.val(),"",n)}}(this)),e.on("change",function(i){return function(){return i.renderDistrictOptions(t.val(),e.val(),n)}}(this))},t.prototype.renderCityOptions=function(t,e,n){var i,r,o,s,a,l;if(null==n&&(n=""),e.html("<option value=''>- \u5e02 -</option>"),this.data.hasOwnProperty(t)){for(a=_.keys(this.data[t]),l=[],r=0,o=a.length;r<o;r++)i=a[r],s=$("<option value='"+i+"'>"+i+"</option>"),i===n&&s.prop("selected",!0),l.push(e.append(s));return l}},t.prototype.renderDistrictOptions=function(t,e,n,i){var r,o,s,a,l,c,u;if(null==i&&(i=""),n.html("<option value=''>- \u533a/\u53bf -</option>"),null!=(l=this.data[t])?l[e]:void 0){for(c=this.data[t][e],u=[],o=0,s=c.length;o<s;o++)r=c[o],a=$("<option value='"+r+"'>"+r+"</option>"),r===i&&a.prop("selected",!0),u.push(n.append(a));return u}},t}(),GD.initAddressSelector=function(t){var e,n,i,r,o,s,a,l;if(GD.addressSelector){for(a=$(t).find("[data-role=address]"),l=[],r=0,o=a.length;r<o;r++)e=a[r],s=$(e).find("[data-role=province]"),n=$(e).find("[data-role=city]"),i=$(e).find("[data-role=district]"),l.push(GD.addressSelector.render(s,n,i,s.data("value"),n.data("value"),i.data("value")));return l}},$(document).on("ready page:load ajax:complete",function(){if(!($(".dashboard").length>0))return GD.initAddressSelector(document)})})}.call(this),function(){window.GD||(window.GD={}),$(function(){var t;return t=function(t,e){var n,i,r,o,s,a,c,u,d,h,p;for(p=t.find("option:selected"),o=(null!=(c=e[0].options[0])?c.textContent:void 0)||l("%select_prompt"),e.html("<option value=''>"+o+"</option>"),d=null!=(u=p.data("choices"))?u:[],s=0,a=d.length;s<a;s++)n=d[s],"object"==typeof n?(i=n.name,r=null!=(h=n.value)?h:i):(i=n,r=n),e.append("<option value='"+r+"'>"+GD.htmlSafe(i)+"</option>");if(e.val(e.data("value")),$.mobile)return e.selectmenu("refresh",!0)},GD.initCascadeSelector=function(e){var n,i,r,o,s,a;for(s=$(e).find("[data-role=cascade]"),a=[],i=0,r=s.length;i<r;i++)n=s[i],o=$(n).find("[data-role=level_1]"),t(o,$(n).find("[data-role=level_2]")),a.push(o.on("change",function(){var e;return e=$(this).parents("[data-role=cascade]").find("[data-role=level_2]"),e.data("value",null),t($(this),e)}));return a},$(document).on("ready page:load ajax:complete",function(){if(!($(".dashboard").length>0))return GD.initCascadeSelector(document)})})}.call(this),function(){var t,e,n,i,r,o,s,a,c,u,d,h,p,f,g,m,v,y,b,w,x,C,D,k,T;window.GD||(window.GD={}),T=$.support.xhrFormDataFileUpload,g=function(t,e,n){var i,r;return null==e&&(e=""),null==n&&(n=null),null!=(r=t.find("[data-role=cancel]").data("jqXHR"))&&r.abort(),t.removeClass("error"),i=t.find(".status"),i.removeClass("error"),i.find(".file-name").removeClass("error").text(e),i.find(".error").remove(),i.find(".file-name + .error").remove(),i.find(".file-size-status").show(),t.find(".progress-bar").css({width:"0%"}).show(),i.find(".file-size").text(n),i.show(),t.find(".select-area .preview").empty(),t.find("input[data-role=attachment_id]").val("")},v=function(t,e){return t.addClass("error"),t.find("input[data-role=attachment_id]").val(""),t.find(".status .progress .progress-bar").addClass("initial").text("0%").css("width","auto"),t.find(".status .file-size-status").hide(),t.find(".actions").show(),t.find(".status").addClass("error"),t.find(".status .file-name").addClass("error").after("<span class='error'>"+l("%bracket",{content:e})+"</span>")},s=function(e,n){var i,r,o,s,a,c,u,d,h,p,f,g;for(null==n&&(n=""),e.find(".attachment-select-trigger").hide(),a=e.data("api-code"),d=e.find("input:file"),p=d.data("max-size"),c=d.attr("accept"),r="*"!==c?_.map(c.split(","),function(t){return t.split(".").pop()}):[],_.isEmpty(r)||(o=r.join(l("%common_separator"))),g=e.find(".attachment"),u=0,h=g.length;u<h;u++)s=g[u],i=$(s),f=$("<input class='origin-file-input' type='file' name='entry["+a+"]' data-max-size='"+p+"' accept='"+c+"'>"),t(e,f),n&&f.after($("<div class='help-block inline-error'><i class='gd-icon-times-circle'></i>"+n+"</div>")),i.html(f).show(),_.isEmpty(r)||i.after($("<p class='text-muted accept-file-extensions-text'>"+l("%attachment_media_type_support")+" "+o+"</p>"));return e.closest("form").attr("enctype","multipart/form-data")},u=function(t){var e,n;if(t)return e=t.join("|"),n=RegExp(".*\\.("+e+")$","gi")},t=function(t,e){return e.off("change").on("change",function(e){var n,i,r,o,s;if(r=null!=(s=e.target)?s.files[0]:void 0)return n=$(this).data("extensions"),(null!=n?n.length:void 0)>0&&(o=u(n)),i=GD.validateFile(r,$(this).data("max-size"),o),a(t,i)})},a=function(t,e){var n,i;if(i=t.find(".attachment"),n=t.closest("form").find(".submit-field input.submit, .entry-show .actions [data-role='submit']"),GD.clearErrorMessageBelow(i),GD.enableBtn(n),!_.isEmpty(e))return GD.disableBtn(n),_.each(e,function(t){return GD.showErrorMessageBelow(i,t)})},p=function(t){return t.find(".progress-bar").css("width","0%"),t.siblings().size()>0?t.remove():(t.find("[data-role=attachment_id]").val(""),t.hide())},w=function(t){var e,n;return n=t.find(".attachment:visible").size(),e=t.find(".attachment-select-trigger"),e.toggle(n<e.data("max-file-quantity"))},x=function(t){var e,n,i;return n=t.find(".attachment:visible").size(),i=t.find(".uploaded").size(),e=t.closest("form").find(".submit-field input.submit, .entry-show .actions [data-role='submit']"),e.data("fileUploading",n-i),GD.updateSubmitBtn()},D=function(t,e,n){var i;if(e.find("input[data-role=attachment_id]").val(n.attachment_id),null!=n.image_url)return i="<a href='"+n.image_url_for_lightbox+"' rel='lightbox["+t.field+"]'>"+("<img src='"+n.image_url+"'></a>"),e.find(".preview-area .preview").html(i)},k=function(t,e){var n;return n=_.isArray(e)?e.join(l("%common_separator")):e,v(t,n)},C=function(t,e,n){var i;return i=e.context,$.ajax({type:"POST",url:"/p/qiniu_entry_callbacks",data:n,dataType:"json"}).done(function(e){return setTimeout(function(){return i.find(".progress-bar").css("width","100%").fadeOut(),x(t)},200),D(n,i,e)}).fail(function(t){var e;return e=$.parseJSON(t.responseText),k(i,e.errors)})},m=function(t,e){var n,i,r,o;return n=e.name.split("."),i=n[n.length-1].toLowerCase(),r=null!=(o=GD.attachmentIconPath[i])?o:GD.attachmentIconPath["default"],t.find(".preview-area .preview").html("<img src='"+r+"'>")},c=function(t){return setTimeout(function(){return t.find(".attachment-error-message").html("")},3e3)},y=function(t,e){var n,i,r;return r=t.find(".attachment.rechoosing"),n=t.find(".attachment").first(),1===t.find(".attachment:hidden").size()?e.context=n.show():r.size()>0?(e.context=r,r.removeClass("rechoosing")):(i=n.clone().show(),t.find(".attachments").append(i),e.context=i),e.context.removeClass("uploaded")},f=function(t){var e;return e=t.find("input:file"),e.prop("multiple",e.data("origin-multiple"))},h=function(t,e,n,i){var r;if(r=$(".jquery-file-upload-file-input").data("token-url"))return $.post(r,function(r){return b(e,r.token,n),e.context.find("[data-role=cancel]").data("jqXHR",e.submit()),w(t),i.success()},"json").fail(function(){return function(t){var n;return n=JSON.parse(t.responseText),v(e.context,n.errors.join(l("%common_separator"))),i.error()}}(this))},b=function(t,e,n){var i;return i=Date.parse(new Date)+"_"+_.random(0,1e3)+"_"+n,t.formData={accept:"text/plain; charset=utf-8",token:e,"x:field_api_code":t.context.closest(".field[data-api-code]").data("api-code"),"x:timestamp_with_random_number":i}},e=function(t,e){return e.field=t.data("api-code"),e.maxFileQuantity=t.find(".attachment-select-trigger").data("max-file-quantity"),e.availableFileQuantity=e.maxFileQuantity-t.find(".attachment:visible").size()},i=function(t){return t.on("click",".attachment a[data-role=cancel]",function(){var e;return p($(this).closest(".attachment")),w(t),null!=(e=$(this).data("jqXHR"))&&e.abort(),
x(t)})},o=function(t){return t.on("click",".attachment [data-role=rechoose]",function(){return t.find("input:file").prop("multiple",!1),$(this).closest(".attachment").addClass("rechoosing")})},r=function(t){return i(t),o(t),t.find(".attachment-select-trigger").on("dragleave",function(){return $(this).removeClass("drag-over")})},n=function(t,e){var n,i,r;return n=t.find(".attachment-error-message"),r=t.find(".attachment:visible").hasClass("rechoosing"),i=r||e.availableFileQuantity>0,i?n.empty():n.html(l("%max_file_quantity",{maxFileQuantity:e.maxFileQuantity})),i},d=function(t){var i,o;if("function"==typeof $("input:file").fileupload)return r(t),o=0,i=t.find(".attachment-select-trigger"),t.find(".jquery-file-upload-file-input").fileupload({dataType:"json",dropZone:i,paramName:"file",sequentialUploads:!0,url:"https://up.qbox.me/",dragover:function(){return i.addClass("drag-over")},drop:function(){return i.removeClass("drag-over")},add:function(r,s){var a,c,d,p;return e(t,s),!!n(t,s)&&(y(t,s),d=s.files[0],m(s.context,d),g(s.context,d.name,GD.numberToHumanSize(d.size)),a=$(this).data("extensions"),(null!=a?a.length:void 0)>0&&(p=u(a)),c=GD.validateFile(d,$(this).data("max-size"),p),c.length>0?(x(t),i.hide(),v(s.context,c.join(l("%common_separator")))):s.context.hasClass("preview")?void 0:(h(t,s,o,{success:function(){return o+=1},error:function(){return i.hide()}}),x(t)))},progress:function(t,e){var n,i;return n=parseInt(e.loaded/e.total*100,10),i=Math.min(n,99)+"%",e.context.find(".progress-bar").css("width",i)},fail:function(e,n){var i;return 401===(i=n.jqXHR.status)?v(n.context,l("%upload_failed_"+n.jqXHR.status)):400===n.jqXHR.status?s(t,l("%upload_failed_400")):(0!==n.jqXHR.status&&$.post("/qiniu_failures",{url:url(),status:n.jqXHR.status,message:n.jqXHR.responseText,file_name:n.files[0].name,authenticity_token:n.context.closest("form").find("[name=authenticity_token]").val(),user_agent:navigator.userAgent,comment:"window.FormData = "+T+", isMobile = "+!!GD.isMobile}),v(n.context,l("%upload_failed",{status:n.jqXHR.status})))},done:function(e,n){var i;return c(t),f(t),n.context.addClass("uploaded"),i=n.result,i?C(t,n,i):v(n.context,l("%upload_failed_401"))}})},GD.initializeFileUploads=function(t){var e,n,i,r,o;for(r=t.find(".field-attachment-field"),o=[],n=0,i=r.length;n<i;n++)e=r[n],T?o.push(d($(e))):o.push(s($(e)));return o},$(document).on("ready page:load ajax:complete",function(){return GD.initializeFileUploads($(document))}),$(document).on("mouseenter",".field-attachment-field .attachment:not(.error)",function(){return $(this).find(".web-actions").show()}),$(document).on("mouseleave",".field-attachment-field .attachment:not(.error)",function(){return $(this).find(".web-actions").hide()})}.call(this),function(){var t;t=function(t){var e,n;return n=$.trim(t.val()),e=t.attr("name").match(/\[(.+)\]$/)[1],[n,e]},$(document).on("click","[data-role='verification_sender'] a.send-token-link:not(.disabled):not(.preview)",function(){var e,n,i,r,o,s,a;if(a=$(this).data("url"))return GD.clearErrorMessageBelow($(this)),o=t($(this).closest("[data-role='verification_sender']").find(".mobile-input")),i=o[0],r=o[1],GD.isMobileNumber(i)?(s={mobile:i,field_api_code:r},e=$(this).closest("form").find("[name='authenticity_token']").val(),n={field_verification:s,authenticity_token:e,form_id:$(this).data("form-id")},new GD.SMSSender($(this),$(this).data("url")).send(n)):GD.showErrorMessageBelow($(this),l("%warn_wrong_mobile_number"))})}.call(this),function(){var t,e,n;n=function(e){var n;return n=e.find("select").data("display-values"),n?_(n).each(function(t,n){return e.find("[data-display-field-api-code="+n+"]").text(t)}):t(e)},t=function(t){return t.find(".display-field-content").text("")},e=function(t,e){var n;if((null!=(n=e.data.pagination)?n.more:void 0)&&t.$results[0].scrollHeight===t.$results.height())return t.results.hideMessages(),t.results.loadMore()},GD.initFormAssociation=function(t){var i;return i=t.find(".field.field-form-association"),i.on("change","select",function(){return n($(this).closest(".field.field-form-association"))}),i.on("select2:select","select",function(t){return $(this).data("display-values",t.params.data.display_values),$(this).trigger("change")}),i.on("select2:open","select",function(){var t;if(!$(this).data("loadMoreEnhancement"))return $(this).data("loadMoreEnhancement",!0),t=$(this).data("select2"),t.on("results:all",function(n){return e(t,n)}),t.on("results:append",function(n){return e(t,n)})})},$(document).on("ready page:load ajax:complete",function(){if(!($(".dashboard").length>0))return GD.initFormAssociation($("form"))})}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};window.GD||(window.GD={}),$(function(){var e,n,i;return i=function(t,e){var n,i,r,o,s,a;return null==e&&(e=!1),e&&null!=GD.cachedFieldValue[t]?GD.cachedFieldValue[t]:(i=$("#entry_"+t+":not(.logic-hidden)").filter(":visible").filter(":not([type=radio])"),o=$("[type=radio][name='entry["+t+"]']:not(.logic-hidden):checked").filter(":visible"),n=$("[type=checkbox][name='entry["+t+"][]']:checked").filter(":visible"),r=i.add(o).add(n),a=function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)s=r[t],n.push($(s).val());return n}(),e?GD.cachedFieldValue[t]=a:a)},n=function(){function t(t,e){this.apiCode=e,this.targets=[],this.element=t.find("#entry_"+this.apiCode),this.elementContainer=t.find(".field[data-api-code='"+this.apiCode+"']"),this.elementContainer.addClass("logic-trigger")}return t.prototype._informTargets=function(t,e){var n,i,r,o,s;for(e=null==e||e,r=this.targets,o=[],n=0,i=r.length;n<i;n++)s=r[n],o.push(s.set(this.apiCode,t,e));return o},t.prototype.run=function(t){return this.element.on("change",function(e){return function(n){if(e._informTargets(i(e.apiCode),t),!$(n.target).hasClass("with-other-choice"))return n.stopPropagation()}}(this)),this.elementContainer.on("change.formLogic",function(t){return function(){return t._informTargets(i(t.apiCode),!1)}}(this))},t}(),e=function(){function e(t,e,n,r){var o,s,a,l,c;for(this.apiCode=e,this.triggerConditions=n,this.mode=r,this.element=t.find("[name^='entry["+this.apiCode+"]']"),this.elementContainer=t.find(".field[data-api-code='"+this.apiCode+"']"),l=this.element,s=0,a=l.length;s<a;s++)o=l[s],$(o).data("disabled",$(o).prop("disabled"));for(c in this.triggerConditions)this.set(c,i(c,!0),!1)}return e.prototype._onElementContainerShowHide=function(){return this.elementContainer.trigger("change.formLogic"),GD.recalcFormHeight(),$(window).trigger("formContentShowHide")},e.prototype.set=function(e,n,i){var r,o,s,a,l;if(null==i&&(i=!0),l=null!=(s=this.elementContainer.data("triggered-by-mode-"+this.mode))?s:[],"show"===this.mode&&(o=!_.isEmpty(_.compact(n))&&_.intersection(n,this.triggerConditions[e]).length>0),"hide"===this.mode&&(o=!_.isEmpty(_.compact(n))&&0===_.intersection(n,this.triggerConditions[e]).length),o?t.call(l,e)<0&&l.push(e):l=_.without(l,e),this.elementContainer.data("triggered-by-mode-"+this.mode,l),r=this.elementContainer.hasClass("logic-hidden"),a=l.length>0,a&&r&&this._showTarget(i),!a&&!r)return this._hideTarget(i)},e.prototype._showTarget=function(t){return this.elementContainer.removeClass("logic-hidden"),this.elementContainer.slideDown(t?"fast":0,function(t){return function(){var e,n,i,r,o;for(t.elementContainer.trigger("shown.logic"),autosize(t.elementContainer.find("textarea")),o=t.element,i=0,r=o.length;i<r;i++)e=o[i],0===$(e).closest(".display-only").length&&$(e).prop("disabled",!1),n=$(e).data("goods-api-code")&&$(e).parent().hasClass("fixed-number"),n&&$(e).prop("disabled",!0);return t._onElementContainerShowHide()}}(this)),GD.updateMathJax()},e.prototype._hideTarget=function(t){return this.elementContainer.addClass("logic-hidden"),this.elementContainer.slideUp(t?"fast":0,function(t){return function(){var e,n,i,r;for(t.elementContainer.trigger("hidden.logic"),r=t.element,n=0,i=r.length;n<i;n++)e=r[n],$(e).prop("disabled",!0);return t._onElementContainerShowHide()}}(this))},e}(),GD.FormLogic=function(){function t(t,i){var r,o,s,a,l,c,u;null==i&&(i=$(document)),this.triggers={},this.targets={};for(s in t){a=t[s],this.triggers[s]={},this.targets[s]={};for(l in a){u=a[l],(r=this.targets[s])[l]||(r[l]=new e(i,l,u,s));for(c in u)(o=this.triggers[s])[c]||(o[c]=new n(i,c)),this.triggers[s][c].targets.push(this.targets[s][l])}}}return t.prototype.run=function(t){var e,n,i,r,o,s;r=this.triggers,o=[];for(i in r)s=r[i],o.push(function(){var i;i=[];for(e in s)n=s[e],i.push(n.run(t));return i}());return o},t}(),GD.initFormLogic=function(t,e){return null==e&&(e=$(document)),GD.cachedFieldValue={},new GD.FormLogic(t,e).run()}})}.call(this),function(){$(function(){var t,e,n;return t=function(){function t(t){var e,n,i,r,o;o=t.sku,this.fieldApiCode=t.fieldApiCode,this.goodsApiCode=t.goodsApiCode,null==o&&(o={}),this.specification=null!=(n=o.specification)?n:{},this.price=parseFloat(null!=(i=o.price)?i:t.price),e=null!=(r=o.inventory)?r:t.inventory,this.inventory=null!=e?parseInt(e):null}return t.prototype.priceDisplay=function(){return"<span class='currency'>&yen;</span>"+this.price.toFixed(2)},t.prototype.inventoryDisplay=function(t,e){return null==this.inventory?"":this.inventory>0?t+" "+this.inventory+" "+e:l("%sold_out")},t}(),e=function(){function e(t,e){this.$el=t,this.shoppingCart=e,this.initialPriceDisplay=this.$el.find(".price").html(),this.initialInventoryDisplay=this.$el.find(".inventory").html(),this.unit=this.$el.data("unit"),this.forbidChangeNumber=this.$el.find(".number-container").hasClass("fixed-number"),this.predefinedNumber=this.$el.find(".number-container").data("predefined-number"),this._initializeCurrentSpecification(),this._initializeGoodsSKUs(),this._bindOnDimensionChangeEvent(),this._bindOnIncreaseDecreaseClickEvent(),this._bindOnNumberChangeEvent(),this._bindShowHideEvent(),(this.$el.is(":visible")||this._mobileGoodsVisible())&&this._updateCurrentGoodsSKU(),this._updateDecreaseIncreaseBtn(this._currentNumber())}return e.prototype._addGoodsSKU=function(e,n,i,r,o){var s;return null==i&&(i=null),null==r&&(r=null),null==o&&(o=null),s=new t({fieldApiCode:e,goodsApiCode:n,sku:i,price:r,inventory:o}),this.goodsSKUs.push(s)},e.prototype._initializeGoodsSKUs=function(){var t,e,n,i,r,o,s,a,l;if(this.goodsSKUs=[],o=this.$el.find("input.number"),t=o.data("field-api-code"),e=o.data("goods-api-code"),l=this.$el.find(".dimensions").data("skus"),!_.isEmpty(l))for(n=0,r=l.length;n<r;n++)a=l[n],this._addGoodsSKU(t,e,a);if(0===this.goodsSKUs.length)return s=o.data("goods-price"),i=o.data("inventory"),this._addGoodsSKU(t,e,null,s,i),this._updateNumberInput(),this._updateDecreaseIncreaseBtn(0)},e.prototype._matchedGoodsSKU=function(){return _.find(this.goodsSKUs,function(t){return function(e){return _.isEqual(e.specification,t.currentSpecification)}}(this))},e.prototype._updateNumberInput=function(){var t,e;return e=this.$el.find("input.number[type=number]"),t=this._matchedGoodsSKU(),this.forbidChangeNumber?(0===this.$el.find("input.number[type=hidden]").length&&e.clone().attr("type","hidden").prop("disabled",!1).appendTo(this.$el.find(".number-container")),e.prop("disabled",!0)):e.prop("disabled",this.forbidChangeNumber||null==t||null!=t.inventory&&0===t.inventory)},e.prototype._updateDecreaseIncreaseBtn=function(t){var e,n,i;if(i=this._matchedGoodsSKU(),n=$(this.$el.find(".increase")),e=$(this.$el.find(".decrease")),n.toggleClass("disabled",this.forbidChangeNumber||null==i||null!=i.inventory&&i.inventory<=t),e.toggleClass("disabled",this.forbidChangeNumber||t<=0),GD.isLowVersionIE())return n.html(n.html()),e.html(e.html())},e.prototype._updatePriceAndInventoryDisplay=function(){var t;return t=this._matchedGoodsSKU(),null!=t?(this.$el.find(".price").html(t.priceDisplay()),this.$el.find(".inventory").html(t.inventoryDisplay(this.$el.data("inventory-label"),this.$el.data("unit")))):(this.$el.find(".price").html(this.initialPriceDisplay),this.$el.find(".inventory").html(this.initialInventoryDisplay))},e.prototype._changeDimensionInput=function(t,e,n){var i;return t.val(n).change(),e.find("label.selected").removeClass("selected"),i=e.find("input:radio:checked"),i.next("label").addClass("selected"),this.currentSpecification[i.data("dimension")]=i.val(),this._updatePriceAndInventoryDisplay(),this._updateNumberInput(),this._updateDecreaseIncreaseBtn(n)},e.prototype._bindOnDimensionChangeEvent=function(){var t;return t=this,this.$el.find(".dimension-options input:radio").change(function(){var e;return e=t.$el.find("input.number"),t._changeDimensionInput($(e),$(this).closest(".dimension-options"),0),t._changeDimensionInput($(e),$(this).closest(".dimension-options"),t.predefinedNumber)}),this.$el.find(".dimension-options label").click(function(){var e;return e=$(this).attr("for"),t.$el.find("#"+e).prop("checked",!0).trigger("change")})},e.prototype._bindOnIncreaseDecreaseClickEvent=function(){var t;return t=this,this.$el.find(".number-container a").click(function(e){var n,i,r;return!$(this).hasClass("disabled")&&(e.preventDefault(),i=t._matchedGoodsSKU(),null!=i&&(r=t._currentNumber(),n=$(this).is(".increase")?r+1:r-1,n>=0&&!(null!=i.inventory&&n>i.inventory))?t.$el.find("input.number").val(n).trigger("change"):void 0)})},e.prototype._bindOnNumberChangeEvent=function(){var t;return t=this,this.$el.find("input.number").on("keydown",function(t){if(!($.inArray(t.keyCode,[46,8,9,27,13])!==-1||t.keyCode>=35&&t.keyCode<=40))return(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)?t.preventDefault():void 0}),this.$el.find("input.number").change(function(){var e,n;return e=$(this).val(),e&&$.isNumeric(e)&&e>0?$(this).val(parseInt(e)):$(this).val(0),n=t._matchedGoodsSKU(),null!=n&&null!=n.inventory&&e>n.inventory&&$(this).val(n.inventory),t._updateDecreaseIncreaseBtn(e),t._addCurrentGoodsSKUsToShoppingCart()})},e.prototype._bindShowHideEvent=function(){return this.$el.on("shown.logic",function(t){return function(){return t._addCurrentGoodsSKUsToShoppingCart()}}(this)),this.$el.on("hidden.logic",function(t){return function(){return t._updateShoppingCart(0)}}(this))},e.prototype._addCurrentGoodsSKUsToShoppingCart=function(t){return null==t&&(t=!1),this._updateShoppingCart(this._currentNumber(),t)},e.prototype._updateShoppingCart=function(t,e){var n;if(n=this._matchedGoodsSKU(),null!=n)return this.shoppingCart.updateGoodsSKUNumber(n,t,this.unit,e),this.$el.toggleClass("active",t>0)},e.prototype._updateCurrentGoodsSKU=function(){return this._addCurrentGoodsSKUsToShoppingCart(!0),this._updatePriceAndInventoryDisplay(),this._updateNumberInput()},e.prototype._initializeCurrentSpecification=function(){var t,e,n,i,r;for(this.currentSpecification={},n=this.$el.find(".dimensions input:radio:checked"),i=[],t=0,e=n.length;t<e;t++)r=n[t],i.push(this.currentSpecification[$(r).data("dimension")]=$(r).val());return i},e.prototype._currentNumber=function(){return parseInt(this.$el.find("input.number").val())},e.prototype._mobileGoodsVisible=function(){return GD.isPhone&&this.$el.parents(".field [data-role=collapsible]").is(":visible")},e}(),n=function(){function t(){this.goodsList=[],this.eventHandlers={}}return t.prototype.on=function(t,e){return this.eventHandlers[t]=e},t.prototype.trigger=function(t){var e;if(e=this.eventHandlers[t],null!=e&&"function"==typeof e)return e(this)},t.prototype.updateGoodsSKUNumber=function(t,e,n,i){var r;if(null==i&&(i=!1),r=_.find(this.goodsList,function(e){return _.isEqual(e.goodsSKU,t)}),null!=r&&this.goodsList.splice(_.indexOf(this.goodsList,r),1),e>0&&this.goodsList.push({goodsSKU:t,number:e,unit:n}),!i)return this.trigger("change")},t.prototype.totalPrice=function(){var t,e,n,i,r;for(r=0,i=this.goodsList,e=0,n=i.length;e<n;e++)t=i[e],r+=t.goodsSKU.price*t.number;return r},t.prototype._findGoodsByFieldApiCode=function(t){return _.filter(this.goodsList,function(e){return e.goodsSKU.fieldApiCode===t})},t.prototype.clearOnField=function(t){var e,n,i,r;for(r=this._findGoodsByFieldApiCode(t),n=0,i=r.length;n<i;n++)e=r[n],this.goodsList.splice(this.goodsList.indexOf(e),1);return this.trigger("change")},t}(),GD.initGoods=function(t){var i,r,o,s,a,c,u,d,h;if(d=new n,r=function(e){var n;return n=$(t).find(".fields .field[data-api-code='"+e+"'] .field-label"),$.trim(n.clone().children().remove().end().text())},o=function(e){var n,i,r;return n=$(t).find(".field[data-api-code='"+e.fieldApiCode+"'] [data-goods-api-code='"+e.goodsApiCode+"']").parents("[data-role=goods]"),i=$.trim(n.find(".name").text()),r=n.find(".dimensions input:radio:checked").map(function(t,e){return $.trim($(e).next("label").text())}).get().join(l("%common_separator")),""===r?""+i:i+"\uff08"+r+"\uff09"},h=function(e,n){var i,s,a,c,u,d,h,p,f,g,m,v;if(null==n&&(n="update"),_.isEmpty(e.goodsList))$(t).find("#shopping_cart").empty();else{for(v=$("<div class='content'></div>"),m=e.goodsList,h=0,p=m.length;h<p;h++)c=m[h],d=c.goodsSKU,a=d.fieldApiCode,i=v.find(".cart-field[data-api-code='"+a+"']"),i.length>0?(s=i,u=s.find("ul")):(s=$("<div class='cart-field' data-api-code='"+a+"'></div>"),s.append("<div class='cart-field-label'>"+GD.htmlSafe(r(a))+"\uff1a</div> "),u=$("<ul></ul>"),s.append(u),v.append(s)),f=$("<li></li>"),f.append("<span class='goods-name'>"+GD.htmlSafe(o(d))+"</span>"),f.append("<span class='price-number'><span class='currency'>&yen;</span>"+d.price.toFixed(2)+"/"+c.unit+" &times; "+c.number+"</span>"),f.append("<span class='price-result'><span class='currency'>&yen;</span>"+(d.price*c.number).toFixed(2)+"</span>"),u.append(f);v.append("<div class='summary'>"+l("%total")+"<span class='total-price'><span class='currency'>&yen;</span>"+e.totalPrice().toFixed(2)+"</span></div>"),$(t).find("#shopping_cart").html(v)}return g=_.isEmpty(e.goodsList)&&$("[data-role=goods]").closest(".form-group").find(".field-label:visible").length>0,$(".submit-field.payment input.submit").data("no-goods-selected",g),"function"==typeof GD.updateSubmitBtn&&GD.updateSubmitBtn(),"function"==typeof GD.recalcFormHeight?GD.recalcFormHeight():void 0},$(t).find("[data-role=goods]").length>0){for(d.on("change",h),$(t).on("hidden.logic",".field[data-api-code]",function(){return d.clearOnField($(this).data("api-code"))}),$(t).on("shown.logic",".field[data-api-code]",function(){var t,e,n,i,r;for(i=$(this).find("[data-role=goods] input.number"),r=[],e=0,n=i.length;e<n;e++)t=i[e],$(t).val()>0?r.push($(t).trigger("change")):r.push(void 0);return r}),u=$(t).find("[data-role=goods]"),a=0,c=u.length;a<c;a++)s=u[a],new e($(s),d),i=$(s).parents(".field[data-api-code]:not(.logic-hidden)"),i&&$(i).trigger("shown.logic");return h(d,"init")}},$(document).on("ready page:load",function(){if(!($(".dashboard").length>0))return GD.initGoods(document)})})}.call(this),function(){window.GD||(window.GD={}),GD.initLikert=function(t){return $(t).on("click",".likert td",function(t){var e;if(!($("#form_design").length>0||$(t.target).is("input:radio")))return e=$(this).find("input:radio"),e.length>0?e.prop("checked",!0):void 0})},$(document).on("ready page:load",function(){if(!($(".dashboard").length>0))return GD.initLikert(document)})}.call(this),function(){var t,e;e=function(t,e){var n;return n=$(t).closest(".field").find("input.other-choice-input"),$(t).find(".other-choice-item").is(":selected")?(n.show(),n.removeClass("gd-hide"),e&&n.focus(),n.closest(".ui-input-text").show()):(n.hide(),n.addClass("gd-hide"),n.closest(".ui-input-text").hide())},t=function(t,e){return $(e).closest(".other-choice-area").find("input."+t)},GD.initialDropdownOtherChoice=function(t,n){return $(t).find(".field select.with-other-choice").each(function(){return e(this,n)})},$(document).on("ready page:load",function(){return GD.initialDropdownOtherChoice(document,!1),$(".entry form, #new_entry").on("submit",function(){return $(this).find("input.other_choice").each(function(){if(!$(this).is(":checked"))return t("other-choice-input",this).val("")}),$(this).find("option.other-choice-item").each(function(){if(!$(this).is(":selected"))return $(this).closest(".field").find("input.other-choice-input").val("")})})}),$(document).on("click",".other-choice-input",function(){var e;if(e=t("other_choice",this),!e.is(":checked")&&(e.click(),null!=e.checkboxradio))return $("input[type=radio], input[type=checkbox]").checkboxradio("refresh")}),$(document).on("click","input.other_choice",function(){if(null!=$(this).checkboxradio&&$(this).checkboxradio("refresh"),$(this).is(":checked"))return t("other-choice-input",this).focus()}),$(document).on("change","form .field select.with-other-choice",function(){return e($(this),!0)})}.call(this),function(){$(function(){var t,e,n,i,r,o;return r=!0,i=function(t,e,n,i){if($(t).find(".rating-group i").removeClass("hover"),""!==i)return $(t).find(".rating-group[data-field-id="+e+"] i:lt("+i+")").addClass("highlight"),$(t).find(".rating-group[data-field-id="+e+"] i:gt("+(i-1)+")").removeClass("highlight")},t=function(t){return $(t).off("click touchend",".rating-group i"),$(t).on("click touchend",".rating-group i",function(e){var n,o,s;return e.stopPropagation(),r=!1,n=$(this).parents(".rating-group").data("field-id"),o=$(this).parents(".rating-group").data("rating-type"),s=$(this).data("value"),$(t).find("#entry_"+n).val($(this).data("value")),i(t,n,o,s)})},e=function(t){return $(t).off("mouseenter touchstart",".rating-group i"),$(t).on("mouseenter touchstart",".rating-group i",function(e){var n,i,o;if(e.stopPropagation(),GD.isMobile&&(r=!0),r)return n=$(this).parents(".rating-group").data("field-id"),i=$(this).parents(".rating-group").data("rating-type"),o=$(this).data("value"),$(t).find(".rating-group[data-field-id="+n+"] i:lt("+o+")").removeClass("highlight").addClass("hover"),$(t).find(".rating-group[data-field-id="+n+"] i:gt("+(o-1)+")").removeClass("highlight hover")})},n=function(t){return $(t).off("mouseleave touchend",".rating-group"),$(t).on("mouseleave touchend",".rating-group",function(e){var n;return e.stopPropagation(),n=$(t).find("#entry_"+$(this).data("field-id")).val(),i(t,$(this).data("field-id"),$(this).data("rating-type"),n),r=!0})},o=function(t){var e,n,i,r,o,s;for(o=$(t).find(".rating-group"),s=[],n=0,i=o.length;n<i;n++)r=o[n],e=$(r).find("#entry_"+$(r).data("field-id")).val(),e?s.push($(r).find("i[data-value='"+e+"']").click()):s.push(void 0);return s},GD.initRating=function(i){return null==i&&(i=document),e(i),t(i),n(i),o(i)},$(document).on("ready page:load",function(){if(!($(".dashboard").length>0))return GD.initRating(document)})})}.call(this),function(){var t;window.GD||(window.GD={}),GD.SMSSender=function(){function t(t,e){this.$trigger=t,this.url=e}return t.prototype.send=function(t){if(this.url)return GD.disableBtn(this.$trigger),$.post(this.url,t,function(t){return function(e){return t.$trigger.parent().after(e),GD.countDown(t.$trigger,60)}}(this)).fail(function(t){return function(e){return GD.showErrorMessageBelow(t.$trigger,e.responseText),GD.enableBtn(t.$trigger)}}(this))},t}(),t=function(){function t(t,e,n){this.elContent=t,this.elSignature=e,this.elSubmit=n,this.SMS_CHAR_COUNT_THRESHOLD=500,this.rawContent="",this.totalCharCount=0,this.initContainerHtml(),this.initObserver()}return t.prototype.initContainerHtml=function(){return this.$countInfo=$('<div class="count-info"><span class="has-fields-1"></span>\u5df2\u8f93\u5165<span class="char-count"></span>\u4e2a\u5b57\uff08\u542b\u7b7e\u540d\uff09\uff0c<span class="has-fields-2"></span>\u6309<span class="sms-count"></span>\u6761\u8ba1\u8d39</div>').append(GD.helpDocumentQuestionMark("help_doc_sms_count_fields")),this.$countWarning=$("<div class='count-warning gd-hide'>\u8f93\u5165\u5b57\u7b26\u8d85\u8fc7"+this.SMS_CHAR_COUNT_THRESHOLD+"\u5b57\u53d1\u9001\u9650\u5236\uff0c\u8bf7\u5220\u51cf\u77ed\u4fe1\u5185\u5bb9</div>"),this.$statisticsContainer=$('<div class="sms-count-statistics"></div>').append(this.$countInfo).append(this.$countWarning),this.$charCount=this.$statisticsContainer.find(".char-count"),this.$smsCount=this.$statisticsContainer.find(".sms-count"),this.$hasFields1=this.$statisticsContainer.find(".has-fields-1"),this.$hasFields2=this.$statisticsContainer.find(".has-fields-2"),this.$statisticsContainer.hide().insertAfter(this.elContent)},t.prototype.initObserver=function(){return this.editor=CKEDITOR.instances[this.elContent.attr("id")],this.editor.on("instanceReady",function(){return this.dataProcessor.writer.setRules("p",{breakAfterClose:!1})}),this.editor.on("change",function(t){return function(e){return t.rawContent=e.editor.getData(),t.totalCharCount=t.stripedContentLength()+t.signatureContentLength(),t.toggleElements(),0===t.totalCharCount?t.$statisticsContainer.hide():t.totalCharCount<=t.SMS_CHAR_COUNT_THRESHOLD?(t.$charCount.text(t.totalCharCount),t.$smsCount.text(t.smsCount()),t.toggleFieldsInfo(),t.$statisticsContainer.show()):void 0}}(this))},t.prototype.signatureContentLength=function(){var t;return t=this.elSignature.val().trim()||"",t.length+2},t.prototype.stripedContentLength=function(){return GD.stringLengthWithoutHtmlTag(this.editor.getData())},t.prototype.fieldExists=function(){return this.rawContent.search(this.fieldsRegex())},t.prototype.fieldsRegex=function(){return/\$\([^)]*\)/g},t.prototype.smsCount=function(){return this.totalCharCount<70?1:Math.ceil(this.totalCharCount/67)},t.prototype.toggleElements=function(){return this.$countInfo.toggleClass("gd-hide",this.totalCharCount>this.SMS_CHAR_COUNT_THRESHOLD),this.$countWarning.toggleClass("gd-hide",this.totalCharCount<=this.SMS_CHAR_COUNT_THRESHOLD),this.toggleSubmitBtn()},t.prototype.toggleFieldsInfo=function(){return this.fieldExists()!==-1?(this.$hasFields1.text("\u9664\u8868\u5355\u5b57\u6bb5\uff0c"),this.$hasFields2.text("\u81f3\u5c11")):(this.$hasFields1.text(""),this.$hasFields2.text(""))},t.prototype.toggleSubmitBtn=function(){var t;return t=0===this.stripedContentLength()||this.totalCharCount>this.SMS_CHAR_COUNT_THRESHOLD,t?GD.disableElement(this.elSubmit):GD.enableElement(this.elSubmit)},t}(),GD.ObserveSmsCountStatistics=function(e,n,i){return new t($(e),$(n),$(i))}}.call(this),function(){window.GD||(window.GD={}),GD.FormPagination=function(){function t(t){this.options=null!=t?t:{},this.container=this.options.container,this.fieldsContainer=$(this.container.find(".fields")),this.currentPage=1,this.pageCount=1,this._init()}return t.prototype.onFormContentShowHide=function(){return this._updatePageDisplayedIndex(),this._render()},t.prototype._render=function(){var t;return this.fieldsContainer.find(".form-page").hide(),this._updatePageButton(),t=this.container.find(".field.submit-field"),this.container.find(".form-description").toggleClass("hide",this._hasPreviousPage()),t.find(".page-number").html(l("%page_number",{currentPage:this.currentPage,totalPage:this.pageCount})).toggleClass("hide",this._hasOnlyOnePage()),this.container.find(".field.submit-field .submit, #shopping_cart, .form-captcha-container").toggleClass("hide",this._hasNextPage()),t.toggleClass("has-pagination-action",!this._hasOnlyOnePage()),this.fieldsContainer.find(".form-page[data-page-index="+this.currentPage+"]").show().find(".logic-trigger").trigger("change"),GD.isMobile&&$(window).resize(),this._forceTriggerAppear()},t.prototype._updatePageButton=function(){var t,e,n,i;return n=this.container.find(".pagination-action.previous-page"),e=this.container.find(".pagination-action.next-page"),t=$(this.container.find(".field-page-break")[this.currentPage-1]),n.text(t.data("previous-page-text")),e.text(t.data("next-page-text")),i=!this._hasPreviousPage()||t.data("disable-previous-page")===!0,n.toggleClass("hide",i),e.toggleClass("hide",!this._hasNextPage())},t.prototype._goToPreviousPage=function(){if(this._hasPreviousPage())return this.currentPage--,this._render(),$(window).scrollTop(0),this._resetPaginationActionBtns()},t.prototype._goToNextPage=function(){var t;if(this._hasNextPage())return t=this.fieldsContainer.closest("form").data("validate-url"),t?this._validateCurrentPageOnClient()&&this._validateCurrentPage(t,function(t){return function(){return t._doGoToNextPage()}}(this),function(){return GD.scrollToFirstError()}):this._doGoToNextPage(),this._resetPaginationActionBtns()},t.prototype._doGoToNextPage=function(){return this.currentPage++,this._render(),$(window).scrollTop(0)},t.prototype._hasPreviousPage=function(){return this.currentPage>1},t.prototype._hasNextPage=function(){return this.currentPage<this.pageCount},t.prototype._hasOnlyOnePage=function(){return this.pageCount<=1},t.prototype._validateCurrentPage=function(t,e,n){var i,r;return r=this._getFieldsDataToValidate(),i=$("meta[name=csrf-token]").attr("content"),$.ajax(t,{type:"post",data:$.param(r),beforeSend:function(t){return t.setRequestHeader("X-CSRF-Token",i)},success:function(t){return function(){return t._clearFieldsErrorMessages(),e()}}(this),error:function(t){return function(e){var i;if(400===e.status)return i=$.parseJSON(e.responseText),t._showErrorMessages(i.errors),n()}}(this)})},t.prototype._validateCurrentPageOnClient=function(t,e){return null==t&&(t=null),null==e&&(e=null),GD.clientValidator.validate()},t.prototype._getFieldsDataToValidate=function(){var t,e,n,i,r;return e=$(this.fieldsContainer.find(".form-page[data-page-index="+this.currentPage+"]")).find("input, textarea, select"),r=_.reject(this.fieldsContainer.find(".logic-trigger"),function(t){return function(e){var n;return n=parseInt($(e).closest(".form-page").attr("data-page-index")),!n||n>=t.currentPage}}(this)),i=e.add("function"==typeof(t=$(r)).find?t.find("input, textarea, select"):void 0),n=i.serializeArray(),n=this._appendUncheckedInputsData(n,i)},t.prototype._appendUncheckedInputsData=function(t,e){return _.each(e,function(e){var n,i,r;if(i=_.pluck(t,"name"),r=$(e).attr("name"),($(e).is("input:radio:visible")||$(e).is("input:checkbox:visible"))&&!_.contains(i,r)&&(n=r.replace(/\[\]$/,""),!_.contains(i,n)))return t.push({name:n,value:""})}),t},t.prototype._showErrorMessages=function(t){return this._clearFieldsErrorMessages(),_.each(t,function(t){return function(e){var n,i;return n=e[0],i=e[1],t._addErrorMessageToField(n,i)}}(this))},t.prototype._clearFieldsErrorMessages=function(){var t;return t=this.fieldsContainer.find(".form-page[data-page-index="+this.currentPage+"] .field.has-error"),t.removeClass("has-error"),t.find("> .inline-error").remove(),t.find(".field_with_errors").children().unwrap()},t.prototype._addErrorMessageToField=function(t,e){var n,i,r;return n=t.match(/^field_\d+/),r=this.fieldsContainer.find("[data-api-code="+n+"]"),r.addClass("has-error"),this._wrapErrorInput(r,t,n),i=r.find("> .inline-error"),i.length>0?i.append(""+l("%common_separator")+e):r.append($("<div class='help-block inline-error'><i class='gd-icon-times-circle'></i> "+e+"</div>"))},t.prototype._wrapErrorInput=function(t,e,n){var i,r;return i=t.find("[name^='"+this._inputName(e,n)+"']"),r=".radio-button-wrapper, .check-box-wrapper, .dropdown-wrapper",i.parent().is(r)&&(i=i.parent(r)),i.wrap('<div class="field_with_errors"></div>')},t.prototype._inputName=function(t,e){var n,i,r,o,s;for(r="entry["+e+"]",o=t.replace(e,"").split("_"),n=0,i=o.length;n<i;n++)s=o[n],s&&(r+="["+s+"]");return r},t.prototype._wrapFieldsInPage=function(){return _.each(this.fieldsContainer.find(".field-page-break"),function(t,e,n){var i,r,o;return r=e+1===n.length,i=r?$(t).nextAll().addBack():$(t).nextUntil(".field-page-break",".field:not(.field-page-break)").addBack(),o=$("<div class='form-page'></div>"),i.wrapAll(o)}),this.container.find(".field.submit-field").addClass("has-form-pagination")},t.prototype._updatePageDisplayedIndex=function(){var t;return t=0,_.each(this.fieldsContainer.find(".form-page"),function(e){return $(e).find(".field:not(.logic-hidden):not(.field-page-break)").length>0?(t++,$(e).attr("data-page-index",t)):$(e).removeAttr("data-page-index")}),this.pageCount=t},t.prototype._goToFirstErrorPage=function(){var t;if(t=this.fieldsContainer.find(".field.has-error"),t.length>0)return this.currentPage=$(t[0]).closest(".form-page").attr("data-page-index")||1},t.prototype._init=function(){return this._wrapFieldsInPage(),this._updatePageDisplayedIndex(),this._goToFirstErrorPage(),this._bindEvents(),this._initCountdown(),this._render(),this._checkCurrentPageCountDown()},t.prototype._forceTriggerAppear=function(){if($.force_appear)return setTimeout($.force_appear,0)},t.prototype._checkCurrentPageCountDown=function(){var t,e,n,i;return t=$(".form-page:visible"),e=t.find("[data-count-down]"),i=parseInt(e.attr("data-count-down"),10),n=$(".pagination-action.next-page"),n.toggleClass("disabled",!!i)},t.prototype._initCountdown=function(){if($(".fields [data-count-down]").length)return $(".field.submit-field").appear().on("appear",function(t){return function(){
var e,n,i,r,o,s;if(e=$(".form-page:visible"),n=e.find(".field-page-break"),r=parseInt(n.attr("data-count-down"),10))return o=e.is(":last-of-type"),i=$(".pagination-action.next-page"),t.countDownRollback=function(){if(!n.hasClass("count-down-done"))return n.attr("data-count-down",r)},r&&!o?(n.removeAttr("data-count-down"),s=i.text(),t.clearCountdown=GD.countDownWithUndo(i,r,l("%second"),function(){return n.addClass("count-down-done")})):void 0}}(this)),this._forceTriggerAppear()},t.prototype._bindEvents=function(){return this.container.on("click",".pagination-action.previous-page:not(.working)",function(t){return function(){return t._goToPreviousPage(),"function"==typeof t.clearCountdown&&t.clearCountdown(),"function"==typeof t.countDownRollback?t.countDownRollback():void 0}}(this)),this.container.on("click",".pagination-action.next-page:not(.working, .disabled)",function(t){return function(){return t._goToNextPage(),t._checkCurrentPageCountDown()}}(this))},t.prototype._resetPaginationActionBtns=function(){return this.container.find(".pagination-action.working").removeClass("working")},t}(),GD.initFormPagination=function(t){return null==t&&(t=null),t||(t=$("body")),$(t).find(".fields .field-page-break").length>0?0===$(t).find(".form-page").length?GD.formPagination=new GD.FormPagination({container:t}):void 0:GD.formPagination=null},$(window).on("formContentShowHide",function(){if(GD.formPagination)return GD.formPagination.onFormContentShowHide()})}.call(this),function(){}.call(this),function(){var t,e;window.GD||(window.GD={}),t=["protocol","hostname","port","path","query"],GD.isLowVersionIE=function(){return"ie"===Detectizr.browser.name&&parseInt(Detectizr.browser.version,10)<10},e=function(e){return _.all(t,function(t){return url(t)===url(t,e)})},$(document).on("click",".form-description a, .field-description a, .success-content message a, .success-rich-text a, .search-results .search-notice a, .search-results .no-search-results-notice a",function(t){var n,i,r;if(n=$(this),!e(n.attr("href")))return t.preventDefault(),i=encodeURIComponent(n.attr("href")),r=GD.appUrl+"/safe_jump/new?url="+i,"_blank"===n.attr("target")?window.open(r):location.href=r})}.call(this),function(){window.GD||(window.GD={}),GD.ShareIt=function(){function t(){}return t.prototype.setEntry=function(t){return this.title=encodeURIComponent(t.title||document.title),this.url=encodeURIComponent((t.url||document.location).replace("https://","http://")),this.pic=encodeURIComponent(t.pic||""),this.description=encodeURIComponent(t.description||"")},t.prototype.weibo=function(){var t,e,n;return t=1843447738,e="http://v.t.sina.com.cn/share/share.php?appkey="+t+"&title="+this.title+"&url="+this.url+"&pic="+this.pic,n="width=700,height=480, top="+(screen.height-430)/2+", left="+(screen.width-440)/2+", toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=1, status=no",window.open(e,"\u5206\u4eab\u5230\u5fae\u535a",n)},t.prototype.qzone=function(){var t,e,n;return t=this.title+" - "+this.description,e="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title="+t+"&url="+this.url,n="width=700, height=600, top="+(screen.height-700)/2+", left="+(screen.width-600)/2+", toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no",window.open(e,"\u5206\u4eab\u5230QZONE",n)},t.prototype.mingdao=function(){var t,e,n;return t="76AE474AF1B8DC75A387FEC4EECF4CAB",e="http://www.mingdao.com/share?title="+this.title+"&url="+this.url+"&pic="+this.pic+"&appkey="+t,n="width=700, height=600, top="+(screen.height-700)/2+", left="+(screen.width-600)/2+", toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no",window.open(e,"\u5206\u4eab\u5230\u660e\u9053",n)},t}(),window.shareIt=new GD.ShareIt}.call(this),function(){window.GD||(window.GD={}),GD.initWxjs=function(t){return wx.config({debug:!1,appId:t.appid,timestamp:t.timestamp,nonceStr:t.noncestr,signature:t.signature,jsApiList:["checkJsApi","scanQRCode","onMenuShareTimeline","onMenuShareAppMessage","hideOptionMenu","chooseWXPay"]}),wx.ready(function(){var e,n,i,r,o,s;return $(".wxpay-loading-container").remove(),n=$("#form_share_info"),e=null,$("#form_thumbnail_selected").length>0&&(e=$("#form_thumbnail_selected img")),e||$("img").each(function(){var t;if(t=$(this),!e&&(t.width()>=300&&t.height()>=300||t.parents("#form_thumbnail_default").length>0))return e=t}),r=e?e[0].src:"",s=n.data("form-name"),o=n.data("form-url"),i=n.data("hide-option-menu"),i?wx.hideOptionMenu():(wx.onMenuShareTimeline({title:s,link:o,imgUrl:r}),wx.onMenuShareAppMessage({title:s,desc:$.trim(n.text()).substring(0,100),link:o,imgUrl:r})),"function"==typeof t.onReady?t.onReady():void 0})}}.call(this),function(){GD.Field=function(){function t(t){this.field=t,this.apiCode=this.field.data("api-code"),this.label=$.trim(this.field.data("label")),this.type=$.trim(this.field.data("type")),this.validations=this.buildValidations(),this.EmailField_REGEXP=GD.REGEXP.email,this.LinkField_REGEXP=GD.REGEXP.link,this.MobileField_REGEXP=GD.REGEXP.mobile}return t.prototype.buildValidations=function(){var t;return t=_.filter(this.field.data("validations"),function(t){return GD[t+"Validation"]}),_.map(t,function(t){return function(e){return new GD[e+"Validation"](t,t.field)}}(this))},t.prototype.validate=function(){var t,e,n,i;for(this.field.removeClass("need-validate"),this.field.removeClass("editing"),n=this.validations,t=0,e=n.length;t<e&&(i=n[t],i.validate());t++);return this.isValid()},t.prototype.isValid=function(){return _.every(this.validations,function(t){return t.isValid()})},t.prototype.isPresence=function(){return this.isPresenceOn(this.fieldName())},t.prototype.isOtherChoicePresence=function(){return this.isOtherChoicePresenceOn(this.fieldName())},t.prototype.isVerificationTokenPresence=function(){return this.isVerificationTokenPresenceOn()},t.prototype.isFormatValid=function(){var t;return t=this.type+"_REGEXP",!this.isPresence()||!this[t]||this[t].test(this.value())},t.prototype.valueLength=function(){var t;return null!=(t=GD.formData[this.fieldName()])?t.length:void 0},t.prototype.isPresenceOn=function(t){return GD.formData[t]&&0!==GD.formData[t].length},t.prototype.isVerificationTokenPresenceOn=function(){var t;return 0!==(null!=(t=GD.formData["entry["+this.apiCode+"_verification_token]"])?t.length:void 0)},t.prototype.isOtherChoicePresenceOn=function(t){var e,n;return n=_.isArray(GD.formData[t])?GD.formData[t]:[GD.formData[t]],e=this.is("DropDown")?this.field.find("option.other-choice-item").val():this.field.find("input.other_choice").val(),!_.contains(n,e)||0!==GD.formData["entry["+this.apiCode+"_other]"].length},t.prototype.isAllPresenceOf=function(t){return _.every(t,function(t){return function(e){return t.isPresenceOn("entry["+t.apiCode+"]["+e+"]")}}(this))},t.prototype.isAllNotPresenceOf=function(t){return _.every(t,function(t){return function(e){return!t.isPresenceOn("entry["+t.apiCode+"]["+e+"]")}}(this))},t.prototype.is=function(t){return this.field.data("type")===t},t.prototype.isNumberOf=function(t){return 0===t.length||GD.isNumber(t)},t.prototype.isNumber=function(){return this.isNumberOf(this.value())},t.prototype.value=function(){return GD.formData[this.fieldName()]},t.prototype.fieldName=function(){return this.is("ImageCheckBox")||this.is("CheckBox")||this.is("AttachmentField")?"entry["+this.apiCode+"][]":"entry["+this.apiCode+"]"},t}()}.call(this),function(){GD.Validation=function(){function t(t,e){this.field=t,this.fieldDom=e}return t.prototype.resetInvalidValue=function(){},t.prototype.validate=function(){var t;return this.clearError(),t=this.isValid(),t||this.showError(),t},t.prototype.showError=function(){return this.wrapFieldWithValidationError(),this.appendErrorMessage()},t.prototype.wrapFieldWithValidationError=function(){var t,e;if(this.fieldDom.addClass("has-error"),this.needWrapWithErrorClass())return t=this.fieldDom.find(".field-content"),e=$("<div class='field_with_errors'></div>").append(t.children()),t.append(e)},t.prototype.appendErrorMessage=function(){var t,e,n;return t=(null!=(n=this.fieldDom.data("customized-validation-message"))?n.toString():void 0)||"",e=_.isEmpty(t)?this.errorMessage():t,this.fieldDom.append($("<div class='help-block inline-error'><i class='gd-icon-times-circle'></i> "+GD.htmlSafe(e)+"</div>"))},t.prototype.needWrapWithErrorClass=function(){return this.field.is("TextField")||this.field.is("AddressField")||this.field.is("NumberField")},t.prototype.clearError=function(){var t;if(this.fieldDom.hasClass("has-error"))return this.fieldDom.removeClass("has-error"),this.needWrapWithErrorClass()&&(t=this.fieldDom.find(".field_with_errors"),this.fieldDom.find(".field-content").append(t.children()),t.remove()),this.fieldDom.find(".inline-error").remove()},t}()}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.RangeValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isBetween=function(t,e,n){return e&&n?e<=t&&t<=n:e?e<=t:!n||t<=n},n.prototype.isValid=function(){return!this.field.isPresence()||this.isInValidRange()},n.prototype.isInValidRange=function(){return!0},n.prototype.errorMessage=function(){return this.field.label+(this.fieldDom.data("range-hint")||this.fieldDom.data("length-hint"))},n}(GD.Validation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.DateRangeValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isInValidRange=function(){var t,e,n,i,r;return r=this.fieldDom.find(".field-content input").attr("min"),n=this.fieldDom.find(".field-content input").attr("max"),i=r?new Date(r):null,e=n?new Date(n):null,t=new Date(this.field.value()),this.isBetween(t,i,e)},n}(GD.RangeValidation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.FormatValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isValid=function(){return this.field.isFormatValid()},n.prototype.errorMessage=function(){return"EmailField"===this.field.type?l("%email_format_error"):this.field.label+l("%format_error")},n}(GD.Validation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.LengthValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isInValidRange=function(){return this.minimumLength=this.fieldDom.data("minimum-length"),this.maximumLength=this.fieldDom.data("maximum-length"),this.isBetween(this.field.valueLength(),this.minimumLength,this.maximumLength)},n}(GD.RangeValidation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.NumberRangeValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isInValidRange=function(){var t,e,n;return this.rangeMin=this.fieldDom.data("range-min"),this.rangeMax=this.fieldDom.data("range-max"),n=parseFloat(this.field.value()),e=parseFloat(this.rangeMin),t=parseFloat(this.rangeMax),this.isBetween(n,e,t)},n}(GD.RangeValidation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.NumericValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isValid=function(){return this.field.isNumber()},n.prototype.errorMessage=function(){return this.field.label+l("%format_error")},n.prototype.validate=function(){return n.__super__.validate.call(this),this.resetInvalidValue()},n.prototype.resetInvalidValue=function(){var t;return t=this.fieldDom.find(".field-content input[type=number]"),_.each(t,function(t){var e;if(e=$(t),!e.val().length)return e.val("")})},n}(GD.Validation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.OtherChoicePresenceValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isValid=function(){return this.field.isOtherChoicePresence()},n.prototype.errorMessage=function(){return l("%presence_error",{label:this.fieldDom.find("input.other-choice-input").data("label")})},n}(GD.Validation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.PresenceValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isValid=function(){return this.field.isPresence()},n.prototype.errorMessage=function(){return l("%presence_error",{label:this.field.label})},n}(GD.Validation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.VerificationTokenPresenceValidation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isValid=function(){return this.field.isVerificationTokenPresence()},n.prototype.errorMessage=function(){return l("%mobile_verification_error",{label:this.field.label})},n}(GD.Validation)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.AddressField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPresence=function(){var t;return t=this.field.find("[data-role='address']").data("address-items"),this.isAllPresenceOf(t)},n.prototype.withStreet=function(){return 0!==this.field.find("[name *='street']:visible").length},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.CascadeDropDown=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPresence=function(){return this.isAllPresenceOf(["level_1","level_2"])},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.CheckBox=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.valueLength=function(){var t;return t=GD.formData[this.fieldName()],$.isArray(t)?t.length:"string"==typeof t?1:void 0},n}(GD.Field),GD.ImageCheckBox=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(GD.CheckBox)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.GeoField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPresence=function(){return this.isAllPresenceOf(["latitude","longitude","address"])},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.BasicGoodsField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPresence=function(){var t,e;return t=this.field.find(".goods-items .goods-item").length,_.some(function(){e=[];for(var n=0;0<=t?n<t:n>t;0<=t?n++:n--)e.push(n);return e}.apply(this),function(t){return function(e){var n;return n="entry["+t.apiCode+"]["+e+"][number]",GD.formData[n]&&"0"!==GD.formData[n]}}(this))},n}(GD.Field),GD.GoodsField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(GD.BasicGoodsField)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.LikertField=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPresence=function(){var t;return t=this.field.find(".likert").data("statement-api-codes"),_.every(t,function(t){return function(e){return t.isPresenceOn("entry["+t.apiCode+"]["+e+"]")}}(this))},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.MatrixField=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.statementApiCodes=this.field.find(".matrix").data("statement-api-codes"),this.dimensionApiCodes=this.field.find(".matrix").data("dimension-api-codes")}return t(n,e),n.prototype.isPresence=function(){return _.every(this.statementApiCodes,function(t){return function(e){return _.every(t.dimensionApiCodes,function(n){return t.isPresenceOn("entry["+t.apiCode+"]["+e+"]["+n+"]")})}}(this))},n.prototype.isNumber=function(){return _.every(this.statementApiCodes,function(t){return function(e){return _.every(t.dimensionApiCodes,function(n){return t.isNumberOf(GD.formData["entry["+t.apiCode+"]["+e+"]["+n+"]"])})}}(this))},n}(GD.Field)}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;GD.TimeField=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.isIncludeSecond=this.field.find(".time-selects").data("include-second")}return t(n,e),n.prototype.isPresence=function(){return this.isIncludeSecond?this.isAllPresenceOf(["hour","minute","second"]):this.isAllPresenceOf(["hour","minute"])},n.prototype.isFormatValid=function(){var t;return t=this.isIncludeSecond?["hour","minute","second"]:["hour","minute"],this.isAllNotPresenceOf(t)||this.isAllPresenceOf(t)},n}(GD.Field)}.call(this),function(){GD.FormClientValidator=function(){function t(t){this.form=t,this.fields=this.findOrBuildFields()}return t.prototype.validate=function(){var t;return this.fields=this.findOrBuildFields(),this.refreshFormData(),_.each(this.fields,function(t){return t.validate()}),t=_.every(this.fields,function(t){return t.isValid()}),t||this.highlightFirstErrorField(),t},t.prototype.run=function(){return this.form.on("focus, click",".fields .field input, .fields .field select, .fields .field textarea",function(t){return function(e){return t.markCurrentFieldEditingAndNeedValidate(e)}}(this)),this.form.on("click",".fields .field-likert-field .likert table tr td",function(t){return function(e){return t.markCurrentFieldEditingAndNeedValidate(e)}}(this)),this.form.on("change",".fields .goods-item input",function(t){return function(e){return t.markCurrentFieldEditingAndNeedValidate(e)}}(this)),$(document).on("click",function(t){return function(e){return t.validateNeedValidateFields(e)}}(this)),$(document).on("click",".fields .field-rating-field .rating-icon",function(t){return function(e){return t.validateNeedValidateFields(e)}}(this))},t.prototype.markCurrentFieldEditingAndNeedValidate=function(t){var e;if(e=$(t.target).closest(".field"),e.hasClass("need-validate")||e.addClass("need-validate"),!e.hasClass("editing"))return e.addClass("editing")},t.prototype.validateNeedValidateFields=function(t){var e,n;if(e=this.getNeedValidateFeilds(t),0!==e.length)return this.refreshFormData(),n=_.map(e,function(t){return function(e){return t.findOrBuildField($(e))}}(this)),_.each(n,function(t){return t.validate()})},t.prototype.getNeedValidateFeilds=function(t){var e,n,i,r;return e=$(t.target).parents(".field.editing"),r="need-validate",i=[],0!==e.length?(n=e.data("api-code"),i=this.form.find(".fields .field."+r+":visible[data-api-code!='"+n+"']")):i=this.form.find(".fields .field."+r+":visible")},t.prototype.findOrBuildFields=function(){return _.map(this.form.find(".fields .field:visible"),function(t){return function(e){return t.findOrBuildField($(e))}}(this))},t.prototype.refreshFormData=function(){return GD.formData=this.form.serializeObject()},t.prototype.findOrBuildField=function(t){var e;return e=_.find(this.fields||[],function(e){return e.apiCode===t.data("api-code")}),e?e:GD[t.data("type")]?new(GD[t.data("type")])(t):new GD.Field(t)},t.prototype.highlightFirstErrorField=function(){var t;if(t=$(this.form.find(".field:visible.has-error")[0]),t.length>0)return $("html, body").animate({scrollTop:t.offset().top})},t}()}.call(this),function(){var t,e,n;GD.fetchWeixinOauthData=function(){var t,e,n;if(e=$("#new_entry input[type=submit]"),0!==e.length&&e.data("weixin-oauth-url"))return e.data("weixin-openid-fetching",!0),GD.updateSubmitBtn(),t=0,n=null,GD.pollingDataFromServer(500,10,e.data("weixin-oauth-url"),function(t,n){var i,r;return t.errmsg?(clearInterval(n),alert("\u5fae\u4fe1\u4fe1\u606f\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6253\u5f00\u8868\u5355\uff1a"+t.errmsg)):t.openid?(clearInterval(n),$("#new_entry .form-content").append("<input type='hidden' name='x_field_weixin_openid' value='"+t.openid+"'>"),$("#new_entry .form-content").append("<input type='hidden' name='weixin_access_token' value='"+t.access_token+"'>"),i=e.data("fetch-weixin-info-url"),i?(r=i+"?access_token="+t.access_token+"&weixin_openid="+t.openid,$.get(r).success(function(){return function(t){return $("#new_entry .form-content").append("<input type='hidden' name='weixin_info' value='"+JSON.stringify(t)+"'>")}}(this)).always(function(){return function(){return e.removeData("weixin-openid-fetching"),GD.updateSubmitBtn()}}(this))):(e.removeData("weixin-openid-fetching"),GD.updateSubmitBtn())):void 0},function(){return alert("\u5fae\u4fe1\u4fe1\u606f\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6253\u5f00\u8868\u5355")})},n=function(){var t,e,n,i;if($(".phone-device").length>0){if(t=$("form .fields, .success-box"),t.css({minHeight:""}),i=$(window).height(),e=$("body").height(),i<=e||window!==window.parent)return;return n=i-e+t.outerHeight(),t.css({minHeight:n})}},GD.scrollToFirstError=function(){var t;if(t=$("#new_entry").find(".inline-error"),t.length)return $(window).scrollTop($(t.first()).parent().offset().top)},$(document).on("click",".user-info .logout-link",function(t){return t.preventDefault(),$.ajax({url:$(this).attr("href"),type:"delete",complete:function(t){if(200===t.status)return window.location.reload()}})}),$(document).on("click","[data-role=collapse_toggle]",function(){var t,e;return t=$(this).closest("[data-role=collapsible]"),e=$(this).offset().top-$(window).scrollTop(),t.toggleClass("collapsed"),t.hasClass("collapsed")&&$(this).hasClass("collapse-bottom")&&$(window).scrollTop(t.offset().top-e),GD.recalcFormHeight()}),$(document).on("click","[data-role=spec_toggle]",function(){return $(this).toggleClass("collapsed")}),t=function(t){var e,n,i,r,o,s;for(s=0,o=t.find("input[type=number].number"),e=0,n=o.length;e<n;e++)i=o[e],s+=parseInt($(i).val());return s>0?(t.closest(".field").addClass("selected"),r=s>99?"\u22ef":s,t.find(".badge").length>0?t.find(".badge").text(r):t.append("<div class='badge'>"+r+"</div>")):(t.closest(".field").removeClass("selected"),t.find(".badge").remove())},$(document).on("change",".field [data-role=collapsible] input.number",function(){if(GD.isPhone)return t($(this).closest("[data-role=collapsible]"))}),e=function(t){var e,n;if(n=function(){var n,i,r,o;for(r=t.find("input:checked").next("label"),o=[],n=0,i=r.length;n<i;n++)e=r[n],o.push($(e).text());return o}(),n.length>0)return t.prev("[data-role=spec_toggle]").find("span").text(n.join(l("%common_separator")))},$(document).on("change",".field .dimensions input:radio",function(){return e($(this).closest(".dimensions"))}),$(document).on("change",".choices.image-choices input",function(){return $(this).closest(".image-choices").children(".radio.active").removeClass("active"),$(this).closest(".radio, .checkbox").toggleClass("active")}),$(document).on("page:load ready",function(){var i,r,o,s,a,l,c,u,d;for("function"==typeof(i=$("input, textarea")).placeholder&&i.placeholder(),u=["#login_modal","#submission_password_modal"],o=0,a=u.length;o<a;o++)c=u[o],$(c).length>0&&$(c).modal("show");if($("form#new_entry input").on("keypress",function(t){if(13===t.keyCode)return t.preventDefault()}),autosize($(".field-content textarea:visible")),"function"==typeof GD.initWeixinLogin&&GD.initWeixinLogin($(".social-account.account-weixin")),GD.isPhone)for($(".banner-img img").load(function(){return n()}),d=$(".field [data-role=collapsible]"),s=0,l=d.length;s<l;s++)r=d[s],t($(r)),e($(r).find(".collapsible"));return n(),$(window).off("resize.gd.pub_form").on("resize.gd.pub_form",n),GD.visualCaptcha(GD.locale,function(){return GD.clearErrorMessageBelow($("#new_entry .form-content #captcha_container"))}),$("#new_entry").on("submit",function(){if(GD.clearErrorMessageBelow($("#new_entry .form-content #captcha_container")),!($("#captcha_container").length<=0))return $("#captcha_container").find(".visualCaptcha-action-area.success").length?void 0:(GD.showErrorMessageBelow($("#new_entry .form-content #captcha_container"),"\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u9a8c\u8bc1\u7801"),event.stopPropagation(),event.preventDefault())}),GD.scrollToFirstError()}),$(window).on("customLoad",n),$(function(){var t;if($(".mobile-device").length>0&&!GD.isAndroidDevice()&&FastClick.attach(document.body),$(".entry-container-inner > .qrcode-box").length>0&&(t=$(".entry-container-inner > form"),$(".entry-container-inner > .qrcode-box").css({top:t.offset().top,marginLeft:t.width()/2+30})),$(".field.field-form-association .field-label").attr("for",""),/^\/f\/\w{6}$/.test(location.pathname)){if($(".field_with_errors").length>0)return;if($.removeCookie("formSubmitSuccess",{path:location.pathname}))return window.location.reload(!0)}})}.call(this),function(){$(document).on("click",".success-social-sharing .share-weixin",function(){return $(".weixin-share-guide").length>0?$(".weixin-share-guide").show():$("#weixin_qrcode_share_modal").length>0?$("#weixin_qrcode_share_modal").modal("show"):void 0}),window.onpopstate=function(t){var e;if(null!=(e=t.state)?e.paymentConfirm:void 0)return window.location.url=t.state.url}}.call(this),!pv)var pv={map:function(t,e){var n={};return e?t.map(function(t,i){return n.index=i,e.call(n,t)}):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var n={};return t.reduce(e?function(t,i,r){return n.index=r,t+e.call(n,i)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?pv.map(t,e):t)}};var MMCQ=function(){function t(t,e,n){return(t<<2*l)+(e<<l)+n}function e(t){function e(){n.sort(t),i=!0}var n=[],i=!1;return{push:function(t){n.push(t),i=!1},peek:function(t){return i||e(),void 0===t&&(t=n.length-1),n[t]},pop:function(){return i||e(),n.pop()},size:function(){return n.length},map:function(t){return n.map(t)},debug:function(){return i||e(),n}}}function n(t,e,n,i,r,o,s){var a=this;a.r1=t,a.r2=e,a.g1=n,a.g2=i,a.b1=r,a.b2=o,a.histo=s}function i(){this.vboxes=new e(function(t,e){return pv.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function r(e){var n,i,r,o,s=1<<3*l,a=new Array(s);return e.forEach(function(e){i=e[0]>>c,r=e[1]>>c,o=e[2]>>c,n=t(i,r,o),a[n]=(a[n]||0)+1}),a}function o(t,e){var i,r,o,s=1e6,a=0,l=1e6,u=0,d=1e6,h=0;return t.forEach(function(t){i=t[0]>>c,r=t[1]>>c,o=t[2]>>c,i<s?s=i:i>a&&(a=i),r<l?l=r:r>u&&(u=r),o<d?d=o:o>h&&(h=o)}),new n(s,a,l,u,d,h,e)}function s(e,n){function i(t){var e,i,r,o,s,a=t+"1",c=t+"2",u=0;for(l=n[a];l<=n[c];l++)if(f[l]>p/2){for(r=n.copy(),o=n.copy(),e=l-n[a],i=n[c]-l,s=e<=i?Math.min(n[c]-1,~~(l+i/2)):Math.max(n[a],~~(l-1-e/2));!f[s];)s++;for(u=g[s];!u&&f[s-1];)u=g[--s];return r[c]=s,o[a]=r[c]+1,[r,o]}}if(n.count()){var r=n.r2-n.r1+1,o=n.g2-n.g1+1,s=n.b2-n.b1+1,a=pv.max([r,o,s]);if(1==n.count())return[n.copy()];var l,c,u,d,h,p=0,f=[],g=[];if(a==r)for(l=n.r1;l<=n.r2;l++){for(d=0,c=n.g1;c<=n.g2;c++)for(u=n.b1;u<=n.b2;u++)h=t(l,c,u),d+=e[h]||0;p+=d,f[l]=p}else if(a==o)for(l=n.g1;l<=n.g2;l++){for(d=0,c=n.r1;c<=n.r2;c++)for(u=n.b1;u<=n.b2;u++)h=t(c,l,u),d+=e[h]||0;p+=d,f[l]=p}else for(l=n.b1;l<=n.b2;l++){for(d=0,c=n.r1;c<=n.r2;c++)for(u=n.g1;u<=n.g2;u++)h=t(c,u,l),d+=e[h]||0;p+=d,f[l]=p}return f.forEach(function(t,e){g[e]=p-t}),i(a==r?"r":a==o?"g":"b")}}function a(t,n){function a(t,e){for(var n,i=1,r=0;r<u;)if(n=t.pop(),n.count()){var o=s(l,n),a=o[0],c=o[1];if(!a)return;if(t.push(a),c&&(t.push(c),i++),i>=e)return;if(r++>u)return}else t.push(n),r++}if(!t.length||n<2||n>256)return!1;var l=r(t),c=0;l.forEach(function(){c++});var h=o(t,l),p=new e(function(t,e){return pv.naturalOrder(t.count(),e.count())});p.push(h),a(p,d*n);for(var f=new e(function(t,e){return pv.naturalOrder(t.count()*t.volume(),e.count()*e.volume())});p.size();)f.push(p.pop());a(f,n-f.size());for(var g=new i;f.size();)g.push(f.pop());return g}var l=5,c=8-l,u=1e3,d=.75;return n.prototype={volume:function(t){var e=this;return e._volume&&!t||(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(e){var n=this,i=n.histo;if(!n._count_set||e){var r,o,s,a=0;for(r=n.r1;r<=n.r2;r++)for(o=n.g1;o<=n.g2;o++)for(s=n.b1;s<=n.b2;s++)index=t(r,o,s),a+=i[index]||0;n._count=a,n._count_set=!0}return n._count},copy:function(){var t=this;return new n(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(e){var n=this,i=n.histo;if(!n._avg||e){var r,o,s,a,c,u=0,d=1<<8-l,h=0,p=0,f=0;for(o=n.r1;o<=n.r2;o++)for(s=n.g1;s<=n.g2;s++)for(a=n.b1;a<=n.b2;a++)c=t(o,s,a),r=i[c]||0,u+=r,h+=r*(o+.5)*d,p+=r*(s+.5)*d,f+=r*(a+.5)*d;u?n._avg=[~~(h/u),~~(p/u),~~(f/u)]:n._avg=[~~(d*(n.r1+n.r2+1)/2),~~(d*(n.g1+n.g2+1)/2),~~(d*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(t){var e=this,n=t[0]>>c;return gval=t[1]>>c,bval=t[2]>>c,n>=e.r1&&n<=e.r2&&gval>=e.g1&&n<=e.g2&&bval>=e.b1&&n<=e.b2}},i.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,n=0;n<e.size();n++)if(e.peek(n).vbox.contains(t))return e.peek(n).color;return this.nearest(t)},nearest:function(t){for(var e,n,i,r=this.vboxes,o=0;o<r.size();o++)n=Math.sqrt(Math.pow(t[0]-r.peek(o).color[0],2)+Math.pow(t[1]-r.peek(o).color[1],2)+Math.pow(t[1]-r.peek(o).color[1],2)),(n<e||void 0===e)&&(e=n,i=r.peek(o).color);return i},forcebw:function(){var t=this.vboxes;t.sort(function(t,e){return pv.naturalOrder(pv.sum(t.color),pv.sum(e.color))});var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var n=t.length-1,i=t[n].color;i[0]>251&&i[1]>251&&i[2]>251&&(t[n].color=[255,255,255])}},{quantize:a}}();(function(){var t;window.GD||(window.GD={}),t=function(){function t(t,e,n){this.image=t,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=e,this.height=this.canvas.height=n,this.context.drawImage(this.image,0,0,this.width,this.height)}return t.prototype.getImageData=function(t,e,n,i){return this.context.getImageData(t,e,n,i)},t.prototype.removeCanvas=function(){return this.canvas.parentNode.removeChild(this.canvas)},t}(),GD.ColorExtractor=function(){function e(t,e,n){this.image=t,this.imageWidth=e,this.imageHeight=n,this.imageWidth||(this.imageWidth=this.image.width),this.imageHeight||(this.imageHeight=this.image.height)}return e.prototype.dominateColor=function(e,n,i,r){var o,s,a,l,c,u,d,h,p,f,g,m,v,y,b,w,_,x;for(l=6,b=10,e||(e=0),n||(n=0),
i||(i=this.imageWidth),r||(r=this.imageHeight),d=new t(this.image,this.imageWidth,this.imageHeight),h=d.getImageData(e,n,i,r),y=h.data,v=i*r,m=[],u=p=0,_=v,x=b;x>0?p<=_:p>=_;u=p+=x)f=4*u,w=y[f],c=y[f+1],s=y[f+2],o=y[f+3],o>=125&&!(w>250&&c>250&&s>250)&&m.push([w,c,s]);if(a=MMCQ.quantize(m,l),g=a?a.palette():null,d.removeCanvas(),g)return g[0]},e}()}).call(this),function(){function t(n,i){if(n=n?n:"",i=i||{},n instanceof t)return n;if(!(this instanceof t))return new t(n,i);var r=e(n);this._originalInput=n,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=G(100*this._a)/100,this._format=i.format||r.format,this._gradientType=i.gradientType,this._r<1&&(this._r=G(this._r)),this._g<1&&(this._g=G(this._g)),this._b<1&&(this._b=G(this._b)),this._ok=r.ok,this._tc_id=L++}function e(t){var e={r:0,g:0,b:0},i=1,o=!1,a=!1;return"string"==typeof t&&(t=P(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=n(t.r,t.g,t.b),o=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=I(t.s),t.v=I(t.v),e=s(t.h,t.s,t.v),o=!0,a="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=I(t.s),t.l=I(t.l),e=r(t.h,t.s,t.l),o=!0,a="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=C(i),{ok:o,format:t.format||a,r:F(255,R(e.r,0)),g:F(255,R(e.g,0)),b:F(255,R(e.b,0)),a:i}}function n(t,e,n){return{r:255*D(t,255),g:255*D(e,255),b:255*D(n,255)}}function i(t,e,n){t=D(t,255),e=D(e,255),n=D(n,255);var i,r,o=R(t,e,n),s=F(t,e,n),a=(o+s)/2;if(o==s)i=r=0;else{var l=o-s;switch(r=a>.5?l/(2-o-s):l/(o+s),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,l:a}}function r(t,e,n){function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var r,o,s;if(t=D(t,360),e=D(e,100),n=D(n,100),0===e)r=o=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=i(l,a,t+1/3),o=i(l,a,t),s=i(l,a,t-1/3)}return{r:255*r,g:255*o,b:255*s}}function o(t,e,n){t=D(t,255),e=D(e,255),n=D(n,255);var i,r,o=R(t,e,n),s=F(t,e,n),a=o,l=o-s;if(r=0===o?0:l/o,o==s)i=0;else{switch(o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,v:a}}function s(t,e,n){t=6*D(t,360),e=D(e,100),n=D(n,100);var i=z.floor(t),r=t-i,o=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),l=i%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:255*c,g:255*u,b:255*d}}function a(t,e,n,i){var r=[M(G(t).toString(16)),M(G(e).toString(16)),M(G(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function l(t,e,n,i){var r=[M(A(i)),M(G(t).toString(16)),M(G(e).toString(16)),M(G(n).toString(16))];return r.join("")}function c(e,n){n=0===n?0:n||10;var i=t(e).toHsl();return i.s-=n/100,i.s=$(i.s),t(i)}function u(e,n){n=0===n?0:n||10;var i=t(e).toHsl();return i.s+=n/100,i.s=$(i.s),t(i)}function d(e){return t(e).desaturate(100)}function h(e,n){n=0===n?0:n||10;var i=t(e).toHsl();return i.l+=n/100,i.l=$(i.l),t(i)}function p(e,n){n=0===n?0:n||10;var i=t(e).toRgb();return i.r=R(0,F(255,i.r-G(255*-(n/100)))),i.g=R(0,F(255,i.g-G(255*-(n/100)))),i.b=R(0,F(255,i.b-G(255*-(n/100)))),t(i)}function f(e,n){n=0===n?0:n||10;var i=t(e).toHsl();return i.l-=n/100,i.l=$(i.l),t(i)}function g(e,n){var i=t(e).toHsl(),r=(G(i.h)+n)%360;return i.h=r<0?360+r:r,t(i)}function m(e){var n=t(e).toHsl();return n.h=(n.h+180)%360,t(n)}function v(e){var n=t(e).toHsl(),i=n.h;return[t(e),t({h:(i+120)%360,s:n.s,l:n.l}),t({h:(i+240)%360,s:n.s,l:n.l})]}function y(e){var n=t(e).toHsl(),i=n.h;return[t(e),t({h:(i+90)%360,s:n.s,l:n.l}),t({h:(i+180)%360,s:n.s,l:n.l}),t({h:(i+270)%360,s:n.s,l:n.l})]}function b(e){var n=t(e).toHsl(),i=n.h;return[t(e),t({h:(i+72)%360,s:n.s,l:n.l}),t({h:(i+216)%360,s:n.s,l:n.l})]}function w(e,n,i){n=n||6,i=i||30;var r=t(e).toHsl(),o=360/i,s=[t(e)];for(r.h=(r.h-(o*n>>1)+720)%360;--n;)r.h=(r.h+o)%360,s.push(t(r));return s}function _(e,n){n=n||6;for(var i=t(e).toHsv(),r=i.h,o=i.s,s=i.v,a=[],l=1/n;n--;)a.push(t({h:r,s:o,v:s})),s=(s+l)%1;return a}function x(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function C(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function D(t,e){T(t)&&(t="100%");var n=S(t);return t=F(e,R(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),z.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function $(t){return F(1,R(0,t))}function k(t){return parseInt(t,16)}function T(t){return"string"==typeof t&&t.indexOf(".")!=-1&&1===parseFloat(t)}function S(t){return"string"==typeof t&&t.indexOf("%")!=-1}function M(t){return 1==t.length?"0"+t:""+t}function I(t){return t<=1&&(t=100*t+"%"),t}function A(t){return Math.round(255*parseFloat(t)).toString(16)}function E(t){return k(t)/255}function P(t){t=t.replace(O,"").replace(j,"").toLowerCase();var e=!1;if(H[t])t=H[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=B.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=B.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=B.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=B.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=B.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=B.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=B.hex8.exec(t))?{a:E(n[1]),r:k(n[2]),g:k(n[3]),b:k(n[4]),format:e?"name":"hex8"}:(n=B.hex6.exec(t))?{r:k(n[1]),g:k(n[2]),b:k(n[3]),format:e?"name":"hex"}:!!(n=B.hex3.exec(t))&&{r:k(n[1]+""+n[1]),g:k(n[2]+""+n[2]),b:k(n[3]+""+n[3]),format:e?"name":"hex"}}function N(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var O=/^\s+/,j=/\s+$/,L=0,z=Math,G=z.round,F=z.min,R=z.max,q=z.random;t.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,i,r,o,s=this.toRgb();return t=s.r/255,e=s.g/255,n=s.b/255,i=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),r=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),o=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*i+.7152*r+.0722*o},setAlpha:function(t){return this._a=C(t),this._roundA=G(100*this._a)/100,this},toHsv:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=o(this._r,this._g,this._b),e=G(360*t.h),n=G(100*t.s),i=G(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b),e=G(360*t.h),n=G(100*t.s),r=G(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return a(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return l(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:G(this._r),g:G(this._g),b:G(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+G(this._r)+", "+G(this._g)+", "+G(this._b)+")":"rgba("+G(this._r)+", "+G(this._g)+", "+G(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:G(100*D(this._r,255))+"%",g:G(100*D(this._g,255))+"%",b:G(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+G(100*D(this._r,255))+"%, "+G(100*D(this._g,255))+"%, "+G(100*D(this._b,255))+"%)":"rgba("+G(100*D(this._r,255))+"%, "+G(100*D(this._g,255))+"%, "+G(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(U[a(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var n="#"+l(this._r,this._g,this._b,this._a),i=n,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=t(e);i=o.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+n+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return r?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return t(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(_,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(v,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},t.fromRatio=function(e,n){if("object"==typeof e){var i={};for(var r in e)e.hasOwnProperty(r)&&("a"===r?i[r]=e[r]:i[r]=I(e[r]));e=i}return t(e,n)},t.equals=function(e,n){return!(!e||!n)&&t(e).toRgbString()==t(n).toRgbString()},t.random=function(){return t.fromRatio({r:q(),g:q(),b:q()})},t.mix=function(e,n,i){i=0===i?0:i||50;var r,o=t(e).toRgb(),s=t(n).toRgb(),a=i/100,l=2*a-1,c=s.a-o.a;r=l*c==-1?l:(l+c)/(1+l*c),r=(r+1)/2;var u=1-r,d={r:s.r*r+o.r*u,g:s.g*r+o.g*u,b:s.b*r+o.b*u,a:s.a*a+o.a*(1-a)};return t(d)},t.readability=function(e,n){var i=t(e),r=t(n);return(Math.max(i.getLuminance(),r.getLuminance())+.05)/(Math.min(i.getLuminance(),r.getLuminance())+.05)},t.isReadable=function(e,n,i){var r,o,s=t.readability(e,n);switch(o=!1,r=N(i),r.level+r.size){case"AAsmall":case"AAAlarge":o=s>=4.5;break;case"AAlarge":o=s>=3;break;case"AAAsmall":o=s>=7}return o},t.mostReadable=function(e,n,i){var r,o,s,a,l=null,c=0;i=i||{},o=i.includeFallbackColors,s=i.level,a=i.size;for(var u=0;u<n.length;u++)r=t.readability(e,n[u]),r>c&&(c=r,l=t(n[u]));return t.isReadable(e,l,{level:s,size:a})||!o?l:(i.includeFallbackColors=!1,t.mostReadable(e,["#fff","#000"],i))};var H=t.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=t.hexNames=x(H),B=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):window.tinycolor=t}(),function(){var t,e,n,i,r;e=function(){return $(".entry-container footer.published .powered-by")},i=function(t){var n,i,r;return r="string"==typeof t?t:"rgb "+t.join(" "),i=tinycolor(r),n=i.getBrightness(),e().addClass(n<160?"light":"").css("opacity",1)},r=function(){return e().css("opacity",1)},n=function(){var t,n,i,r,o,s;return t=e(),i=t.width(),n=t.height(),o=($(window).width()-i)/2,r=$(window).height(),s=$(document).height()>r?r-parseInt($("footer").css("paddingBottom"))-n/2:t.offset().top,[o,s,i,n]},t=function(){var t,e,o,s;return o=null!=(s=$("body").css("background-image"))?s.replace("url(","").replace(")","").replace(/"/g,""):void 0,o&&"none"!==o?GD.isIE()?r():(t=$("<img />").attr("crossorigin","anonymous").attr("src",o),t.on("load",function(){var t,e,o,s,a,l,c,u,d,h;return Modernizr.canvas&&(u=$(window).width(),c=$(window).height(),s="repeat"===$("body").css("background-repeat")&&this.width<u&&this.height<c,s?e=new GD.ColorExtractor(this).dominateColor():(a=n(),d=a[0],h=a[1],l=a[2],o=a[3],t=new GD.ColorExtractor(this,u,c),e=t.dominateColor(d,h,l,o))),e?i(e):r()})):(e=$("body").css("background-color"),e&&"none"!==e?i(e):r())},$(document).on("page:load ready",function(){if(e().length>0)return t()})}.call(this),function(){var t;t=function(){var t;if(t=parent.postMessage?parent:parent.document.postMessage?parent.document:void 0,null!=t)return t.postMessage({event:"heightChanged",token:$("#new_entry").data("form-token"),value:$("body").height()+20},"*")},$(window).on("load customLoad",t),$("html").css("visibility","visible")}.call(this),function(){var t,e,n,i,r,o,s,a;t="[type=checkbox]",n="[type=radio]",i="select",e=2592e6,o=function(t){return $("[name='"+t+"']").closest(".field").hasClass("with-cache")},s=function(t){return"FormAssociation"===t.closest(".field").data("type")},a=function(e){var r;return r=store.storeWithExpiration.get(e),_.each(r,function(e){var r;return r=$("[name='"+e.name+"']"),!!r.closest(".field").hasClass("with-cache")&&(r.is(t)?r.filter("[value="+e.value+"]").prop("checked",!0):r.is(n)?r.filter("[value="+e.value+"]").prop("checked",!0).trigger("change.formLogic"):r.is(i)?(r.data("value",e.value),s(r)?(r.append(new Option(e.text,e.value)),r.val(e.value).trigger("change")):r.val(e.value),"DropDown"===r.closest(".field").data("type")?r.trigger("change.formLogic"):void 0):r.val(e.value))})},r=function(t,n){var i,r,a;r=$(t).serializeArray(),_.each(r,function(t){var e;if(e=$("[name='"+t.name+"']"),_.startsWith(t.name,"entry[")&&s(e))return t.text=e.find("option:selected").text()}),i=_.filter(r,function(t){return _.startsWith(t.name,"entry[")&&0!==t.value.length&&o(t.name)});try{return store.storeWithExpiration.set(n,i,e)}catch(t){return a=t,store.clear(),store.storeWithExpiration.set(n,i,e)}},$(document).on("page:load ready",function(){var t,e;if(e=url(-1))return t="form_cache_"+e,a(t),$("#new_entry").on("submit",function(){if($('.with-cache:not(".logic-hidden")').length)return r($(this),t)})})}.call(this),function(){var t,e;e=function(t){var e;if(e=$(".entry-container .fields .field:not(.field-page-break)").first(),e.length)return e.tooltipster({content:t.html(),contentAsHTML:!0,theme:"gd-tooltip-smart gd-tooltip-hotspots hotspots-blue point-in-right",position:"left",interactive:!0,autoClose:!1,maxWidth:250,speed:600}),e.tooltipster("show")},t=function(t){return setTimeout(function(){return t.modal("show")},500)},$(document).on("page:load ready",function(){var n,i;if(i=$("#form_submission_onboarding_template"),n=$("#form_submission_onboarding_modal"),0!==i.length||0!==n.length)return i.length>0&&(e(i),$("#new_entry input[type=submit]").one("click.sitemaster",function(){return _smq.push(["custom","onboarding","submit_publish_form","sunmit_form"])})),n.length>0&&(n.one("click",".gd-btn-primary-natural",function(){return _smq.push(["custom","onboarding","submit_publish_form","redierct_to_entry_submit"])}).one("click",".ignore-link",function(){return _smq.push(["custom","onboarding","submit_publish_form","redierct_to_entry_cancel"])}),t(n)),$("#new_entry").on("click",".pagination-action.next-page:not(.working, .disabled)",function(){return $(".entry-container .fields .field:not(.field-page-break)").first().tooltipster("hide")})})}.call(this),function(){$(function(){return $(document).on("page:load ready",function(){if(GD.isLowVersionIE()&&0===$(".goods-warning").length&&($("body").prepend($('<div class="browser-version-warning">\u60a8\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u7248\u672c\u8f83\u4f4e\uff0c\u8bf7\u5347\u7ea7\u5230IE10\u6216\u4f7f\u7528<a href="http://rj.baidu.com/soft/detail/14744.html" target="_blank">\u8c37\u6b4c\u6d4f\u89c8\u5668</a>\u83b7\u5f97\u66f4\u4f73\u4f53\u9a8c\u3002</div>')),$(".browser-version-warning").css("margin-bottom",$("body").css("padding-top")),$("body").css("padding-top","0"),$("header.navbar.home-page").length>0))return $("header.navbar.home-page").css("top",$(".browser-version-warning").outerHeight())})})}.call(this),function(){var t;t=function(){return $(".mail-auto-complete").mailAutoComplete({focusClass:"gd-mail-auto-complete-focus-box",listClass:"gd-mail-auto-complete-list-default-box",markCalss:"gd-mail-auto-complete-mark-box",blurColor:"#333",boxClass:"gd-mail-auto-complete-list-box"})},$(document).on("ready page:load",t)}.call(this),function(){window.GD||(window.GD={})}.call(this);